<!doctype html><html><head><meta charset=utf-8><meta http-equiv=content-language content="zh-cn"><meta name=viewport content="width=device-width,initial-scale=.5"><title>Qt without Xcode ¬∑ ‰∏çÂÆâË£ÖXcodeÂºÄÂèëQtÂ∫îÁî®</title>
<link rel="shortcut icon" type=image/x-icon href=/media/shortcuticon.png><meta name=keywords content="Xcode,Qt,Qt Creator,Command,C++,C"><meta name=description content="Qt without Xcode,Â¶Ç‰ΩïÂú®‰∏ç‰ΩøÁî®XcodeÁöÑÂâçÊèê‰∏ãÂú®macOS‰∏≠‰ΩøÁî®Qt CreatorÂºÄÂèëQtÂ∫îÁî®Á®ãÂ∫è"><script>if(document.domain=="autoptr.pages.dev"){var url=window.location.href,url=url.replace(/autoptr+\.pages+\.dev/g,"www.autoptr.top");window.location.href=url}</script><script src=/jscss/ajax/libs/anchor-js/4.2.0/anchor.min.js></script><script>document.addEventListener("DOMContentLoaded",function(){anchors.options={visible:"hover",placement:"left",icon:"üåú"},anchors.add()})</script><link rel=stylesheet href=/css/main.css><link href=/jscss/ajax/libs/highlight.js/9.12.0/styles/atom-one-dark.min.css rel=stylesheet><script src=/jscss/ajax/libs/highlight.js/9.12.0/highlight.min.js></script><script>hljs.initHighlightingOnLoad()</script><style type=text/css>body{background-color:#fbf6ec}</style><script>top.location!=self.location&&(top.location=self.location)</script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?746e6e6d14d22526bf274c834750df53",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script></head><body><script>window.addEventListener("resize",resizeThrottler,!1);var resizeTimeout;function resizeThrottler(){resizeTimeout||(resizeTimeout=setTimeout(function(){resizeTimeout=null,actualResizeHandler()},66))}actualResizeHandler();function actualResizeHandler(){/mobile/i.test(navigator.userAgent)||/android/i.test(navigator.userAgent)?document.body.classList.add("mobile"):document.body.classList.remove("mobile")}</script><a id=mysite-singlepage-top></a><div class=inner style=position:relative><div class=blog-post><h1 class=blog-title align=center><span class=btContent>Qt without Xcode ¬∑ ‰∏çÂÆâË£ÖXcodeÂºÄÂèëQtÂ∫îÁî®</span><span class=btRight><span title="Translator ¬∑ ÁøªËØë" class=author><a href=https://gist.github.com/shoogle/750a330c851bd1a924dfe1346b0b4a08#file-qt-without-xcode-md style=color:#007cd5 title="Related or Quoted Post ¬∑ ÂÖ≥ËÅîÊàñËΩ¨ËΩΩÂºïÁî®ÁöÑÊñáÁ´†" target=_blank rel="nofollow noopener noreferrer">&#128681;</a><a href=.. title="Back to Topics ¬∑ Âõû‰∏ªÈ¢òÈ°µ">&#127793;</a></span></h1><p><em><strong>How to use Qt Creator for software development on macOS without having to install Xcode</strong></em></p><h2 id=justification>Justification</h2><p>Qt refuses to install on macOS unless Apple&rsquo;s Xcode is installed beforehand.
This is unfortunate because:</p><ul><li><strong>Xcode is huge!</strong><ul><li>The full IDE is a 5 GB download, and can occupy 20 GB+ of space on disk.</li></ul></li><li><strong>Qt doesn&rsquo;t actually need the full IDE.</strong><ul><li>Only Xcode&rsquo;s command line utilities are required for macOS application development¬π.</li></ul></li><li><strong>Developers may never actually use Xcode.</strong><ul><li>They can program in Qt Creator, like they do in Windows and Linux.</li></ul></li></ul><p>Downloading and installing the command line utilities <em>without</em> Xcode saves time and bandwidth,
and means that valuable SSD storage space is kept for better uses.</p><p><em>¬π I believe the full Xcode IDE is required for developing iOS apps with Qt
(i.e. apps for iPads and iPhones)
but I&rsquo;m not sure about this as I&rsquo;m not an iOS developer.</em></p><h2 id=instructions>Instructions</h2><h3 id=summary>Summary</h3><ol><li><strong>Install Xcode&rsquo;s Command Line Tools (i.e. not Xcode itself).</strong></li></ol><ul><li>Run in Terminal: <code>xcode-select --install</code></li></ul><ol start=2><li><strong>Install Qt using the Online Installer.</strong></li></ol><ul><li>Download links:<ul><li>Open Source: <a href=https://www.qt.io/download-open-source>https://www.qt.io/download-open-source</a></li><li>Commercial: <a href=https://www.qt.io/download>https://www.qt.io/download</a></li></ul></li><li>The installer will complain that Xcode is not installed.<ul><li>Keep clicking &ldquo;OK&rdquo; until the message goes away permanently (after 12 clicks).</li></ul></li><li>Remember where you installed Qt (default location is <code>~/Qt</code>).<ul><li>If you used a different location then you will need to change subsequent commands accordingly.</li></ul></li></ul><ol start=3><li><strong>Make sure Qt Creator uses the correct C++ Compiler.</strong></li></ol><ul><li>Launch Qt Creator for the first time from the command line,
with the location of the command line tools compilers in <code>${PATH}</code>:<ul><li><code>PATH="$(xcode-select -p)/usr/bin:${PATH}" ~/Qt/Qt\ Creator.app/Contents/MacOS/Qt\ Creator</code></li></ul></li><li>Go to Qt Creator > Preferences > Build & Run > Kits and select a build kit (e.g. <code>Desktop Qt 5...</code>).</li><li>Check that both the C compiler and the C++ compiler are:<ul><li><code>clang</code> (not <code>gcc</code>)</li><li>from the Command Line Tools (not the default compilers in <code>/usr/bin</code>)</li></ul></li><li>Close Qt Creator.<ul><li>You can launch Qt Creator the normal way in future (e.g. via Spotlight).</li></ul></li></ul><ol start=4><li><strong>If your Qt version is older than Qt 5.9.2 then you need to update some QMake files.</strong></li></ol><ul><li>Navigate to the directory <code>~/Qt/&lt;version>/clang_64/mkspecs/features/mac</code></li><li>Make a backup copy of the following files before replacing them with newer versions from <a href=https://github.com/qt/qtbase/commit/fa7626713b3a943609453459190e16c49d61dfd3 title="git commit diff">this git commit</a>:<ul><li>Replace <code>sdk.prf</code> with this <a href=https://github.com/qt/qtbase/blob/fa7626713b3a943609453459190e16c49d61dfd3/mkspecs/features/mac/sdk.prf>newer version</a>.</li><li>Replace <code>default_pre.prf</code> with this <a href=https://github.com/qt/qtbase/blob/fa7626713b3a943609453459190e16c49d61dfd3/mkspecs/features/mac/default_pre.prf>newer version</a>.</li><li>Make this change to the file <code>default_post.prf</code>:<ul><li>Find the line <code>cache(QMAKE_XCODE_VERSION, stash)</code></li><li>Replace it with <code>!isEmpty(QMAKE_XCODE_VERSION): cache(QMAKE_XCODE_VERSION, stash)</code></li></ul></li></ul></li></ul><p>All done!</p><h2 id=step-by-step>Step-by-step</h2><h3 id=step-1---download--install-xcodes-command-line-tools>Step 1 - Download & install Xcode&rsquo;s Command Line Tools</h3><p>Open a Terminal (press Cmd+Space and type &ldquo;Terminal&rdquo;) and enter this command:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>xcode-select --install
</span></span></code></pre></div><p>Press the Return key to execute the command.</p><h3 id=step-2---download--install-qt-and-qt-creator>Step 2 - Download & install Qt and Qt Creator</h3><p>Packages are available for MacPorts and Homebrew,
but it&rsquo;s usually best to get it straight from the source:</p><ul><li>Open Source: <a href=https://www.qt.io/download-open-source>https://www.qt.io/download-open-source</a></li><li>Commercial: <a href=https://www.qt.io/download>https://www.qt.io/download</a></li></ul><p>The Online Installer is probably the best option for most people.</p><p><em>Tip: when you run the Online Installer it will prompt you to log in with Qt online credentials,
but open-source users can skip this step without entering anything.</em></p><p>At a certain point during the install the following error message will appear:</p><blockquote><p>You need to install Xcode version 5.0.0.
Download Xcode from <a href=https://developer.apple.com/xcode>https://developer.apple.com/xcode</a></p></blockquote><p>Press &ldquo;OK&rdquo; or ESC to dismiss the dialog. It will come back again.
<strong>Keep pressing &ldquo;OK&rdquo; or ESC and the dialog will eventually go away for good!</strong>
You have to dismiss the dialog a total of 12 times before you can continue.</p><p><em>Hint: Once Qt is installed you can delete the installer as you won&rsquo;t need it again.
If you want to update or remove Qt you have to use the MaintenanceTool in the Qt directory.</em></p><h3 id=step-3---make-sure-qt-creator-uses-the-correct-c-compiler>Step 3 - Make sure Qt Creator uses the correct C++ Compiler.</h3><p>Run this command in a Terminal windows to find out where Xcode&rsquo;s Command Line Tools are installed:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>xcode-select --print-path
</span></span></code></pre></div><p>The result will probably be <code>/Library/Developer/CommandLineTools</code>,
unless Xcode is installed. Whatever the result,
you need to append &ldquo;/usr/bin&rdquo; to get something along the lines of:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>/Library/Developer/CommandLineTools/usr/bin
</span></span></code></pre></div><p>Run Qt Creator once with this location stored in your <code>${PATH}</code> environment variable:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>PATH<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#66d9ef>$(</span>xcode-select -p<span style=color:#66d9ef>)</span><span style=color:#e6db74>/usr/bin:</span><span style=color:#e6db74>${</span>PATH<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span> ~/Qt/Qt<span style=color:#ae81ff>\ </span>Creator.app/Contents/MacOS/Qt<span style=color:#ae81ff>\ </span>Creator
</span></span></code></pre></div><p>Go to Qt Creator > Preferences > Build & Run > Kits and select a build kit (e.g. <code>Desktop Qt 5...</code>).</p><p>Check that the C and C++ compilers are the ones from the command line tools,
not the default compilers in <code>/usr/bin</code>.
Also check that <code>clang</code> is used for both compilers, not <code>gcc</code>.</p><p>Qt Creator will remember the locations of the compilers,
so in future you can launch Qt Creator the normal way via Spotlight.</p><h3 id=step-4---update-some-qmake-files-only-necessary-for-qt-versions-older-than-qt-592>Step 4 - Update some QMake files (only necessary for Qt versions older than Qt 5.9.2)</h3><p>The <code>xcrun</code> or <code>xcodebuild</code> utilities can be used to show where Xcode&rsquo;s Command Line Tools are installed,
but only <code>xcrun</code> works when Xcode itself is not installed.</p><h4 id=qt-592-and-later>Qt 5.9.2 and later</h4><p>Recent Qt versions use <code>xcrun</code> already, so there&rsquo;s nothing left for you to do!</p><h4 id=qt-591-and-older>Qt 5.9.1 and older</h4><p>Older Qt versions try to use <code>xcodebuild</code> to find out where the utilities are installed.
This fails with the following error message unless Xcode is installed:</p><blockquote><p>Project ERROR: Could not resolve SDK Path for &lsquo;macosx&rsquo;
Error while parsing file <code>&lt;filename.pro></code>. Giving up.</p></blockquote><p>You need to tell QMake to use <code>xcrun</code> instead.</p><p>Open a Terminal and change directory to where the QMake files are stored.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd ~/Qt <span style=color:#75715e># or wherever you installed Qt</span>
</span></span><span style=display:flex><span>cd 5.8 <span style=color:#75715e># or whichever version you have installed</span>
</span></span><span style=display:flex><span>cd clang_64/mkspecs/features/mac
</span></span></code></pre></div><p>Now copy and paste these new commands <strong>into the same Terminal window</strong>
to create backup copies of some files:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#66d9ef>function</span> backup_files<span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> file in <span style=color:#e6db74>&#34;</span>$@<span style=color:#e6db74>&#34;</span>; <span style=color:#66d9ef>do</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>[[</span> -f <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>file<span style=color:#e6db74>}</span><span style=color:#e6db74>.backup&#34;</span> <span style=color:#f92672>]]</span> <span style=color:#f92672>||</span> cp <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>file<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span> <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>file<span style=color:#e6db74>}</span><span style=color:#e6db74>.backup&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>done</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>backup_files sdk.prf default_pre.prf default_post.prf
</span></span></code></pre></div><p>Press the Return key after the final command.</p><p>If that all went OK then run these commands to update the files:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>url_base<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;https://raw.githubusercontent.com/qt/qtbase&#39;</span>
</span></span><span style=display:flex><span>commit<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;fa7626713b3a943609453459190e16c49d61dfd3&#39;</span>
</span></span><span style=display:flex><span>dir<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;mkspecs/features/mac&#39;</span>
</span></span><span style=display:flex><span>curl -O <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>url_base<span style=color:#e6db74>}</span><span style=color:#e6db74>/</span><span style=color:#e6db74>${</span>commit<span style=color:#e6db74>}</span><span style=color:#e6db74>/</span><span style=color:#e6db74>${</span>dir<span style=color:#e6db74>}</span><span style=color:#e6db74>/sdk.prf&#34;</span>
</span></span><span style=display:flex><span>curl -O <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>url_base<span style=color:#e6db74>}</span><span style=color:#e6db74>/</span><span style=color:#e6db74>${</span>commit<span style=color:#e6db74>}</span><span style=color:#e6db74>/</span><span style=color:#e6db74>${</span>dir<span style=color:#e6db74>}</span><span style=color:#e6db74>/default_pre.prf&#34;</span>
</span></span><span style=display:flex><span>old_line<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;cache(QMAKE_XCODE_VERSION, stash)&#39;</span>
</span></span><span style=display:flex><span>new_line<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;!isEmpty(QMAKE_XCODE_VERSION): cache(QMAKE_XCODE_VERSION, stash)&#39;</span>
</span></span><span style=display:flex><span>sed <span style=color:#e6db74>&#34;s|^</span><span style=color:#e6db74>${</span>old_line<span style=color:#e6db74>}</span><span style=color:#e6db74>\$|</span><span style=color:#e6db74>${</span>new_line<span style=color:#e6db74>}</span><span style=color:#e6db74>|&#34;</span> &lt;default_post.prf.backup &gt;default_post.prf
</span></span></code></pre></div><p>You can see the changes made <a href=https://github.com/qt/qtbase/commit/fa7626713b3a943609453459190e16c49d61dfd3 title="git commit diff">here</a> if you are interested.</p><h2 id=reusing-this-material>Reusing this material</h2><h3 id=referencing>Referencing</h3><p><a href=https://gist.github.com/shoogle/750a330c851bd1a924dfe1346b0b4a08 title="GitHub gist">Qt without Xcode how-to</a> by Peter Jonas (<a href=https://github.com/shoogle title="shoogle's GitHub user profile">shoogle</a>) / <a href=http://creativecommons.org/licenses/by/4.0/ title="View license text on the Creative Commons website">CC BY 4.0</a></p><h3 id=license>License</h3><p><a href=http://creativecommons.org/licenses/by/4.0/ title="View license text on the Creative Commons website"><img alt="Creative Commons License" src=https://i.creativecommons.org/l/by/4.0/88x31.png title="CC BY"></a></p><p>This work is licensed under a <a href=http://creativecommons.org/licenses/by/4.0/ title="View license text on the Creative Commons website">Creative Commons Attribution 4.0 International License</a>.</p><ins class=adsbygoogle style=display:block data-ad-client=ca-pub-8922574795542092 data-ad-slot=2802455178 data-ad-format=auto data-full-width-responsive=true></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><footer><p style="margin:0 -3px"><span style="float:left;margin:0 -3px"><a href=#mysite-singlepage-top title="Back to Top ¬∑ ÂõûÈ°∂ÈÉ®" rel=nofollow>&#127772;2020-04-19 </a>&copy;</span>
<span style="float:right;margin:0 -3px"><a href=https://autoptr.top/license/ title="Copyright &copy; All rights reserved" target=_blank rel=nofollow>&copy; 2025 AuTopTr ÁâàÊùÉÊâÄÊúâ</a><a href=https://autoptr.top/ title="Back to Home ¬∑ ÂõûÈ¶ñÈ°µ">&#127771;</a></span></p><hr><hr><p style="margin:3px 5px"><ul class=tags><span>Ê†áÁ≠æ:</span><li><a class=link href=https://autoptr.top/tags/xcode target=_blank>xcode</a></li><li><a class=link href=https://autoptr.top/tags/C++ target=_blank>C++</a></li><span>&nbsp;&nbsp;</span>
<span>ÂàÜÁ±ª:</span><li><a class=link href=https://autoptr.top/categories/Notes target=_blank>Notes</a></li><li><a class=link href=https://autoptr.top/categories/Qt target=_blank>Qt</a></li><li><a class=link href=https://autoptr.top/categories/macOS target=_blank>macOS</a></li><li><a class=link href=https://autoptr.top/categories/CC++ target=_blank>CC++</a></li></ul><p style=margin-bottom:2em></p></p></footer></div><script src=/jscss/ajax/libs/jquery/3.3.1/jquery.slim.min.js></script><script src=/jscss/ajax/libs/twitter-bootstrap/3.1.1/js/bootstrap.min.js></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-37ZP0S1L3D"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-37ZP0S1L3D")</script><script src=/jscss/ajax/libs/medium-zoom/1.0.4/medium-zoom.min.js></script><script>const zoom=mediumZoom();zoom.attach("p img")</script></body></html>