<!doctype html><html><head><meta charset=utf-8><meta http-equiv=content-language content="zh-cn"><meta name=viewport content="width=device-width,initial-scale=.5"><title>NS_ENUM & NS_OPTIONS</title>
<link rel="shortcut icon" type=image/x-icon href=/media/shortcuticon.png><meta name=keywords content="NS_ENUM & NS_OPTIONS,macOS,C++,Cocoa,Objective-C,Swift,NSHipster"><meta name=description content="NS_ENUM & NS_OPTIONS,macOS,C++,Cocoa,Objective-C,Swift,NSHipster"><script>if(document.domain=="autoptr.pages.dev"){var url=window.location.href,url=url.replace(/autoptr+\.pages+\.dev/g,"www.autoptr.top");window.location.href=url}</script><script src=/jscss/ajax/libs/anchor-js/4.2.0/anchor.min.js></script><script>document.addEventListener("DOMContentLoaded",function(){anchors.options={visible:"hover",placement:"left",icon:"ğŸŒœ"},anchors.add()})</script><link rel=stylesheet href=/css/main.css><link href=/jscss/ajax/libs/highlight.js/9.12.0/styles/atom-one-dark.min.css rel=stylesheet><script src=/jscss/ajax/libs/highlight.js/9.12.0/highlight.min.js></script><script>hljs.initHighlightingOnLoad()</script><style type=text/css>body{background-color:#fbf6ec}</style><script>top.location!=self.location&&(top.location=self.location)</script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?746e6e6d14d22526bf274c834750df53",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script></head><body><script>window.addEventListener("resize",resizeThrottler,!1);var resizeTimeout;function resizeThrottler(){resizeTimeout||(resizeTimeout=setTimeout(function(){resizeTimeout=null,actualResizeHandler()},66))}actualResizeHandler();function actualResizeHandler(){/mobile/i.test(navigator.userAgent)||/android/i.test(navigator.userAgent)?document.body.classList.add("mobile"):document.body.classList.remove("mobile")}</script><a id=mysite-singlepage-top></a><div class=inner style=position:relative><div class=blog-post><h1 class=blog-title align=center><span class=btContent>NS_ENUM & NS_OPTIONS</span><span class=btRight><span title="Author Â· ä½œè€…" class=author>Mattt</span> <span title="Translator Â· ç¿»è¯‘" class=author>Croath Liu</span> <a href=https://github.com/NSHipster/articles-zh-Hans style=color:#007cd5 title="Related or Quoted Post Â· å…³è”æˆ–è½¬è½½å¼•ç”¨çš„æ–‡ç« " target=_blank rel="nofollow noopener noreferrer">&#128681;</a><a href=/tutorials/NSHipster/ title="Back to Topics Â· å›ä¸»é¢˜é¡µ">&#127793;</a></span></h1><p>ä¸€åˆ‡çš†ä¸ºå¯¹è±¡ã€‚</p><p>å…¶å®æœ‰å¾ˆå¤šç§æ–¹å¼ä½ å¯ä»¥åœ¨é¢å‘è¿‡ç¨‹å’Œé¢å‘å¯¹è±¡é—´äº’ç›¸è½¬åŒ–ï¼Œä½†æœ¬æ–‡çš„ç›®çš„æ˜¯ï¼šæœ‰æ—¶å€™æŠ›å¼ƒCå±‚é¢çš„ä¸œè¥¿ä¹Ÿæ˜¯å¾ˆå¥½çš„ã€‚</p><p>æ˜¯çš„â€”â€”å¯¹äºè¿™ç§Smalltalkä¸€æ ·æ‚äº¤è€Œæˆçš„è¯­è¨€ä¸­çš„éé¢å‘å¯¹è±¡éƒ¨åˆ†è€Œè¨€ï¼ŒCè¯­è¨€æ˜¯å¾ˆæœ‰é­…åŠ›çš„ä¸€éƒ¨åˆ†ã€‚å®ƒé€Ÿåº¦å¿«ã€ä¹…ç»è€ƒéªŒï¼Œæ˜¯ç°ä»£è®¡ç®—æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ã€‚è€Œä¸”å½“é¢å‘å¯¹è±¡èŒƒå¼å¤„äºè¿‡äºåºå¤§çš„è®¾è®¡è€Œæ˜¾å¾—è‡ƒè‚¿ä¸å ªçš„æ—¶å€™ï¼ŒCå°±å˜æˆäº†ä½ çš„â€œå®‰å…¨å‡ºå£â€ã€‚</p><p>é™æ€å‡½æ•°æ¯”ç¡¬è¦å¡å…¥ç±»ä¸­çš„æ–¹æ³•è¦å¥½ã€‚
æšä¸¾æ¯”å­—ç¬¦ä¸²å¸¸é‡è¦å¥½ã€‚
æŒ‰ä½æ©ç æ¯”å­—ç¬¦ä¸²å¸¸é‡ç»„æˆçš„æ•°ç»„è¦å¥½ã€‚
è¿‡ç¨‹åŒ–æŒ‡ä»¤æ¯”runtime hackè¦å¥½ã€‚</p><p>ä¸€ä¸ªä¸“ä¸šçš„Objective-Cå·¥ç¨‹å¸ˆåº”è¯¥åœ¨é¢å‘å¯¹è±¡å’Œé¢å‘è¿‡ç¨‹èŒƒå¼é—´ä¼˜é›…åœ°åˆ‡æ¢ï¼ŒåŒæ—¶èƒ½å¤ŸæŒæ¡äºŒè€…çš„ä¼˜åŠ¿ã€‚</p><p>è€Œå…³äºè¿™ä¸€ç‚¹ï¼Œæœ¬å‘¨çš„è¯é¢˜å›´ç»•çš„æ˜¯è¿™ä¸¤ä¸ªç®€å•è€Œæ–¹ä¾¿çš„å®å®šä¹‰ï¼š <code>NS_ENUM</code> å’Œ <code>NS_OPTIONS</code>ã€‚</p><hr><p><code>NS_ENUM</code> å’Œ <code>NS_OPTIONS</code> éƒ½ä¸ç®—å¤ªå¤è€çš„å®ï¼Œåœ¨iOS 6 / OS X Mountain Lionæ‰å¼€å§‹æœ‰ï¼Œä»–ä»¬éƒ½æ˜¯ä»£æ›¿ <code>enum</code> çš„æ›´å¥½çš„åŠæ³•ã€‚</p><blockquote><p>å¦‚æœä½ æƒ³åœ¨æ›´æ—©çš„iOSæˆ–OS Xç³»ç»Ÿä¸­ä½¿ç”¨è¿™ä¸¤ä¸ªå®ï¼Œç®€å•å®šä¹‰ä¸€ä¸‹å°±å¥½äº†ï¼š</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#75715e>#ifndef NS_ENUM
</span></span></span><span style=display:flex><span><span style=color:#75715e>#define NS_ENUM(_type, _name) enum _name : _type _name; enum _name : _type
</span></span></span><span style=display:flex><span><span style=color:#75715e>#endif
</span></span></span></code></pre></div><p><code>enum</code>ï¼Œæˆ–è€…å…¶ä»–æšä¸¾ç±»å‹ï¼ˆä¾‹å¦‚æ¯å‘¨çš„æ˜ŸæœŸå‡ ï¼Œæˆ–TableViewCellçš„ç±»å‹ç­‰ï¼‰ï¼Œéƒ½æ˜¯é€šè¿‡Cçš„æ–¹æ³•å»ä¸ºé¢„è®¾å€¼å®šä¹‰å¸¸é‡ã€‚åœ¨ä¸€ä¸ª <code>enum</code> å®šä¹‰ä¸­ï¼Œæ²¡æœ‰è¢«èµ‹äºˆç‰¹åˆ«å€¼çš„å¸¸é‡éƒ½ä¼šè‡ªåŠ¨è¢«èµ‹ä¸ºä»0å¼€å§‹çš„è¿ç»­å€¼ã€‚</p><p>æœ‰å‡ ç§åˆæ³•çš„æ–¹å¼æ¥å®šä¹‰ <code>enum</code>ã€‚å®¹æ˜“äº§ç”Ÿå›°æƒ‘çš„åœ°æ–¹æ˜¯å®ƒä»¬æ¯ç§æ–¹æ³•ä¹‹é—´ç•¥æœ‰ä¸åŒï¼Œä½†ä¸å¿…é¡»æƒ³å¤ªå¤šï¼Œä»»é€‰ä¸€ç§å³å¯ã€‚</p><p>ä¾‹å¦‚ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#66d9ef>enum</span> {
</span></span><span style=display:flex><span>    UITableViewCellStyleDefault,
</span></span><span style=display:flex><span>    UITableViewCellStyleValue1,
</span></span><span style=display:flex><span>    UITableViewCellStyleValue2,
</span></span><span style=display:flex><span>    UITableViewCellStyleSubtitle
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><p>&mldr;å®šä¹‰æ•´å‹å€¼ï¼Œä½†ä¸å®šä¹‰ç±»å‹ã€‚</p><p>å¦ä¸€ç§æ–¹æ³•:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#66d9ef>typedef</span> <span style=color:#66d9ef>enum</span> {
</span></span><span style=display:flex><span>    UITableViewCellStyleDefault,
</span></span><span style=display:flex><span>    UITableViewCellStyleValue1,
</span></span><span style=display:flex><span>    UITableViewCellStyleValue2,
</span></span><span style=display:flex><span>    UITableViewCellStyleSubtitle
</span></span><span style=display:flex><span>} UITableViewCellStyle;
</span></span></code></pre></div><p>&mldr;å®šä¹‰é€‚åˆç‰¹æ€§å‚æ•°çš„ <code>UITableViewCellStyle</code> ç±»å‹ã€‚</p><p>ç„¶è€Œï¼Œä¹‹å‰è‹¹æœè‡ªå·±çš„ä»£ç ä¸­éƒ½ç”¨è¿™ç§æ–¹æ³•æ¥å®šä¹‰ <code>enum</code> ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#66d9ef>typedef</span> <span style=color:#66d9ef>enum</span> {
</span></span><span style=display:flex><span>    UITableViewCellStyleDefault,
</span></span><span style=display:flex><span>    UITableViewCellStyleValue1,
</span></span><span style=display:flex><span>    UITableViewCellStyleValue2,
</span></span><span style=display:flex><span>    UITableViewCellStyleSubtitle
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>typedef</span> NSInteger UITableViewCellStyle;
</span></span></code></pre></div><p>&mldr;è¿™ç§æ–¹æ³•ç»™å‡ºäº† <code>UITableViewCellStyle</code> ç¡®å®šçš„å¤§å°ï¼Œä½†å¹¶æ²¡æœ‰å‘Šè¯‰ç¼–è¯‘å™¨è¿™ä¸ªç±»å‹å’Œä¹‹å‰çš„ <code>enum</code> æœ‰ä»€ä¹ˆå…³ç³»ã€‚</p><p>è®©æˆ‘æ„ŸåŠ¨çš„æ˜¯è‹¹æœç»ˆäºç»™äº†è¿™ä¸ªâ€œå®ç»Ÿä¸€â€çš„ <code>NS_ENUM</code>ã€‚</p><h2 id=ns_enum><code>NS_ENUM</code></h2><p>ä»ç°åœ¨å¼€å§‹ <code>UITableViewCellStyle</code> çš„å®šä¹‰å·²ç»å˜æˆè¿™ä¸ªæ ·å­äº†ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#66d9ef>typedef</span> <span style=color:#a6e22e>NS_ENUM</span>(NSInteger, UITableViewCellStyle) {
</span></span><span style=display:flex><span>    UITableViewCellStyleDefault,
</span></span><span style=display:flex><span>    UITableViewCellStyleValue1,
</span></span><span style=display:flex><span>    UITableViewCellStyleValue2,
</span></span><span style=display:flex><span>    UITableViewCellStyleSubtitle
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><p><code>NS_ENUM</code> çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç”¨äºå­˜å‚¨çš„æ–°ç±»å‹çš„ç±»å‹ã€‚åœ¨64ä½ç¯å¢ƒä¸‹ï¼Œ<code>UITableViewCellStyle</code> å’Œ <code>NSInteger</code> ä¸€æ ·æœ‰8bytesé•¿ã€‚ä½ è¦ä¿è¯ä½ ç»™å‡ºçš„æ‰€æœ‰å€¼èƒ½è¢«è¯¥ç±»å‹å®¹çº³ï¼Œå¦åˆ™å°±ä¼šäº§ç”Ÿé”™è¯¯ã€‚ç¬¬äºŒä¸ªå‚æ•°æ˜¯æ–°ç±»å‹çš„åå­—ã€‚å¤§æ‹¬å·é‡Œé¢å’Œä»¥å‰ä¸€æ ·ï¼Œæ˜¯ä½ è¦å®šä¹‰çš„å„ç§å€¼ã€‚</p><p>è¿™ç§å®ç°æ–¹æ³•æå–äº†ä¹‹å‰å„ç§ä¸åŒå®ç°çš„ä¼˜ç‚¹ï¼Œç”šè‡³æœ‰æç¤ºç¼–è¾‘å™¨åœ¨è¿›è¡Œ <code>switch</code> åˆ¤æ–­æ—¶æ£€æŸ¥ç±»å‹åŒ¹é…çš„åŠŸèƒ½ã€‚</p><h2 id=ns_options><code>NS_OPTIONS</code></h2><p><code>enum</code> ä¹Ÿå¯ä»¥è¢«å®šä¹‰ä¸º<a href=https://en.wikipedia.org/wiki/Mask_(computing)>æŒ‰ä½æ©ç ï¼ˆbitmaskï¼‰</a>ã€‚ç”¨ç®€å•çš„<code>OR</code> (<code>|</code>)å’Œ<code>AND</code> (<code>&</code>)æ•°å­¦è¿ç®—å³å¯å®ç°å¯¹ä¸€ä¸ªæ•´å‹å€¼çš„ç¼–ç ã€‚æ¯ä¸€ä¸ªå€¼ä¸æ˜¯è‡ªåŠ¨è¢«èµ‹äºˆä»0å¼€å§‹ä¾æ¬¡ç´¯åŠ 1çš„å€¼ï¼Œè€Œæ˜¯æ‰‹åŠ¨è¢«èµ‹äºˆä¸€ä¸ªå¸¦æœ‰ä¸€ä¸ªbitåç§»é‡çš„å€¼ï¼šç±»ä¼¼<code>1 &lt;&lt; 0</code>ã€ <code>1 &lt;&lt; 1</code>ã€ <code>1 &lt;&lt; 2</code>ç­‰ã€‚å¦‚æœä½ èƒ½å¤Ÿå¿ƒç®—å‡ºæ¯ä¸ªæ•°å­—çš„äºŒè¿›åˆ¶è¡¨ç¤ºæ³•ï¼Œä¾‹å¦‚ï¼š<code>10110</code> ä»£è¡¨ 22ï¼Œæ¯ä¸€ä½éƒ½å¯ä»¥è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªå•ç‹¬çš„å¸ƒå°”å€¼ã€‚ä¾‹å¦‚åœ¨UIKitä¸­ï¼Œ <code>UIViewAutoresizing</code> å°±æ˜¯ä¸€ä¸ªå¯ä»¥è¡¨ç¤ºä»»ä½•flexible topã€bottomã€ left æˆ– right marginsã€widthã€heightç»„åˆçš„ä½æ©ç ã€‚</p><p>ä¸åƒ <code>NS_ENUM</code> ï¼Œä½æ©ç ç”¨ <code>NS_OPTIONS</code> å®ã€‚</p><p>è¯­æ³•å’Œ <code>NS_ENUM</code> å®Œå…¨ç›¸åŒï¼Œä½†è¿™ä¸ªå®æç¤ºç¼–è¯‘å™¨å€¼æ˜¯å¦‚ä½•é€šè¿‡ä½æ©ç  <code>|</code> ç»„åˆåœ¨ä¸€èµ·çš„ã€‚åŒæ ·çš„ï¼Œæ³¨æ„å€¼çš„åŒºé—´ä¸è¦è¶…è¿‡æ‰€ä½¿ç”¨ç±»å‹çš„æœ€å¤§å®¹çº³èŒƒå›´ã€‚</p><hr><p><code>NS_ENUM</code> å’Œ <code>NS_OPTIONS</code> éƒ½æ˜¯Objective-Cå¼€å‘ä¸­çš„æå‡å¼€å‘ä½“éªŒçš„æ–°ç‰¹æ€§ï¼Œä¹Ÿå†æ¬¡å±•ç¤ºäº†è¿™é—¨è¯­è¨€åœ¨å¯¹è±¡åŒ–å’Œè¿‡ç¨‹åŒ–ä¹‹é—´å¥åº·å’Œè°çš„è¾©è¯å…³ç³»ã€‚è®°ä½è¿™ä¸€ç‚¹ï¼Œå®ƒå°±å¥½åƒåœ¨ä½ æˆé•¿çš„é“è·¯ä¸­è®¤è¯†åˆ°çš„ï¼šæˆ‘ä»¬èº«è¾¹çš„ä¸‡ç‰©éƒ½æ˜¯è¿ä½œåœ¨çŸ›ç›¾ä¸”å…±å­˜çš„ä¸¥è°¨é€»è¾‘å…³ç³»ä¸­ã€‚</p><hr><p>é™¤é<a href=https://nshipster.cn/ target=_blank>å¦æœ‰å£°æ˜</a>ï¼Œæœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ã€Œ<a href=https://creativecommons.org/licenses/by-nc/3.0/cn/ target=_blank>ç½²å-éå•†ä¸šæ€§ä½¿ç”¨ 3.0 ä¸­å›½å¤§é™†</a>ã€è®¸å¯åè®®æˆæƒã€‚</p><ins class=adsbygoogle style=display:block data-ad-client=ca-pub-8922574795542092 data-ad-slot=2802455178 data-ad-format=auto data-full-width-responsive=true></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><footer><p style="margin:0 -3px"><span style="float:left;margin:0 -3px"><a href=#mysite-singlepage-top title="Back to Top Â· å›é¡¶éƒ¨" rel=nofollow>&#127772;2012-11-19 </a>&copy;</span>
<span style="float:right;margin:0 -3px"><a href=https://autoptr.top/license/ title="Copyright &copy; All rights reserved" target=_blank rel=nofollow>&copy; 2026 Mattt ç‰ˆæƒæ‰€æœ‰</a><a href=https://autoptr.top/ title="Back to Home Â· å›é¦–é¡µ">&#127771;</a></span></p><hr><hr><p style="margin:3px 5px"><ul class=tags><span>æ ‡ç­¾:</span><li><a class=link href=https://autoptr.top/tags/C++ target=_blank>C++</a></li><li><a class=link href=https://autoptr.top/tags/nshipster target=_blank>nshipster</a></li><span>&nbsp;&nbsp;</span>
<span>åˆ†ç±»:</span><li><a class=link href=https://autoptr.top/categories/Cocoa target=_blank>Cocoa</a></li><li><a class=link href=https://autoptr.top/categories/macOS target=_blank>macOS</a></li><li><a class=link href=https://autoptr.top/categories/CC++ target=_blank>CC++</a></li></ul><p style=margin-bottom:2em></p></p></footer></div><script src=/jscss/ajax/libs/jquery/3.3.1/jquery.slim.min.js></script><script src=/jscss/ajax/libs/twitter-bootstrap/3.1.1/js/bootstrap.min.js></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-37ZP0S1L3D"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-37ZP0S1L3D")</script><script src=/jscss/ajax/libs/medium-zoom/1.0.4/medium-zoom.min.js></script><script>const zoom=mediumZoom();zoom.attach("p img")</script></body></html>