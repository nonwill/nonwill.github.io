<!doctype html><html><head><meta charset=utf-8><meta http-equiv=content-language content="zh-cn"><meta name=viewport content="width=device-width,initial-scale=.5"><title>Quick Look Debugging</title>
<link rel="shortcut icon" type=image/x-icon href=/media/shortcuticon.png><meta name=keywords content="Quick Look Debugging,macOS,C++,Cocoa,Objective-C,Swift,NSHipster"><meta name=description content="Quick Look Debugging,macOS,C++,Cocoa,Objective-C,Swift,NSHipster"><script>if(document.domain=="autoptr.pages.dev"){var url=window.location.href,url=url.replace(/autoptr+\.pages+\.dev/g,"www.autoptr.top");window.location.href=url}</script><script src=/jscss/ajax/libs/anchor-js/4.2.0/anchor.min.js></script><script>document.addEventListener("DOMContentLoaded",function(){anchors.options={visible:"hover",placement:"left",icon:"ğŸŒœ"},anchors.add()})</script><link rel=stylesheet href=/css/main.css><link href=/jscss/ajax/libs/highlight.js/9.12.0/styles/atom-one-dark.min.css rel=stylesheet><script src=/jscss/ajax/libs/highlight.js/9.12.0/highlight.min.js></script><script>hljs.initHighlightingOnLoad()</script><style type=text/css>body{background-color:#fbf6ec}</style><script>top.location!=self.location&&(top.location=self.location)</script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?746e6e6d14d22526bf274c834750df53",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script></head><body><script>window.addEventListener("resize",resizeThrottler,!1);var resizeTimeout;function resizeThrottler(){resizeTimeout||(resizeTimeout=setTimeout(function(){resizeTimeout=null,actualResizeHandler()},66))}actualResizeHandler();function actualResizeHandler(){/mobile/i.test(navigator.userAgent)||/android/i.test(navigator.userAgent)?document.body.classList.add("mobile"):document.body.classList.remove("mobile")}</script><a id=mysite-singlepage-top></a><div class=inner style=position:relative><div class=blog-post><h1 class=blog-title align=center><span class=btContent>Quick Look Debugging</span><span class=btRight><span title="Author Â· ä½œè€…" class=author>Nate Cook</span> <span title="Translator Â· ç¿»è¯‘" class=author>April Peng</span> <a href=https://github.com/NSHipster/articles-zh-Hans style=color:#007cd5 title="Related or Quoted Post Â· å…³è”æˆ–è½¬è½½å¼•ç”¨çš„æ–‡ç« " target=_blank rel="nofollow noopener noreferrer">&#128681;</a><a href=/tutorials/NSHipster/ title="Back to Topics Â· å›ä¸»é¢˜é¡µ">&#127793;</a></span></h1><p>è°ƒè¯•å¯èƒ½ä¼šæ˜¯ä¸€ä¸ªè®½åˆºçš„å®è·µã€‚æˆ‘ä»¬åˆ›å»ºäº†å„ç§ä»»åŠ¡æ¥å‘Šè¯‰æˆ‘ä»¬çš„å“è„±å¤§å°çš„è¶…çº§è®¡ç®—æœºä»£è¡¨æˆ‘ä»¬æ¥å®Œæˆåƒå·®ä¸‡åˆ«å’Œä¸å¯ä¼°é‡çš„ä»»åŠ¡ï¼Œä½†ä¸ºäº†ç†è§£è¿™äº›ç›¸åŒçš„ç¨‹åºï¼Œæˆ‘ä»¬å‘Šè¯‰è®¡ç®—æœºç­‰ç­‰<em>æˆ‘ä»¬</em></p><p>ä¾‹å¦‚ï¼Œå‡è®¾æˆ‘è¯•å›¾æ‰¾å‡ºä¸ºä»€ä¹ˆæˆ‘çš„åº”ç”¨ç¨‹åºé‡Œçš„ <code>UINavigationBar</code> æ²¡æœ‰æŒ‰æˆ‘é¢„è®¡çš„æ˜¾ç¤ºã€‚ä¸ºäº†è°ƒæŸ¥æ¸…æ¥šï¼Œæˆ‘å¯èƒ½ä¼šä½¿ç”¨è°ƒè¯•å™¨æ¥çœ‹çœ‹è¯¸å¦‚æˆ‘åœ¨å¯¼èˆªæ ä¸Šè®¾ç½®çš„ <code>UIColor</code> å®ä¾‹ï¼Œè¿™ä¸œè¥¿<em>åˆ°åº•æ˜¯</em>ä»€ä¹ˆé¢œè‰²ï¼Ÿ</p><p><img alt="UIColor in Debug" src=/media/NSHipster/quicklook-debug.gif></p><p>Hold ä½ï¼å¹¶æ²¡æœ‰è¯•å›¾æ‰¾å‡ºå¦‚ä½•å°†è¿™äº›ç»„ä»¶åŠ åœ¨ä¸€èµ·çš„åŠæ³•ã€‚<em>å…¶å®æœ‰ä¸€ä¸ªæ›´å¥½çš„åŠæ³•ã€‚</em></p><p>è‡ªä»ç‰ˆæœ¬ 5 å¼€å§‹ï¼ŒXcode åœ¨è°ƒè¯•å™¨å·²ç»é™„å¸¦äº†å¿«é€ŸæŸ¥çœ‹æ˜¾ç¤ºã€‚æ­£å¦‚ä½ å¯ä»¥åœ¨æ¡Œé¢ä¸Šå¿«é€Ÿç‚¹å‡»ç©ºæ ¼é”®æ¥æŸ¥çœ‹æ–‡ä»¶çš„å†…å®¹ï¼Œåœ¨ Xcode ä¸­ä½ å¯ä»¥ç”¨å¯è§†åŒ–çš„å¿«é€ŸæŸ¥çœ‹å„ç§æ•°æ®ç±»å‹ã€‚åœ¨æˆ‘ä»¬çš„ <code>color</code> å˜é‡ä¸ŠæŒ‰ç©ºæ ¼é”®ç«‹å³ç»™å‡ºäº†ä¸€ä¸ªç­”æ¡ˆï¼Œä½ è„‘æµ·ä¸­åº”è¯¥é©¬ä¸Šæµ®ç°èµ·äº†éœ€è¦ RGB è½¬åŒ–è®¡ç®—ï¼š</p><p><img alt="UIColor Quick Look" src=/media/NSHipster/quicklook-color.gif></p><hr><p>åŒæ—¶ï¼Œä½ è¿˜å¯ä»¥ç›´æ¥ä»ä»£ç çš„è°ƒè¯•ä¸­è°ƒç”¨å¿«é€ŸæŸ¥çœ‹ã€‚æ¯”å¦‚ä¸‹é¢çš„æ–¹æ³•ï¼Œ<code>buildPathWithRadius(_:steps:loopCount:)</code>ã€‚å®ƒåˆ›é€ äº†æŸç§å½¢å¼çš„ <code>UIBezierPath</code>ï¼Œä½†ä½ å·²ç»å¿˜äº†ï¼Œè€Œè¿™æ®µä»£ç åˆ°åº•æ˜¯å¦å·¥ä½œï¼Ÿ</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>buildPathWithRadius</span>(radius: CGFloat, steps: CGFloat, loopCount: CGFloat) -&gt; UIBezierPath {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> away = radius <span style=color:#f92672>/</span> steps
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> around = loopCount <span style=color:#f92672>/</span> steps <span style=color:#f92672>*</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> CGFloat(M_PI)
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> points = map(stride(from: <span style=color:#ae81ff>1</span>, through: steps, by: <span style=color:#ae81ff>1</span>)) { step -&gt; CGPoint <span style=color:#66d9ef>in</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> x = cos(step <span style=color:#f92672>*</span> around) <span style=color:#f92672>*</span> step <span style=color:#f92672>*</span> away
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> y = sin(step <span style=color:#f92672>*</span> around) <span style=color:#f92672>*</span> step <span style=color:#f92672>*</span> away
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> CGPoint(x: x, y: y)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> path = UIBezierPath()
</span></span><span style=display:flex><span>    path.moveToPoint(CGPoint.zeroPoint)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> point <span style=color:#66d9ef>in</span> points {
</span></span><span style=display:flex><span>        path.addLineToPoint(point)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> path
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>- (UIBezierPath <span style=color:#f92672>*</span>)<span style=color:#a6e22e>buildPathWithRadius:</span>(CGFloat)radius <span style=color:#a6e22e>steps:</span>(CGFloat)steps <span style=color:#a6e22e>loopCount:</span>(CGFloat)loopCount {
</span></span><span style=display:flex><span>    CGFloat x, y;
</span></span><span style=display:flex><span>    CGFloat away <span style=color:#f92672>=</span> radius <span style=color:#f92672>/</span> steps;
</span></span><span style=display:flex><span>    CGFloat around <span style=color:#f92672>=</span> loopCount <span style=color:#f92672>/</span> steps <span style=color:#f92672>*</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> M_PI;
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    UIBezierPath <span style=color:#f92672>*</span>path <span style=color:#f92672>=</span> [UIBezierPath bezierPath];
</span></span><span style=display:flex><span>    [path moveToPoint:CGPointZero];
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> steps; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        x <span style=color:#f92672>=</span> cos(i <span style=color:#f92672>*</span> around) <span style=color:#f92672>*</span> i <span style=color:#f92672>*</span> away;
</span></span><span style=display:flex><span>        y <span style=color:#f92672>=</span> sin(i <span style=color:#f92672>*</span> around) <span style=color:#f92672>*</span> i <span style=color:#f92672>*</span> away;
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        [path addLineToPoint:CGPointMake(x, y)];
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> path;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>ä¸ºäº†çœ‹åˆ°ç»“æœï¼Œä½ è‚¯å®šå¯ä»¥ä¸ºè¿™ä¸ª bezier è·¯å¾„æ–°å»ºä¸€ä¸ªè‡ªå®šä¹‰è§†å›¾æˆ–ç”»æˆä¸€ä¸ª <code>UIImage</code>ã€‚ä½†æ›´å¥½çš„æ˜¯ï¼Œä½ å¯ä»¥åœ¨æ–¹æ³•ç»“å°¾æ’å…¥ä¸€ä¸ªæ–­ç‚¹å¹¶æŠŠé¼ æ ‡ç§»ä¸Šå»æŸ¥çœ‹ <code>path</code>ï¼š</p><p><img alt="Spiral UIBezierPath Quick Look" src=/media/NSHipster/quicklook-spiral.gif></p><p>å®ƒæ˜¯èºæ—‹çš„ï¼</p><hr><h3 id=å†…ç½®ç±»å‹>å†…ç½®ç±»å‹</h3><p>å¿«é€ŸæŸ¥çœ‹æ”¯æŒå¤§å¤šæ•°ä½ æƒ³è¦å¯è§†åŒ–çš„æ•°æ®ç±»å‹ã€‚Xcode å·²ç»ä¸ºä½ è¦†ç›–äº†ä»¥ä¸‹å‡ ç§ç±»å‹ï¼š</p><blockquote><ul><li><strong>å›¾ç‰‡ï¼š</strong> <code>UIImage</code>ï¼Œ<code>NSImage</code>ï¼Œ<code>UIImageView</code>ï¼Œ<code>NSImageView</code>ï¼Œ<code>CIImage</code>ï¼Œå’Œ <code>NSBitmapImageRep</code> éƒ½å¯ä»¥å¿«é€ŸæŸ¥çœ‹ã€‚</li><li><strong>é¢œè‰²ï¼š</strong> <code>UIColor</code> å’Œ <code>NSColor</code>ã€‚ ï¼ˆæŠ±æ­‰ï¼Œ<code>CGColor</code>ã€‚ï¼‰</li><li><strong>å­—ç¬¦ä¸²ï¼š</strong> <code>NSString</code> å’Œ <code>NSAttributedString</code>ã€‚</li><li><strong>å‡ ä½•ï¼š</strong> <code>UIBezierPath</code> å’Œ <code>NSBezierPath</code>ï¼Œä»¥åŠ <code>CGPoint</code>ï¼Œ<code>CGRect</code>ï¼Œå’Œ <code>CGSize</code>ã€‚</li><li><strong>åœ°åŒº</strong> <code>CLLocation</code> å°†æ˜¾ç¤ºä¸€ä¸ªå¾ˆå¤§çš„ï¼Œäº’åŠ¨çš„æ˜ å°„ä½ç½®ï¼Œå¹¶æ˜¾ç¤ºé«˜åº¦å’Œç²¾åº¦çš„ç»†èŠ‚ã€‚</li><li><strong>URLsï¼š</strong> <code>NSURL</code> å°†æ˜¾ç¤º URL æ‰€æŒ‡çš„æœ¬åœ°æˆ–è¿œç¨‹çš„å†…å®¹ã€‚</li><li><strong>å…‰æ ‡ï¼š</strong> <code>NSCursor</code>ï¼Œä¸ºæˆ‘ä»¬ä¸­é—´çš„å…‰æ ‡æŒ‡ç¤ºã€‚</li><li><strong>SpriteKitï¼š</strong> <code>SKSpriteNode</code>ï¼Œ<code>SKShapeNode</code>ï¼Œ<code>SKTexture</code>ï¼Œå’Œ <code>SKTextureAtlas</code> éƒ½ä¼šè¢«æ˜¾ç¤ºã€‚</li><li><strong>æ•°æ®ï¼š</strong> <code>NSData</code> å°†æ¼‚äº®çš„æ˜¾ç¤ºå‡ºåç§»çš„åå…­è¿›åˆ¶å’Œ ASCII å€¼ã€‚</li><li><strong>è§†å›¾ï¼š</strong> æœ€åä½†å¹¶éæœ€ä¸é‡è¦çš„ï¼Œä»»ä½• <code>UIView</code> å­ç±»éƒ½å°†åœ¨å¿«é€ŸæŸ¥çœ‹å¼¹å‡ºæ¡†ä¸­æ˜¾ç¤ºå…¶å†…å®¹ï¼Œæ–¹ä¾¿æäº†ã€‚</li></ul></blockquote><p>æ›´é‡è¦çš„æ˜¯ï¼Œè¿™äº›å¿«é€ŸæŸ¥çœ‹å¼¹å‡ºçª—å£é€šå¸¸åŒ…æ‹¬ä¸€ä¸ªæŒ‰é’®ï¼Œç”¨æ¥åœ¨ç›¸å…³çš„åº”ç”¨ç¨‹åºæ‰“å¼€è¯¥å†…å®¹ã€‚å¯¹å›¾åƒæ•°æ®ï¼ˆä»¥åŠè§†å›¾ï¼Œå…‰æ ‡å’Œ SpriteKit ç±»å‹ï¼‰å°†æä¾›ä¸€ä¸ªåœ¨é¢„è§ˆä¸­æ‰“å¼€çš„é€‰é¡¹ã€‚è¿œç¨‹ URL å¯ä»¥åœ¨ Safari æµè§ˆå™¨ä¸­æ‰“å¼€ï¼›æœ¬åœ°çš„å¯ä»¥åœ¨ç›¸å…³åº”ç”¨ç¨‹åºä¸­æ‰“å¼€ã€‚æœ€åï¼Œçº¯æ–‡æœ¬å’Œæ ¼å¼åŒ–å­—ç¬¦ä¸²æ•°æ®åŒæ ·å¯ä»¥åœ¨ TextEdit ä¸­æ‰“å¼€ã€‚</p><h3 id=è‡ªå®šä¹‰ç±»å‹>è‡ªå®šä¹‰ç±»å‹</h3><p>å¯¹äºä¸åœ¨è¿™äº›å†…ç½®ç±»å‹èŒƒå›´å†…çš„ï¼ŒXcode 6 å¢åŠ äº†å¿«é€ŸæŸ¥çœ‹è‡ªå®šä¹‰å¯¹è±¡ã€‚å®ç°æ–¹å¼ç®€å•å¾—ä¸èƒ½å†ç®€å•äº†ï¼Œæ·»åŠ ä¸€ä¸ª <code>debugQuickLookObject()</code> æ–¹æ³•åˆ°ä»»ä½• <code>NSObject</code> æ´¾ç”Ÿç±»ï¼Œå°±è¡Œäº†ã€‚ <code>debugQuickLookObject()</code> å¯ä»¥è¿”å›ä»»ä½•ä¸Šè¿°çš„å†…ç½®ç±»å‹ï¼Œä½ éœ€è¦ä¸ºè‡ªå®šä¹‰ç±»å‹é…ç½®çš„æ˜¯ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>debugQuickLookObject</span>() -&gt; AnyObject {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> path = buildPathWithRadius(radius, steps: steps, loopCount: loopCount)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> path
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>- (<span style=color:#66d9ef>id</span>)<span style=color:#a6e22e>debugQuickLookObject</span> {
</span></span><span style=display:flex><span>    UIBezierPath <span style=color:#f92672>*</span>path <span style=color:#f92672>=</span> [self buildPathWithRadius:self.radius steps:self.steps loopCount:self.loopCount];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> path;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><hr><p>æ€»ä¹‹ï¼Œå¿«é€ŸæŸ¥çœ‹èƒ½å¤Ÿå…è®¸æˆ‘ä»¬éå†è¾ƒå°éƒ¨åˆ†åŠŸèƒ½çš„æ•°æ®ï¼Œè®©æˆ‘ä»¬èƒ½æ›´ç›´è§‚çš„äº†è§£æˆ‘ä»¬çš„ä»£ç ã€‚è¿™ç§ç›´æ¥æŸ¥çœ‹ä¹‹å‰æ¨¡ç³Šçš„æ•°æ®ç±»å‹ä½¿å¾—ä¸€äº› Swift Playground å³æ—¶æ€§çš„åŠ å…¥åˆ°æˆ‘ä»¬çš„ä¸»è¦ä»£ç åº“ä¸­ã€‚æ˜¾ç¤ºå›¾åƒï¼Ÿå¯è§†åŒ–æ•°æ®ï¼Ÿç»˜åˆ¶æ–‡æœ¬ï¼Ÿè®¡ç®—æœºå·²ç»åšå¾—å¾ˆå¥½äº†ï¼ä»ç°åœ¨å¼€å§‹å°±äº¤ç»™å®ƒä»¬æ¥åšå§ã€‚</p><hr><p>é™¤é<a href=https://nshipster.cn/ target=_blank>å¦æœ‰å£°æ˜</a>ï¼Œæœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ã€Œ<a href=https://creativecommons.org/licenses/by-nc/3.0/cn/ target=_blank>ç½²å-éå•†ä¸šæ€§ä½¿ç”¨ 3.0 ä¸­å›½å¤§é™†</a>ã€è®¸å¯åè®®æˆæƒã€‚</p><ins class=adsbygoogle style=display:block data-ad-client=ca-pub-8922574795542092 data-ad-slot=2802455178 data-ad-format=auto data-full-width-responsive=true></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><footer><p style="margin:0 -3px"><span style="float:left;margin:0 -3px"><a href=#mysite-singlepage-top title="Back to Top Â· å›é¡¶éƒ¨" rel=nofollow>&#127772;2015-03-30 </a>&copy;</span>
<span style="float:right;margin:0 -3px"><a href=https://autoptr.top/license/ title="Copyright &copy; All rights reserved" target=_blank rel=nofollow>&copy; 2026 Nate Cook ç‰ˆæƒæ‰€æœ‰</a><a href=https://autoptr.top/ title="Back to Home Â· å›é¦–é¡µ">&#127771;</a></span></p><hr><hr><p style="margin:3px 5px"><ul class=tags><span>æ ‡ç­¾:</span><li><a class=link href=https://autoptr.top/tags/C++ target=_blank>C++</a></li><li><a class=link href=https://autoptr.top/tags/nshipster target=_blank>nshipster</a></li><span>&nbsp;&nbsp;</span>
<span>åˆ†ç±»:</span><li><a class=link href=https://autoptr.top/categories/Xcode target=_blank>Xcode</a></li><li><a class=link href=https://autoptr.top/categories/macOS target=_blank>macOS</a></li><li><a class=link href=https://autoptr.top/categories/CC++ target=_blank>CC++</a></li></ul><p style=margin-bottom:2em></p></p></footer></div><script src=/jscss/ajax/libs/jquery/3.3.1/jquery.slim.min.js></script><script src=/jscss/ajax/libs/twitter-bootstrap/3.1.1/js/bootstrap.min.js></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-37ZP0S1L3D"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-37ZP0S1L3D")</script><script src=/jscss/ajax/libs/medium-zoom/1.0.4/medium-zoom.min.js></script><script>const zoom=mediumZoom();zoom.attach("p img")</script></body></html>