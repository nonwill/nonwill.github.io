<!doctype html><html><head><meta charset=utf-8><meta http-equiv=content-language content="zh-cn"><meta name=viewport content="width=device-width,initial-scale=.5"><title>ReactiveCocoa</title>
<link rel="shortcut icon" type=image/x-icon href=/media/shortcuticon.png><meta name=keywords content="ReactiveCocoa,macOS,C++,Cocoa,Objective-C,Swift,NSHipster"><meta name=description content="ReactiveCocoa,macOS,C++,Cocoa,Objective-C,Swift,NSHipster"><script>if(document.domain=="autoptr.pages.dev"){var url=window.location.href,url=url.replace(/autoptr+\.pages+\.dev/g,"www.autoptr.top");window.location.href=url}</script><script src=/jscss/ajax/libs/anchor-js/4.2.0/anchor.min.js></script><script>document.addEventListener("DOMContentLoaded",function(){anchors.options={visible:"hover",placement:"left",icon:"ğŸŒœ"},anchors.add()})</script><link rel=stylesheet href=/css/main.css><link href=/jscss/ajax/libs/highlight.js/9.12.0/styles/atom-one-dark.min.css rel=stylesheet><script src=/jscss/ajax/libs/highlight.js/9.12.0/highlight.min.js></script><script>hljs.initHighlightingOnLoad()</script><style type=text/css>body{background-color:#fbf6ec}</style><script>top.location!=self.location&&(top.location=self.location)</script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?746e6e6d14d22526bf274c834750df53",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script></head><body><script>window.addEventListener("resize",resizeThrottler,!1);var resizeTimeout;function resizeThrottler(){resizeTimeout||(resizeTimeout=setTimeout(function(){resizeTimeout=null,actualResizeHandler()},66))}actualResizeHandler();function actualResizeHandler(){/mobile/i.test(navigator.userAgent)||/android/i.test(navigator.userAgent)?document.body.classList.add("mobile"):document.body.classList.remove("mobile")}</script><a id=mysite-singlepage-top></a><div class=inner style=position:relative><div class=blog-post><h1 class=blog-title align=center><span class=btContent>ReactiveCocoa</span><span class=btRight><span title="Author Â· ä½œè€…" class=author>Mattt</span> <span title="Translator Â· ç¿»è¯‘" class=author>Croath Liu</span> <a href=https://github.com/NSHipster/articles-zh-Hans style=color:#007cd5 title="Related or Quoted Post Â· å…³è”æˆ–è½¬è½½å¼•ç”¨çš„æ–‡ç« " target=_blank rel="nofollow noopener noreferrer">&#128681;</a><a href=/tutorials/NSHipster/ title="Back to Topics Â· å›ä¸»é¢˜é¡µ">&#127793;</a></span></h1><p>ç¼–ç¨‹è¯­è¨€æ˜¯æœ‰ç”Ÿå‘½çš„ã€‚è¯­è¨€åœ¨è‡ªç”±æ— æ–¹å‘è¿…é€Ÿå‘å±•çš„ç”Ÿå‘½å‘¨æœŸä¸­ä¸æ–­è¢«æ¨åŠ¨ã€è¢«æŒ‘æˆ˜ã€è¢«å˜å¾—ä¸è§„èŒƒåŒ–ã€æˆ–è¢«è’™ä¸Šäº†ç¥ç§˜é¢çº±ã€‚ç§‘æŠ€åœ¨ä¸åœçš„æ”¹å˜ä¸­ã€åœ¨å¼€å‘å›¢é˜Ÿå’Œå¼€æºç¤¾åŒºä¸æ–­æ¥äº†åˆèµ°ä¸­å¾—ä»¥ä¸æ–­å‘å±•ï¼›éšæ™¦çš„ç¥ç§˜åŠ›é‡å‡­å€Ÿæ–°å…´é¡¹ç›®çš„å·¨äººè‚©è†€è¢«ç£¨ç»ƒå¾—åŠ›é‡æ—¥ç›Šçªå‡ºï¼Œå¾ˆå¿«å°±ä¼šåœ¨é•¿æœŸçš„è›°ä¼åè§‰é†’ï¼Œå¤§åŠ›å¼€è¾Ÿå‡ºä¸€ç‰‡æ–°å¤©åœ°ã€‚</p><p>Objective-C åœ¨å‡ åå¹´é—´çš„éå‡¡å‘å±•å²å¯ä»¥åˆ†ä¸ºå››ä¸ªé˜¶æ®µï¼š</p><p><strong>ç¬¬ 1 é˜¶æ®µ</strong>ï¼ŒNeXT æ¥æ‰‹äº† Objective-C ç”¨ä»¥æ”¯æŒ<a href=https://en.wikipedia.org/wiki/NeXTSTEP>NeXTSTEP</a>å’Œ<a href=https://en.wikipedia.org/wiki/Web_server#History>ä¸–ç•Œä¸Šç¬¬ä¸€ä¸ª web server</a>ã€‚</p><p><strong>ç¬¬ 2 é˜¶æ®µ</strong>ï¼Œè‹¹æœå¹¶è´­äº† NeXTï¼Œï¼ˆåœ¨ä¸ Java çš„é•¿æœŸæ‹‰é”¯æˆ˜ä¹‹åï¼‰ï¼ŒObjective-C å¤„äºè‹¹æœæŠ€æœ¯æ ˆçš„æ ¸å¿ƒåœ°ä½ã€‚</p><p><strong>ç¬¬ 3 é˜¶æ®µ</strong>ï¼Œéšç€ iOS ç³»ç»Ÿçš„å‘å¸ƒï¼ŒObjective-C ä¸Šå‡åˆ°äº†ç©ºå‰é‡è¦çš„åœ°ä½ï¼Œæˆä¸ºç§»åŠ¨è®¡ç®—é¢†åŸŸæœ€é‡è¦çš„è¯­è¨€ã€‚</p><p><strong>Objective-C çš„ç¬¬ 4 é˜¶æ®µï¼Œä¹Ÿå°±æ˜¯ç°å¦‚ä»Š</strong>ï¼Œä¼´éšç€å¤§æ‰¹ä» Rubyã€Pythonã€Javascript ç¤¾åŒºè½¬å‹çš„ iOS å·¥ç¨‹å¸ˆçš„æ¶Œå…¥ï¼ŒObjective-C å¼€å§‹åœ¨å¼€æºé¢†åŸŸå¤§æ”¾å¼‚å½©ã€‚Objective-C ç¬¬ä¸€æ¬¡ç›´æ¥è¢«è‹¹æœä»¥å¤–çš„å…¶ä»–äººæ‰“ç£¨å’Œå¼•å¯¼ã€‚</p><p>æ‰“ç ´äº†è‹¹æœ API æ’ä»–æ€§çš„ç›¾ç‰Œï¼Œæœ¬æœŸ NSHipster å°†ä»‹ç»ä¸€ä¸ªä¸º Objective-C å‹‡æ•¢æ„å»ºæ–°çºªå…ƒçš„å¼€æºé¡¹ç›®ï¼š<a href=https://github.com/ReactiveCocoa/ReactiveCocoa>ReactiveCocoa</a>ã€‚</p><hr><blockquote><p>ä¸ºäº†å¯¹ ReactiveCocoa æœ‰å…¨æ–¹ä½äº†è§£ï¼Œè¯·æŸ¥çœ‹å…¶é¡¹ç›®çš„<a href=https://github.com/ReactiveCocoa/ReactiveCocoa/blob/master/README.md>README</a>ã€<a href=https://github.com/ReactiveCocoa/ReactiveCocoa/blob/master/Documentation/FrameworkOverview.md>Framework Overview</a>å’Œ<a href=https://github.com/ReactiveCocoa/ReactiveCocoa/blob/master/Documentation/DesignGuidelines.md>Design Guidelines</a>ã€‚</p></blockquote><p><a href=https://github.com/ReactiveCocoa/ReactiveCocoa>ReactiveCocoa</a>æ˜¯ä¸€ä¸ªå°†å‡½æ•°å“åº”å¼ç¼–ç¨‹èŒƒä¾‹å¸¦å…¥ Objective-C çš„å¼€æºåº“ã€‚ç”±<a href=https://github.com/joshaber>Josh Abernathy</a>å’Œ<a href=https://github.com/jspahrsummers>Justin Spahr-Summers</a>åœ¨å¯¹<a href=http://mac.github.com>GitHub for Mac</a>çš„å¼€å‘è¿‡ç¨‹ä¸­å»ºç«‹ã€‚ä¸Šå‘¨ï¼ŒReactiveCocoa å‘å¸ƒäº†å…¶<a href=https://github.com/ReactiveCocoa/ReactiveCocoa/tree/v1.0.0>1.0 release</a>ï¼Œè¾¾åˆ°äº†ç¬¬ä¸€ä¸ªé‡è¦é‡Œç¨‹ç¢‘ã€‚</p><p><a href=https://en.wikipedia.org/wiki/Functional_reactive_programming>å‡½æ•°å“åº”å¼ç¼–ç¨‹(Functional Reactive Programming a.k.a FRP)</a>æ˜¯æ€è€ƒè½¯ä»¶å°†è¾“å…¥è½¬åŒ–ä¸ºè¾“å‡ºåœ¨æ—¶é—´ä¸Šçš„æŒç»­è¿‡ç¨‹çš„ä¸€ç§æ–¹å¼ã€‚<a href=http://blog.maybeapps.com/post/42894317939/input-and-output>Josh Abernathy è¿™æ ·è§£é‡Šå®ƒ</a>ï¼š</p><blockquote><p>ç¨‹åºæ¥æ”¶è¾“å…¥äº§ç”Ÿè¾“å‡ºã€‚è¾“å‡ºå°±æ˜¯å¯¹è¾“å…¥åšäº†ä¸€äº›äº‹çš„ç»“æœã€‚è¾“å…¥ï¼Œè½¬æ¢ï¼Œè¾“å‡ºï¼Œå®Œæˆã€‚</p><p>è¾“å…¥æ˜¯åº”ç”¨åŠ¨ä½œçš„å…¨éƒ¨æ¥æºã€‚ç‚¹å‡»ã€é”®ç›˜äº‹ä»¶ã€å®šæ—¶å™¨äº‹ä»¶ã€GPS æ—¶é—´ã€ç½‘ç»œè¯·æ±‚å“åº”éƒ½ç®—æ˜¯è¾“å…¥ã€‚è¿™äº›äº‹ä»¶è¢«ä¼ é€’åˆ°åº”ç”¨ä¸­ï¼Œåº”ç”¨å°†ä»–ä»¬ä»¥æŸç§æ–¹å¼æ··åˆï¼Œäº§ç”Ÿäº†ç»“æœï¼šå°±æ˜¯è¾“å‡ºã€‚</p><p>è¾“å‡ºé€šå¸¸ä¼šæ”¹å˜åº”ç”¨çš„ UIã€‚å¼€å…³çŠ¶æ€å˜åŒ–ã€åˆ—è¡¨æœ‰äº†æ–°çš„å…ƒç´ éƒ½æ˜¯ UI å˜åŒ–ã€‚ä¹Ÿæœ‰å¯èƒ½è®©ç£ç›˜ä¸ŠæŸä¸ªæ–‡ä»¶äº§ç”Ÿå˜åŒ–ï¼Œæˆ–è€…äº§ç”Ÿä¸€ä¸ª API è¯·æ±‚ï¼Œè¿™éƒ½æ˜¯åº”ç”¨çš„è¾“å‡ºã€‚</p><p>ä½†ä¸åƒä¼ ç»Ÿçš„è¾“å…¥è¾“å‡ºè®¾è®¡ï¼Œåº”ç”¨çš„è¾“å…¥è¾“å‡ºå¯ä»¥äº§ç”Ÿå¾ˆå¤šæ¬¡ã€‚åº”ç”¨æ‰“å¼€åï¼Œä¸åªæ˜¯ä¸€ä¸ªç®€å•çš„ è¾“å…¥ â†’ å·¥ä½œ â†’ è¾“å‡º å°±æ„æˆäº†ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸã€‚åº”ç”¨ç»å¸¸æœ‰å¤§é‡çš„è¾“å…¥å¹¶åŸºäºè¿™äº›è¾“å…¥äº§ç”Ÿè¾“å‡ºã€‚</p></blockquote><p>ä¸ºäº†ä¸¾ä¾‹è¯´æ˜ä¼ ç»ŸèŒƒå¼å³ Objective-C çš„å‘½ä»¤å“åº”å¼ç¼–ç¨‹å’Œå‡½æ•°å“åº”å¼èŒƒå¼çš„åŒºåˆ«ï¼Œæ¥æ€è€ƒä¸€ä¸‹ä¸‹é¢è¿™ä¸ªåˆ¤æ–­æ³¨å†Œé¡¹æ˜¯å¦åˆæ³•çš„å¸¸ç”¨æ ·ä¾‹ï¼š</p><h3 id=ä¼ ç»ŸèŒƒå¼>ä¼ ç»ŸèŒƒå¼</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>- (<span style=color:#66d9ef>BOOL</span>)<span style=color:#a6e22e>isFormValid</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> [self.usernameField.text length] <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>&amp;&amp;</span>
</span></span><span style=display:flex><span>            [self.emailField.text length] <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>&amp;&amp;</span>
</span></span><span style=display:flex><span>            [self.passwordField.text length] <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>&amp;&amp;</span>
</span></span><span style=display:flex><span>            [self.passwordField.text isEqual:self.passwordVerificationField.text];
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#pragma mark - UITextFieldDelegate
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>BOOL</span>)<span style=color:#a6e22e>textField:</span>(UITextField <span style=color:#f92672>*</span>)textField
</span></span><span style=display:flex><span><span style=color:#a6e22e>shouldChangeCharactersInRange:</span>(NSRange)range
</span></span><span style=display:flex><span><span style=color:#a6e22e>replacementString:</span>(NSString <span style=color:#f92672>*</span>)string
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    self.createButton.enabled <span style=color:#f92672>=</span> [self isFormValid];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> YES;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>ä¼ ç»ŸèŒƒå¼çš„æ ·ä¾‹ä¸­ï¼Œé€»è¾‘è¢«æ”¾åœ¨äº†å¾ˆå¤šæ–¹æ³•é‡Œï¼Œé›¶ç¢åœ°æ‘†æ”¾åœ¨ view controller é‡Œï¼Œé€šè¿‡åˆ°å¤„æ•£å¸ƒåˆ° delegate é‡Œçš„<code>self.createButton.enabled = [self isFormValid];</code>æ–¹æ³•åœ¨é¡µé¢çš„ç”Ÿå‘½å‘¨æœŸä¸­è¢«è°ƒç”¨ã€‚</p><p>æ¯”è¾ƒä¸€ä¸‹ç”¨ ReactiveCocoa å†™çš„åŒæ ·åŠŸèƒ½çš„ä»£ç ï¼š</p><h3 id=reactivecocoa>ReactiveCocoa</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>RACSignal <span style=color:#f92672>*</span>formValid <span style=color:#f92672>=</span> [RACSignal
</span></span><span style=display:flex><span>  combineLatest:<span style=color:#ae81ff>@[</span>
</span></span><span style=display:flex><span>    self.username.rac_textSignal,
</span></span><span style=display:flex><span>    self.emailField.rac_textSignal,
</span></span><span style=display:flex><span>    self.passwordField.rac_textSignal,
</span></span><span style=display:flex><span>    self.passwordVerificationField.rac_textSignal
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>]</span>
</span></span><span style=display:flex><span>  reduce:<span style=color:#f92672>^</span>(NSString <span style=color:#f92672>*</span>username, NSString <span style=color:#f92672>*</span>email, NSString <span style=color:#f92672>*</span>password, NSString <span style=color:#f92672>*</span>passwordVerification) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>@(</span>[username length] <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>&amp;&amp;</span> [email length] <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>&amp;&amp;</span> [password length] <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>8</span> <span style=color:#f92672>&amp;&amp;</span> [password isEqual:passwordVerification]<span style=color:#ae81ff>)</span>;
</span></span><span style=display:flex><span>  }];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>RAC(self.createButton.enabled) <span style=color:#f92672>=</span> formValid;
</span></span></code></pre></div><p>æ‰€æœ‰å¯¹äºåˆ¤æ–­è¡¨å•è¾“å…¥æ˜¯å¦åˆæ³•çš„é€»è¾‘éƒ½è¢«æ•´åˆä¸ºä¸€ä¸²é€»è¾‘äº†ã€‚æ¯æ¬¡ä¸è®ºå“ªä¸ªè¾“å…¥æ¡†è¢«ä¿®æ”¹äº†ï¼Œç”¨æˆ·çš„è¾“å…¥éƒ½ä¼šè¢« reduce æˆä¸€ä¸ªå¸ƒå°”å€¼ï¼Œç„¶åå°±å¯ä»¥è‡ªåŠ¨æ¥æ§åˆ¶æ³¨å†ŒæŒ‰é’®çš„å¯ç”¨çŠ¶æ€äº†ã€‚</p><h2 id=æ¦‚è¿°>æ¦‚è¿°</h2><p>ReactiveCocoa ç”±ä¸¤å¤§ä¸»è¦éƒ¨åˆ†ç»„æˆï¼š<a href=https://github.com/ReactiveCocoa/ReactiveCocoa/blob/master/Documentation/FrameworkOverview.md#signals>signals</a> (<code>RACSignal</code>) å’Œ <a href=https://github.com/ReactiveCocoa/ReactiveCocoa/blob/master/Documentation/FrameworkOverview.md#sequences>sequences</a> (<code>RACSequence</code>)ã€‚</p><p>signal å’Œ sequence éƒ½æ˜¯<a href=https://github.com/ReactiveCocoa/ReactiveCocoa/blob/master/Documentation/FrameworkOverview.md#streams>streams</a>ï¼Œä»–ä»¬å…±äº«å¾ˆå¤šç›¸åŒçš„æ–¹æ³•ã€‚ReactiveCocoa åœ¨åŠŸèƒ½ä¸Šåšäº†è¯­ä¹‰ä¸°å¯Œã€ä¸€è‡´æ€§å¼ºçš„ä¸€è‡´æ€§è®¾è®¡ï¼šsignal æ˜¯<em>push</em>é©±åŠ¨çš„ streamï¼Œsequence æ˜¯<em>pull</em>é©±åŠ¨çš„ streamã€‚</p><h3 id=racsignal><code>RACSignal</code></h3><blockquote><ul><li><strong>å¼‚æ­¥æ§åˆ¶æˆ–äº‹ä»¶é©±åŠ¨çš„æ•°æ®æº</strong>ï¼šCocoa ç¼–ç¨‹ä¸­å¤§å¤šæ•°æ—¶å€™ä¼šå…³æ³¨ç”¨æˆ·äº‹ä»¶æˆ–åº”ç”¨çŠ¶æ€æ”¹å˜äº§ç”Ÿçš„å“åº”ã€‚</li><li><strong>é“¾å¼ä»¥æ¥æ“ä½œ</strong>ï¼šç½‘ç»œè¯·æ±‚æ˜¯æœ€å¸¸è§çš„ä¾èµ–æ€§æ ·ä¾‹ï¼Œå‰ä¸€ä¸ªå¯¹ server çš„è¯·æ±‚å®Œæˆåï¼Œä¸‹ä¸€ä¸ªè¯·æ±‚æ‰èƒ½æ„å»ºã€‚</li><li><strong>å¹¶è¡Œç‹¬ç«‹åŠ¨ä½œ</strong>ï¼šç‹¬ç«‹çš„æ•°æ®é›†è¦å¹¶è¡Œå¤„ç†ï¼Œéšåè¿˜è¦æŠŠä»–ä»¬åˆå¹¶æˆä¸€ä¸ªæœ€ç»ˆç»“æœã€‚è¿™åœ¨ Cocoa ä¸­å¾ˆå¸¸è§ï¼Œç‰¹åˆ«æ˜¯æ¶‰åŠåˆ°åŒæ­¥åŠ¨ä½œæ—¶ã€‚</li></ul></blockquote><blockquote><p>Signal ä¼šè§¦å‘å®ƒä»¬çš„ subscriber ä¸‰ç§ä¸åŒç±»å‹çš„äº‹ä»¶ï¼š</p><ul><li><strong>ä¸‹ä¸€ä¸ª</strong>äº‹ä»¶ä» stream ä¸­æä¾›ä¸€ä¸ªæ–°å€¼ã€‚ä¸åƒ Cocoa é›†åˆï¼Œå®ƒæ˜¯å®Œå…¨å¯ç”¨çš„ï¼Œç”šè‡³ä¸€ä¸ª signal å¯ä»¥åŒ…å« <code>nil</code>ã€‚</li><li><strong>é”™è¯¯</strong>äº‹ä»¶ä¼šåœ¨ä¸€ä¸ª signal ç»“æŸä¹‹å‰è¢«æ ‡ç¤ºå‡ºæ¥è¿™é‡Œæœ‰ä¸€ä¸ªé”™è¯¯ã€‚è¿™ç§äº‹ä»¶å¯èƒ½åŒ…å«ä¸€ä¸ª <code>NSError</code> å¯¹è±¡æ¥æ ‡ç¤ºä»€ä¹ˆå‘ç”Ÿäº†é”™è¯¯ã€‚é”™è¯¯å¿…é¡»è¢«ç‰¹æ®Šå¤„ç†â€”â€”é”™è¯¯ä¸ä¼šè¢«åŒ…å«åœ¨ stream çš„å€¼é‡Œé¢ã€‚</li><li><strong>å®Œæˆ</strong>äº‹ä»¶æ ‡ç¤º signal æˆåŠŸç»“æŸï¼Œä¸ä¼šå†æœ‰æ–°çš„å€¼ä¼šè¢«åŠ å…¥åˆ° stream å½“ä¸­ã€‚å®Œæˆäº‹ä»¶ä¹Ÿå¿…é¡»è¢«å•ç‹¬æ§åˆ¶â€”â€”å®ƒä¸ä¼šå‡ºç°åœ¨ stream çš„å€¼é‡Œé¢ã€‚</li></ul><p>ä¸€ä¸ª signal çš„ç”Ÿå‘½ç”±å¾ˆå¤š<code>ä¸‹ä¸€ä¸ª(next)</code>äº‹ä»¶å’Œä¸€ä¸ª<code>é”™è¯¯(error)</code>æˆ–<code>å®Œæˆ(completed)</code>äº‹ä»¶ç»„æˆï¼ˆåä¸¤è€…ä¸åŒæ—¶å‡ºç°ï¼‰ã€‚</p></blockquote><h3 id=racsequence><code>RACSequence</code></h3><blockquote><ul><li><strong>ç®€åŒ–é›†åˆè½¬æ¢</strong>ï¼šä½ ä¼šç—›è‹¦åœ°å‘ç° <code>Foundation</code> åº“ä¸­æ²¡æœ‰ç±»ä¼¼ <code>map</code> å’Œ <code>filter</code>ã€<code>fold/reduce</code> ç­‰é«˜çº§å‡½æ•°ã€‚</li></ul></blockquote><blockquote><p>Sequence æ˜¯ä¸€ç§é›†åˆï¼Œå¾ˆåƒ <code>NSArray</code>ã€‚ä½†å’Œæ•°ç»„ä¸åŒçš„æ˜¯ï¼Œä¸€ä¸ª sequence é‡Œçš„å€¼é»˜è®¤æ˜¯<em>å»¶è¿Ÿ</em>åŠ è½½çš„ï¼ˆåªæœ‰éœ€è¦çš„æ—¶å€™æ‰åŠ è½½ï¼‰ï¼Œè¿™æ ·çš„è¯å¦‚æœ sequence åªæœ‰ä¸€éƒ¨åˆ†è¢«ç”¨åˆ°ï¼Œé‚£ä¹ˆè¿™ç§æœºåˆ¶å°±ä¼šæé«˜æ€§èƒ½ã€‚åƒ Cocoa çš„é›†åˆç±»å‹ä¸€æ ·ï¼Œsequence ä¸æ¥å— <code>nil</code> å€¼ã€‚</p><p><code>RACSequence</code> å…è®¸ä»»æ„ Cocoa é›†åˆåœ¨ç»Ÿä¸€ä¸”æ˜¾å¼åœ°è¿›è¡Œæ“ä½œã€‚</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>RACSequence <span style=color:#f92672>*</span>normalizedLongWords <span style=color:#f92672>=</span> [[words.rac_sequence
</span></span><span style=display:flex><span>    filter:<span style=color:#f92672>^</span> <span style=color:#66d9ef>BOOL</span> (NSString <span style=color:#f92672>*</span>word) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> [word length] <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>10</span>;
</span></span><span style=display:flex><span>    }]
</span></span><span style=display:flex><span>    map:<span style=color:#f92672>^</span>(NSString <span style=color:#f92672>*</span>word) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> [word lowercaseString];
</span></span><span style=display:flex><span>    }];
</span></span></code></pre></div><h2 id=cocoa-ä¸­çš„å…ˆä¾‹>Cocoa ä¸­çš„å…ˆä¾‹</h2><p>Capturing and responding to changes has a long tradition in Cocoa, and ReactiveCocoa is a conceptual and functional extension of that. It is instructive to contrast RAC with those Cocoa technologies:</p><h3 id=rac-ä¸-kvo>RAC ä¸ KVO</h3><p><a href=https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/KeyValueObserving/KeyValueObserving.html>Key-Value Observing</a>æ˜¯ Cocoa æ‰€æœ‰é­”æ³•çš„æ ¸å¿ƒï¼Œå®ƒè¢«å¹¿æ³›åº”ç”¨åœ¨ ReactiveCocoa å¯¹äºå±æ€§å˜åŒ–çš„å½±å“åŠ¨ä½œä¸­ã€‚ç„¶è€Œ KVO ç”¨èµ·æ¥å³ä¸ç®€å•ä¹Ÿä¸å¼€å¿ƒï¼šå®ƒçš„ API æœ‰å¾ˆå¤šè¿‡åº¦è®¾è®¡çš„å‚æ•°ï¼Œä»¥åŠç¼ºä¹æ–¹ä¾¿çš„ block æ–¹å¼è°ƒç”¨ã€‚</p><h3 id=rac-ä¸-bindings>RAC ä¸ Bindings</h3><p><a href=https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/CocoaBindings/CocoaBindings.html>Bindings</a>ä¹Ÿæ˜¯é»‘é­”æ³•ã€‚</p><p>è™½ç„¶å¯¹ OS X æ§åˆ¶çš„è¦ç‚¹å°±æ˜¯ Bindingsï¼Œä½†æ˜¯å®ƒçš„æ„ä¹‰åœ¨è¿‘å¹´æ¥è¶Šæ¥è¶Šæ²¡é‚£ä¹ˆé‡è¦äº†ï¼Œå› ä¸ºç„¦ç‚¹å·²ç»ç§»åŠ¨åˆ°äº† iOS å’Œ UIKit è¿™äº› Bindings ä¸æ”¯æŒçš„ä¸œè¥¿èº«ä¸Šã€‚Bindings æ›¿ä»£äº†å¤§é‡çš„æ¨¡ç‰ˆèƒ¶æ°´ä»£ç ï¼Œå…è®¸åœ¨ Interface Builder ä¸­å®Œæˆç¼–ç ï¼Œä½†ä¸¥æ ¼ä¸Šè¯´è¿˜æ˜¯æ¯”è¾ƒæœ‰å±€é™æ€§çš„ï¼Œå¹¶ä¸”_æ— æ³•_debugã€‚RAC æä¾›äº†ä¸€ç§ç®€æ´æ˜“æ‡‚ã€æ‰©å±•æ€§å¼ºçš„ä»¥ä»£ç ä¸ºåŸºç¡€çš„ API æ¥è¿è¡Œåœ¨ iOS ä¸Šï¼Œç›®æ ‡å°±æ˜¯å–ä»£æ‰€æœ‰åœ¨ OS X èƒ½ç”¨ Bindings å®ç°çš„ç¥å¥‡åŠŸèƒ½ã€‚</p><hr><p>Objective-C åœ¨ C çš„æ ¸å¿ƒä¸Šå¸æ”¶äº† Smalltalk çš„æ€æƒ³å»ºç«‹è€Œæˆï¼Œä½†å“²å­¦ç†å¿µä¸Šå·²ç»è¶…è¶Šäº†å®ƒåŸæœ¬æ¥æºçš„è¡€ç»Ÿã€‚</p><p><code>@protocol</code> æ˜¯å¯¹ C++å¤šé‡ç»§æ‰¿çš„æ‹’ç»ï¼Œé¡ºåº”æŠ½è±¡æ•°æ®çš„ç±»å‹èŒƒå¼æ˜¯å¯¹ Java <code>Interface</code>çš„å¸æ”¶ã€‚Objective-C 2.0 å¼•å…¥äº†<code>@property / @synthesize</code>åˆ™çµæ„Ÿæ¥è‡ª C#çš„ <code>get; set;</code> æ–¹æ³•å¯¹ getter å’Œ setter çš„é€Ÿè®°ï¼ˆå°±è¯­æ³•ä¸Šæ¥è¯´ï¼Œè¿™ä¹Ÿæ˜¯ NeXTSETP å¼ºç¡¬è·¯çº¿åšæŒè€…ç»å¸¸è¾©è®ºçš„ä¸€ç‚¹ï¼‰ã€‚Block ç»™è¿™é—¨è¯­è¨€å¸¦æ¥äº†å‡½æ•°å¼ç¼–ç¨‹çš„å¥½å¤„ï¼Œå¯ä»¥ä½¿ç”¨ Grand Central Dispatchâ€”â€”æ¥è‡ª Fortran / C / C++ standard <a href=https://en.wikipedia.org/wiki/OpenMP>OpenMP</a>æ€æƒ³è€Œæˆçš„åŸºäºé˜Ÿåˆ—çš„å¹¶å‘ APIã€‚ä¸‹æ ‡å’Œå¯¹è±¡å­—é¢é‡éƒ½æ˜¯åƒ Rubyã€Javascript è¿™æ ·çš„è„šæœ¬è¯­è¨€çš„æ ‡å‡†ç‰¹æ€§ï¼Œå¦‚ä»Šä¹Ÿç”±ä¸€ä¸ª Clang æ’ä»¶è¢«å¸¦å…¥äº† Objective-C çš„ä¸–ç•Œé‡Œã€‚</p><p>ReactiveCocoa åˆ™ç»™ Objective-C å¸¦æ¥äº†å‡½æ•°å“åº”å¼ç¼–ç¨‹çš„å¥åº·è¯å‰‚ã€‚å®ƒæœ¬èº«ä¹Ÿæ˜¯å— C#çš„<a href=http://msdn.microsoft.com/en-us/data/gg577609.aspx>Rx library</a>ã€<a href=https://en.wikipedia.org/wiki/Clojure>Clojure</a>å’Œ<a href=https://en.wikipedia.org/wiki/Elm_(programming_language)>Elm</a>çš„å½±å“å‘å±•è€Œæˆã€‚</p><p>å¥½çš„ç‚¹å­ä¼šä¼ æŸ“ã€‚ReactiveCocoa å°±æ˜¯ä¸€ç§è­¦ç¤ºï¼Œæé†’äººä»¬å¥½çš„ç‚¹å­ä¹Ÿå¯ä»¥ä»çœ‹ä¼¼ä¸å¤ªå¯èƒ½çš„åœ°æ–¹ä¼ æ’­è¿‡æ¥ï¼Œè¿™æ ·çš„æ–°é²œæ€æƒ³å¯¹è§£å†³ç±»ä¼¼çš„é—®é¢˜ä¹Ÿä¼šæœ‰å®Œå…¨ä¸åŒçš„æ–¹æ³•å‘¢ã€‚</p><hr><p>é™¤é<a href=https://nshipster.cn/ target=_blank>å¦æœ‰å£°æ˜</a>ï¼Œæœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ã€Œ<a href=https://creativecommons.org/licenses/by-nc/3.0/cn/ target=_blank>ç½²å-éå•†ä¸šæ€§ä½¿ç”¨ 3.0 ä¸­å›½å¤§é™†</a>ã€è®¸å¯åè®®æˆæƒã€‚</p><ins class=adsbygoogle style=display:block data-ad-client=ca-pub-8922574795542092 data-ad-slot=2802455178 data-ad-format=auto data-full-width-responsive=true></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><footer><p style="margin:0 -3px"><span style="float:left;margin:0 -3px"><a href=#mysite-singlepage-top title="Back to Top Â· å›é¡¶éƒ¨" rel=nofollow>&#127772;2013-02-18 </a>&copy;</span>
<span style="float:right;margin:0 -3px"><a href=https://autoptr.top/license/ title="Copyright &copy; All rights reserved" target=_blank rel=nofollow>&copy; 2026 Mattt ç‰ˆæƒæ‰€æœ‰</a><a href=https://autoptr.top/ title="Back to Home Â· å›é¦–é¡µ">&#127771;</a></span></p><hr><hr><p style="margin:3px 5px"><ul class=tags><span>æ ‡ç­¾:</span><li><a class=link href=https://autoptr.top/tags/C++ target=_blank>C++</a></li><li><a class=link href=https://autoptr.top/tags/nshipster target=_blank>nshipster</a></li><span>&nbsp;&nbsp;</span>
<span>åˆ†ç±»:</span><li><a class=link href=https://autoptr.top/categories/Open%20Source target=_blank>Open Source</a></li><li><a class=link href=https://autoptr.top/categories/macOS target=_blank>macOS</a></li><li><a class=link href=https://autoptr.top/categories/CC++ target=_blank>CC++</a></li></ul><p style=margin-bottom:2em></p></p></footer></div><script src=/jscss/ajax/libs/jquery/3.3.1/jquery.slim.min.js></script><script src=/jscss/ajax/libs/twitter-bootstrap/3.1.1/js/bootstrap.min.js></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-37ZP0S1L3D"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-37ZP0S1L3D")</script><script src=/jscss/ajax/libs/medium-zoom/1.0.4/medium-zoom.min.js></script><script>const zoom=mediumZoom();zoom.attach("p img")</script></body></html>