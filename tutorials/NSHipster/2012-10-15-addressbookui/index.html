<!doctype html><html><head><meta charset=utf-8><meta http-equiv=content-language content="zh-cn"><meta name=viewport content="width=device-width,initial-scale=.5"><title>AddressBookUI</title>
<link rel="shortcut icon" type=image/x-icon href=/media/shortcuticon.png><meta name=keywords content="AddressBookUI,macOS,C++,Cocoa,Objective-C,Swift,NSHipster"><meta name=description content="AddressBookUI,macOS,C++,Cocoa,Objective-C,Swift,NSHipster"><script>if(document.domain=="autoptr.pages.dev"){var url=window.location.href,url=url.replace(/autoptr+\.pages+\.dev/g,"www.autoptr.top");window.location.href=url}</script><script src=/jscss/ajax/libs/anchor-js/4.2.0/anchor.min.js></script><script>document.addEventListener("DOMContentLoaded",function(){anchors.options={visible:"hover",placement:"left",icon:"ğŸŒœ"},anchors.add()})</script><link rel=stylesheet href=/css/main.css><link href=/jscss/ajax/libs/highlight.js/9.12.0/styles/atom-one-dark.min.css rel=stylesheet><script src=/jscss/ajax/libs/highlight.js/9.12.0/highlight.min.js></script><script>hljs.initHighlightingOnLoad()</script><style type=text/css>body{background-color:#fbf6ec}</style><script>top.location!=self.location&&(top.location=self.location)</script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?746e6e6d14d22526bf274c834750df53",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script></head><body><script>window.addEventListener("resize",resizeThrottler,!1);var resizeTimeout;function resizeThrottler(){resizeTimeout||(resizeTimeout=setTimeout(function(){resizeTimeout=null,actualResizeHandler()},66))}actualResizeHandler();function actualResizeHandler(){/mobile/i.test(navigator.userAgent)||/android/i.test(navigator.userAgent)?document.body.classList.add("mobile"):document.body.classList.remove("mobile")}</script><a id=mysite-singlepage-top></a><div class=inner style=position:relative><div class=blog-post><h1 class=blog-title align=center><span class=btContent>AddressBookUI</span><span class=btRight><span title="Author Â· ä½œè€…" class=author>Mattt</span> <span title="Translator Â· ç¿»è¯‘" class=author>Henry Lee</span> <a href=https://github.com/NSHipster/articles-zh-Hans style=color:#007cd5 title="Related or Quoted Post Â· å…³è”æˆ–è½¬è½½å¼•ç”¨çš„æ–‡ç« " target=_blank rel="nofollow noopener noreferrer">&#128681;</a><a href=/tutorials/NSHipster/ title="Back to Topics Â· å›ä¸»é¢˜é¡µ">&#127793;</a></span></h1><p><a href=https://developer.apple.com/library/ios/#documentation/AddressBookUI/Reference/AddressBookUI_Framework/_index.html>Address Book UI</a>æ˜¯ç”¨æ¥åœ¨ç”¨æˆ·åœ°å€ç°¿å±•ç¤ºã€é€‰æ‹©ã€ç¼–è¾‘å’Œåˆ›å»ºè”ç³»äººçš„iOSæ¡†æ¶ã€‚ä¸<a href=https://developer.apple.com/library/ios/#documentation/MessageUI/Reference/MessageUI_Framework_Reference/_index.html>Message UI</a>æ¡†æ¶ç›¸ä¼¼ï¼ŒAddress Book UIåŒ…å«äº†ä¸€äº›å¯ä»¥ç”¨dismissViewControllerAnimated:completion:æ–¹æ³•æ¥å±•ç¤ºçš„è¯•å›¾æ§åˆ¶å™¨ï¼Œå®ƒé€šè¿‡ä¸€äº›ç»Ÿä¸€çš„æ¥å£æä¾›å¸¸ç”¨çš„ç³»ç»ŸåŠŸèƒ½ã€‚</p><p>è¦ç”¨åˆ°è¿™ä¸ªæ¡†æ¶ï¼Œä½ éœ€è¦æ·»åŠ <code>AddressBook.framework</code>å’Œ<code>AddressBookUI.framework</code>ä¸¤ä¸ªæ¡†æ¶åˆ°ä½ å·¥ç¨‹ä¸­build phaseçš„"Link Binary With Libraries"ä¹‹ä¸‹ã€‚</p><p>ä¹ä¸€çœ‹ä½ å¯èƒ½è§‰å¾—Address Book UIæ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«çš„åœ°æ–¹ã€‚</p><blockquote><p>å…¶å®ï¼Œåœ¨iOS 6é‡Œï¼Œ<code>MFMailComposeViewController</code>å’Œ<code>ABNewPersonViewController</code>æœ‰ä¸€äº›_éå¸¸æ£’_çš„å†…éƒ¨å¤„ç†å°ä¼ä¿©åœ¨èµ·ç€ä½œç”¨ï¼ŒOle Begemannå°±æœ‰ä¸€ç¯‡<a href=http://oleb.net/blog/2012/10/remote-view-controllers-in-ios-6/>å¾ˆæ£’çš„ã€éå¸¸å€¼å¾—è¯»çš„å…³äºè¿œç¨‹è§†å›¾æ§åˆ¶å™¨çš„æ–‡ç« </a>ã€‚</p></blockquote><p>æŠ›å¼€å‰©ä¸‹çš„View Controllerå’Œåè®®ï¼ŒAddress Book UIè¿˜æœ‰ä¸€ä¸ªåŠŸèƒ½ååˆ†æƒŠäººåœ°æœ‰ç”¨ã€‚</p><p><code>ABCreateStringWithAddressDictionary()</code>å‡½æ•°è¿”å›ä¸€ä¸ªå·²ç»æœ¬åœ°åŒ–ã€ç»“æ„åŒ–çš„åœ°å€å­—ç¬¦ä¸²ç»„ã€‚</p><p>å…³äºè¿™ä¸ªå‡½æ•°ç¬¬ä¸€ä¸ªè¦è®¨è®ºçš„é—®é¢˜æ˜¯åŒ…å«è¿™äº›ç»„æˆç»“æ„çš„å­—å…¸ï¼Œè¿™ä¸ªå­—å…¸æ˜¯ç”±ä»¥ä¸‹çš„å¸¸é‡ä½œä¸ºé”®å€¼çš„ã€‚</p><ul><li><code>kABPersonAddressStreetKey</code></li><li><code>kABPersonAddressCityKey</code></li><li><code>kABPersonAddressStateKey</code></li><li><code>kABPersonAddressZIPKey</code></li><li><code>kABPersonAddressCountryKey</code></li><li><code>kABPersonAddressCountryCodeKey</code></li></ul><p><code>kABPersonAddressCountryCodeKey</code> æ˜¯ä¸€ä¸ªå°¤å…¶é‡è¦çš„å±æ€§ï¼Œå®ƒå†³å®šäº†ç”¨æ¥æ ¼å¼åŒ–åœ°å€å­—ç¬¦ä¸²çš„è¯­è¨€ã€‚å¦‚æœä½ å¯¹å›½å®¶ä»£ç ä¸æ˜¯å¾ˆç¡®å®šæˆ–è€…æ²¡æœ‰ç¡®å®šçš„å›½å®¶ä»£ç æ•°æ®é›†ï¼Œä½ å¯ä»¥é€šè¿‡<code>NSLocale</code>åƒè¿™æ ·æ¥ç¡®å®šï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>[mutableAddressComponents setValue:[[[NSLocale alloc] initWithIdentifier:<span style=color:#e6db74>@&#34;en_US&#34;</span>] objectForKey:NSLocaleCountryCode] forKey:(<span style=color:#66d9ef>__bridge</span> NSString <span style=color:#f92672>*</span>)kABPersonAddressCountryCodeKey];
</span></span></code></pre></div><p>åœ¨å…¶ä»–ä»»ä½•æ¡†æ¶é‡Œä½ éƒ½æ‰¾ä¸åˆ°å®ç”¨æ€§è¿™ä¹ˆå¥½çš„åŠŸèƒ½ï¼Œè¿™ä¸éœ€è¦ç”¨åˆ°<a href=https://nshipster.com/nslocale/><code>NSLocale</code></a>ï¼Œç”šè‡³ä¹Ÿä¸éœ€è¦Map Kitå’ŒCore Locationæ¥å®šä½ã€‚è‹¹æœå°½äº†å¦‚æ­¤å¤šçš„åŠªåŠ›æ¥æé«˜å¾ˆå¤šæœ¬åœ°åŒ–çš„ç»†èŠ‚ï¼Œè€Œä½ ä¼šå¾ˆæƒŠå¥‡è¿™ä¹ˆä¸€ä¸ªé‡è¦çš„åŠŸèƒ½è¢«æ”¾åœ¨äº†ä¸€ä¸ªæ¨¡ç³Šä¸æ¸…ã€æ„Ÿè§‰ä¸Šä¸æ€ä¹ˆç›¸å…³çš„ä¸€ä¸ªæ¡†æ¶é‡Œã€‚</p><blockquote><p>ä¸è¿‡ï¼Œç”µè¯ç°¿UIåœ¨OS Xé‡Œä¸æä¾›ï¼Œä¼¼ä¹è¿™ä¸ªå¹³å°ä¹Ÿæ²¡æœ‰å…¶ä»–ç›¸åŒåŠŸèƒ½çš„å†…å®¹ã€‚</p></blockquote><p>ä½ çœ‹ï¼Œåœ°å€æ ¼å¼ä¼šå› ä¸ºåœ°åŒºçš„ä¸åŒç›¸å·®å¾ˆå¤§ï¼Œä¾‹å¦‚ï¼Œç¾å›½çš„åœ°å€æ˜¯ä¸‹é¢è¿™ä¸ªæ ¼å¼çš„ï¼š</p><pre><code>Street Address
City State ZIP
Country
</code></pre><p>è€Œæ—¥æœ¬çš„åœ°å€çš„è¡¨ç¤ºåˆ™æœ‰ä¸åŒçš„ä¹ æƒ¯ï¼š</p><pre><code>Postal Code
Prefecture Municipality
Street Address
Country
</code></pre><p>è¿™ä¸ªå’Œä¸åŒåœ°åŒºæœ‰ä¸åŒçš„<a href=https://en.wikipedia.org/wiki/Decimal_mark#Hindu.E2.80.93Arabic_numeral_system>å…¨è§’åŠè§’é€—å·</a>ä¸€æ ·çƒ¦äººï¼Œæ‰€ä»¥ï¼Œä½ è¿˜æ˜¯åœ¨å±•ç¤ºç»“æ„åŒ–çš„åœ°å€çš„æ—¶å€™å°½é‡å¤šåœ°ç”¨è¿™äº›å‡½æ•°æŠŠã€‚</p><blockquote><p>è¿˜æœ‰ä¸€ä¸ªå¾ˆæ£’çš„åˆ©ç”¨å·²ç»æœ¬åœ°åŒ–çš„åœ°å€ç°¿çš„æ–¹å¼å°±æ˜¯<a href=https://github.com/mattt/FormatterKit>FormatterKit</a>ï¼Œä»–åœ¨å®ƒçš„1.1ç‰ˆä¸­æ·»åŠ äº†<code>TTTAddressFormatter</code>ã€‚</p></blockquote><hr><p>é™¤é<a href=https://nshipster.cn/ target=_blank>å¦æœ‰å£°æ˜</a>ï¼Œæœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ã€Œ<a href=https://creativecommons.org/licenses/by-nc/3.0/cn/ target=_blank>ç½²å-éå•†ä¸šæ€§ä½¿ç”¨ 3.0 ä¸­å›½å¤§é™†</a>ã€è®¸å¯åè®®æˆæƒã€‚</p><ins class=adsbygoogle style=display:block data-ad-client=ca-pub-8922574795542092 data-ad-slot=2802455178 data-ad-format=auto data-full-width-responsive=true></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><footer><p style="margin:0 -3px"><span style="float:left;margin:0 -3px"><a href=#mysite-singlepage-top title="Back to Top Â· å›é¡¶éƒ¨" rel=nofollow>&#127772;2012-10-15 </a>&copy;</span>
<span style="float:right;margin:0 -3px"><a href=https://autoptr.top/license/ title="Copyright &copy; All rights reserved" target=_blank rel=nofollow>&copy; 2026 Mattt ç‰ˆæƒæ‰€æœ‰</a><a href=https://autoptr.top/ title="Back to Home Â· å›é¦–é¡µ">&#127771;</a></span></p><hr><hr><p style="margin:3px 5px"><ul class=tags><span>æ ‡ç­¾:</span><li><a class=link href=https://autoptr.top/tags/C++ target=_blank>C++</a></li><li><a class=link href=https://autoptr.top/tags/nshipster target=_blank>nshipster</a></li><span>&nbsp;&nbsp;</span>
<span>åˆ†ç±»:</span><li><a class=link href=https://autoptr.top/categories/Cocoa target=_blank>Cocoa</a></li><li><a class=link href=https://autoptr.top/categories/macOS target=_blank>macOS</a></li><li><a class=link href=https://autoptr.top/categories/CC++ target=_blank>CC++</a></li></ul><p style=margin-bottom:2em></p></p></footer></div><script src=/jscss/ajax/libs/jquery/3.3.1/jquery.slim.min.js></script><script src=/jscss/ajax/libs/twitter-bootstrap/3.1.1/js/bootstrap.min.js></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-37ZP0S1L3D"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-37ZP0S1L3D")</script><script src=/jscss/ajax/libs/medium-zoom/1.0.4/medium-zoom.min.js></script><script>const zoom=mediumZoom();zoom.attach("p img")</script></body></html>