<!doctype html><html><head><meta charset=utf-8><meta http-equiv=content-language content="zh-cn"><meta name=viewport content="width=device-width,initial-scale=.5"><title>NSFileManager</title>
<link rel="shortcut icon" type=image/x-icon href=/media/shortcuticon.png><meta name=keywords content="NSFileManager,macOS,C++,Cocoa,Objective-C,Swift,NSHipster"><meta name=description content="文件系统是一个复杂的主题，它有数十年的历史，一些遗留下的复杂性和一些特别的地方，已经不是一篇文章就可以描述的了。现在大多数的应用除了简单的文件操作之外不会经常与文件系统交互，所以有时候简单了解它的基础就行了。"><script>if(document.domain=="autoptr.pages.dev"){var url=window.location.href,url=url.replace(/autoptr+\.pages+\.dev/g,"www.autoptr.top");window.location.href=url}</script><script src=/jscss/ajax/libs/anchor-js/4.2.0/anchor.min.js></script><script>document.addEventListener("DOMContentLoaded",function(){anchors.options={visible:"hover",placement:"left",icon:"🌜"},anchors.add()})</script><link rel=stylesheet href=/css/main.css><link href=/jscss/ajax/libs/highlight.js/9.12.0/styles/atom-one-dark.min.css rel=stylesheet><script src=/jscss/ajax/libs/highlight.js/9.12.0/highlight.min.js></script><script>hljs.initHighlightingOnLoad()</script><style type=text/css>body{background-color:#fbf6ec}</style><script>top.location!=self.location&&(top.location=self.location)</script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?746e6e6d14d22526bf274c834750df53",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script></head><body><script>window.addEventListener("resize",resizeThrottler,!1);var resizeTimeout;function resizeThrottler(){resizeTimeout||(resizeTimeout=setTimeout(function(){resizeTimeout=null,actualResizeHandler()},66))}actualResizeHandler();function actualResizeHandler(){/mobile/i.test(navigator.userAgent)||/android/i.test(navigator.userAgent)?document.body.classList.add("mobile"):document.body.classList.remove("mobile")}</script><a id=mysite-singlepage-top></a><div class=inner style=position:relative><div class=blog-post><h1 class=blog-title align=center><span class=btContent>NSFileManager</span><span class=btRight><span title="Author · 作者" class=author>Mattt</span> <span title="Translator · 翻译" class=author>Lin Xiangyu</span> <a href=https://github.com/NSHipster/articles-zh-Hans style=color:#007cd5 title="Related or Quoted Post · 关联或转载引用的文章" target=_blank rel="nofollow noopener noreferrer">&#128681;</a><a href=/tutorials/NSHipster/ title="Back to Topics · 回主题页">&#127793;</a></span></h1><p><code>NSFileManager</code> 是处理文件系统的 Foundation 框架的高级API。它抽象了 Unix 和 Finder 的内部构成，和 iCloud ubiquitous containers 一样， 提供了创建，读取，移动，拷贝以及删除本地或者网络驱动器上的文件或者目录的方法。</p><p>文件系统是一个复杂的主题，它有数十年的历史，一些遗留下的复杂性和一些特别的地方，已经不是一篇文章就可以描述的了。现在大多数的应用除了简单的文件操作之外不会经常与文件系统交互，所以有时候简单了解它的基础就行了。</p><p>你可以复制粘贴下面的代码试试看，用他们作为你的代码基础，修改这些参数来达到你期望的效果。</p><h2 id=常用操作>常用操作</h2><p>纵观苹果提供的样例代码，尽是这样的黑魔法： <code>NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES)</code> ， 它或许绑定了KVO，也是Cocoa最糟糕的API之一。你只需要知道它返回了一个包含用户文档目录作为第一个元素的数组就行了。真要感谢 <code>NSArray -firstObject</code>。</p><h2 id=确定文件是否存在>确定文件是否存在</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>
</span></span><span style=display:flex><span>NSFileManager <span style=color:#f92672>*</span>fileManager <span style=color:#f92672>=</span> [NSFileManager defaultManager];
</span></span><span style=display:flex><span>NSString <span style=color:#f92672>*</span>documentsPath <span style=color:#f92672>=</span> [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) firstObject];
</span></span><span style=display:flex><span>NSString <span style=color:#f92672>*</span>filePath <span style=color:#f92672>=</span> [documentsPath stringByAppendingPathComponent:<span style=color:#e6db74>@&#34;file.txt&#34;</span>];
</span></span><span style=display:flex><span><span style=color:#66d9ef>BOOL</span> fileExists <span style=color:#f92672>=</span> [fileManager fileExistsAtPath:filePath];
</span></span></code></pre></div><h2 id=列出目录里面的所有文件>列出目录里面的所有文件</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>
</span></span><span style=display:flex><span>NSFileManager <span style=color:#f92672>*</span>fileManager <span style=color:#f92672>=</span> [NSFileManager defaultManager];
</span></span><span style=display:flex><span>NSURL <span style=color:#f92672>*</span>bundleURL <span style=color:#f92672>=</span> [[NSBundle mainBundle] bundleURL];
</span></span><span style=display:flex><span>NSArray <span style=color:#f92672>*</span>contents <span style=color:#f92672>=</span> [fileManager contentsOfDirectoryAtURL:bundleURL
</span></span><span style=display:flex><span>                               includingPropertiesForKeys:<span style=color:#ae81ff>@[]</span>
</span></span><span style=display:flex><span>                                                  options:NSDirectoryEnumerationSkipsHiddenFiles
</span></span><span style=display:flex><span>                                                    error:nil];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>NSPredicate <span style=color:#f92672>*</span>predicate <span style=color:#f92672>=</span> [NSPredicate predicateWithFormat:<span style=color:#e6db74>@&#34;pathExtension == &#39;png&#39;&#34;</span>];
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> (NSURL <span style=color:#f92672>*</span>fileURL <span style=color:#66d9ef>in</span> [contents filteredArrayUsingPredicate:predicate]) {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 在目录中枚举 .png 文件
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><h3 id=在目录中递归地遍历文件>在目录中递归地遍历文件</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>
</span></span><span style=display:flex><span>NSFileManager <span style=color:#f92672>*</span>fileManager <span style=color:#f92672>=</span> [NSFileManager defaultManager];
</span></span><span style=display:flex><span>NSURL <span style=color:#f92672>*</span>bundleURL <span style=color:#f92672>=</span> [[NSBundle mainBundle] bundleURL];
</span></span><span style=display:flex><span>NSDirectoryEnumerator <span style=color:#f92672>*</span>enumerator <span style=color:#f92672>=</span> [fileManager enumeratorAtURL:bundleURL
</span></span><span style=display:flex><span>                                      includingPropertiesForKeys:<span style=color:#ae81ff>@[</span>NSURLNameKey, NSURLIsDirectoryKey<span style=color:#ae81ff>]</span>
</span></span><span style=display:flex><span>                                                         options:NSDirectoryEnumerationSkipsHiddenFiles
</span></span><span style=display:flex><span>                                                    errorHandler:<span style=color:#f92672>^</span><span style=color:#66d9ef>BOOL</span>(NSURL <span style=color:#f92672>*</span>url, NSError <span style=color:#f92672>*</span>error)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (error) {
</span></span><span style=display:flex><span>        NSLog(<span style=color:#e6db74>@&#34;[Error] %@ (%@)&#34;</span>, error, url);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> NO;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> YES;
</span></span><span style=display:flex><span>}];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>NSMutableArray <span style=color:#f92672>*</span>mutableFileURLs <span style=color:#f92672>=</span> [NSMutableArray array];
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> (NSURL <span style=color:#f92672>*</span>fileURL <span style=color:#66d9ef>in</span> enumerator) {
</span></span><span style=display:flex><span>    NSString <span style=color:#f92672>*</span>filename;
</span></span><span style=display:flex><span>    [fileURL getResourceValue:<span style=color:#f92672>&amp;</span>filename forKey:NSURLNameKey error:nil];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    NSNumber <span style=color:#f92672>*</span>isDirectory;
</span></span><span style=display:flex><span>    [fileURL getResourceValue:<span style=color:#f92672>&amp;</span>isDirectory forKey:NSURLIsDirectoryKey error:nil];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Skip directories with &#39;_&#39; prefix, for example
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> ([filename hasPrefix:<span style=color:#e6db74>@&#34;_&#34;</span>] <span style=color:#f92672>&amp;&amp;</span> [isDirectory boolValue]) {
</span></span><span style=display:flex><span>        [enumerator skipDescendants];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>continue</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>[isDirectory boolValue]) {
</span></span><span style=display:flex><span>        [mutableFileURLs addObject:fileURL];
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=创建一个目录>创建一个目录</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>
</span></span><span style=display:flex><span>NSFileManager <span style=color:#f92672>*</span>fileManager <span style=color:#f92672>=</span> [NSFileManager defaultManager];
</span></span><span style=display:flex><span>NSString <span style=color:#f92672>*</span>documentsPath <span style=color:#f92672>=</span> [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) firstObject];
</span></span><span style=display:flex><span>NSString <span style=color:#f92672>*</span>imagesPath <span style=color:#f92672>=</span> [documentsPath stringByAppendingPathComponent:<span style=color:#e6db74>@&#34;images&#34;</span>];
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>[fileManager fileExistsAtPath:imagesPath]) {
</span></span><span style=display:flex><span>    [fileManager createDirectoryAtPath:imagesPath withIntermediateDirectories:NO attributes:nil error:nil];
</span></span><span style=display:flex><span>}<span style=color:#960050;background-color:#1e0010>］</span>
</span></span></code></pre></div><h3 id=删除一个目录>删除一个目录</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>NSFileManager <span style=color:#f92672>*</span>fileManager <span style=color:#f92672>=</span> [NSFileManager defaultManager];
</span></span><span style=display:flex><span>NSString <span style=color:#f92672>*</span>documentsPath <span style=color:#f92672>=</span> [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) firstObject];
</span></span><span style=display:flex><span>NSString <span style=color:#f92672>*</span>filePath <span style=color:#f92672>=</span> [documentsPath stringByAppendingPathComponent:<span style=color:#e6db74>@&#34;image.png&#34;</span>];
</span></span><span style=display:flex><span>NSError <span style=color:#f92672>*</span>error <span style=color:#f92672>=</span> nil;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>[fileManager removeItemAtPath:filePath error:<span style=color:#f92672>&amp;</span>error]) {
</span></span><span style=display:flex><span>    NSLog(<span style=color:#e6db74>@&#34;[Error] %@ (%@)&#34;</span>, error, filePath);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=删除文件的创建日期>删除文件的创建日期</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>
</span></span><span style=display:flex><span>NSFileManager <span style=color:#f92672>*</span>fileManager <span style=color:#f92672>=</span> [NSFileManager defaultManager];
</span></span><span style=display:flex><span>NSString <span style=color:#f92672>*</span>documentsPath <span style=color:#f92672>=</span> [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) firstObject];
</span></span><span style=display:flex><span>NSString <span style=color:#f92672>*</span>filePath <span style=color:#f92672>=</span> [documentsPath stringByAppendingPathComponent:<span style=color:#e6db74>@&#34;Document.pages&#34;</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>NSDate <span style=color:#f92672>*</span>creationDate <span style=color:#f92672>=</span> nil;
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> ([fileManager fileExistsAtPath:filePath]) {
</span></span><span style=display:flex><span>    NSDictionary <span style=color:#f92672>*</span>attributes <span style=color:#f92672>=</span> [fileManager attributesOfItemAtPath:filePath error:nil];
</span></span><span style=display:flex><span>    creationDate <span style=color:#f92672>=</span> attributes[NSFileCreationDate];
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>通过NSFileManager的 <code>-attributesOfItemAtPath:error:</code> 和其它方法可以访问很多文件的属性</p><h4 id=文件属性的键>文件属性的键</h4><blockquote><ul><li><code>NSFileAppendOnly</code>: 文件是否只读</li><li><code>NSFileBusy</code>: 文件是否繁忙</li><li><code>NSFileCreationDate</code>: 文件创建日期</li><li><code>NSFileOwnerAccountName</code>: 文件所有者的名字</li><li><code>NSFileGroupOwnerAccountName</code>: 文件所有组的名字</li><li><code>NSFileDeviceIdentifier</code>: 文件所在驱动器的标示符</li><li><code>NSFileExtensionHidden</code>: 文件后缀是否隐藏</li><li><code>NSFileGroupOwnerAccountID</code>: 文件所有组的group ID</li><li><code>NSFileHFSCreatorCode</code>: 文件的HFS创建者的代码</li><li><code>NSFileHFSTypeCode</code>: 文件的HFS类型代码</li><li><code>NSFileImmutable</code>: 文件是否可以改变</li><li><code>NSFileModificationDate</code>: 文件修改日期</li><li><code>NSFileOwnerAccountID</code>: 文件所有者的ID</li><li><code>NSFilePosixPermissions</code>: 文件的Posix权限</li><li><code>NSFileReferenceCount</code>: 文件的链接数量</li><li><code>NSFileSize</code>: 文件的字节</li><li><code>NSFileSystemFileNumber</code>: 文件在文件系统的文件数量</li><li><code>NSFileType</code>: 文件类型</li><li><code>NSDirectoryEnumerationSkipsSubdirectoryDescendants</code>: 浅层的枚举，不会枚举子目录</li><li><code>NSDirectoryEnumerationSkipsPackageDescendants</code>: 不会扫描pakages的内容</li><li><code>NSDirectoryEnumerationSkipsHiddenFile</code>: 不会扫描隐藏文件</li></ul></blockquote><h2 id=nsfilemanagerdelegate>NSFileManagerDelegate</h2><p>NSFileManager 可以设置一个 <code>&lt;NSFileManagerDelegate></code> protocol 来确认是否要进行特定的文件操作。它允许进行一些业务逻辑，比如保护一些文件删除，在 Controller 中删除一些元素</p><p><code>NSFileManagerDelegate</code>里面有四个方法，每个按照path变化</p><ul><li><code>-fileManager:shouldMoveItemAtURL:toURL:</code></li><li><code>-fileManager:shouldCopyItemAtURL:toURL:</code></li><li><code>-fileManager:shouldRemoveItemAtURL:</code></li><li><code>-fileManager:shouldLinkItemAtURL:toURL:</code></li></ul><p>如果你想用 <code>alloc init</code> 初始化你自己的 <code>NSFileManager</code> 来取代shared实例，那就要用它了，就像文档说的</p><blockquote><p>如果你使用一个delegate 来接受移动，拷贝，涉案出，以及链接的操作，你需要创建一个独一无二的实例，将delegate绑定到你的实例中，用这个fielmanager开始你的操作</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>
</span></span><span style=display:flex><span>NSFileManager <span style=color:#f92672>*</span>fileManager <span style=color:#f92672>=</span> [[NSFileManager alloc] init];
</span></span><span style=display:flex><span>fileManager.delegate <span style=color:#f92672>=</span> delegate;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>NSURL <span style=color:#f92672>*</span>bundleURL <span style=color:#f92672>=</span> [[NSBundle mainBundle] bundleURL];
</span></span><span style=display:flex><span>NSArray <span style=color:#f92672>*</span>contents <span style=color:#f92672>=</span> [fileManager contentsOfDirectoryAtURL:bundleURL
</span></span><span style=display:flex><span>                               includingPropertiesForKeys:<span style=color:#ae81ff>@[]</span>
</span></span><span style=display:flex><span>                                                  options:NSDirectoryEnumerationSkipsHiddenFiles
</span></span><span style=display:flex><span>                                                    error:nil];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> (NSString <span style=color:#f92672>*</span>filePath <span style=color:#66d9ef>in</span> contents) {
</span></span><span style=display:flex><span>    [fileManager removeItemAtPath:filePath error:nil];
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=customfilemanagerdelegatem>CustomFileManagerDelegate.m</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#75715e>#pragma mark - NSFileManagerDelegate
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>- (<span style=color:#66d9ef>BOOL</span>)<span style=color:#a6e22e>fileManager:</span>(NSFileManager <span style=color:#f92672>*</span>)fileManager
</span></span><span style=display:flex><span><span style=color:#a6e22e>shouldRemoveItemAtURL:</span>(NSURL <span style=color:#f92672>*</span>)URL
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#f92672>!</span>[[[URL lastPathComponent] pathExtension] isEqualToString:<span style=color:#e6db74>@&#34;pdf&#34;</span>];
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=ubiquitous-storage>Ubiquitous Storage</h2><p>文档也可与放到iCloud里面。如果你猜可以直截了当的进行操作，恭喜你猜对了。</p><p>这里有一个其它用到 <code>alloc init</code> 的地方，因为 <code>URLForUbiquityContainerIdentifier: and setUbiquitous:itemAtURL:destinationURL:error:</code> 是代码块调用，所以整个操作需要在后台队列分发</p><h3 id=将文件放到icloud里面>将文件放到iCloud里面</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_BACKGROUND, <span style=color:#ae81ff>0</span>), <span style=color:#f92672>^</span>{
</span></span><span style=display:flex><span>    NSFileManager <span style=color:#f92672>*</span>fileManager <span style=color:#f92672>=</span> [[NSFileManager alloc] init];
</span></span><span style=display:flex><span>    NSString <span style=color:#f92672>*</span>documentsPath <span style=color:#f92672>=</span> [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) firstObject];
</span></span><span style=display:flex><span>    NSURL <span style=color:#f92672>*</span>fileURL <span style=color:#f92672>=</span> [NSURL fileURLWithPath:[documentsPath stringByAppendingPathComponent:<span style=color:#e6db74>@&#34;Document.pages&#34;</span>]];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>//这里的 identifier 应该设置为 entitlements 的第一个元素；当你使用这段代码的时候需要把 identifier 设置为你自己的真实 identifier
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    NSString <span style=color:#f92672>*</span>identifier <span style=color:#f92672>=</span> nil;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    NSURL <span style=color:#f92672>*</span>ubiquitousContainerURL <span style=color:#f92672>=</span> [fileManager URLForUbiquityContainerIdentifier:identifier];
</span></span><span style=display:flex><span>    NSURL <span style=color:#f92672>*</span>ubiquitousFileURL <span style=color:#f92672>=</span> [ubiquitousContainerURL URLByAppendingPathComponent:<span style=color:#e6db74>@&#34;Document.pages&#34;</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    NSError <span style=color:#f92672>*</span>error <span style=color:#f92672>=</span> nil;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>BOOL</span> success <span style=color:#f92672>=</span> [fileManager setUbiquitous:YES
</span></span><span style=display:flex><span>                                    itemAtURL:fileURL
</span></span><span style=display:flex><span>                               destinationURL:ubiquitousFileURL
</span></span><span style=display:flex><span>                                        error:<span style=color:#f92672>&amp;</span>error];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>success) {
</span></span><span style=display:flex><span>        NSLog(<span style=color:#e6db74>@&#34;[Error] %@ (%@) (%@)&#34;</span>, error, fileURL, ubiquitousFileURL);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>});
</span></span></code></pre></div><blockquote><p>你可以在苹果的 <code>iCloud File Management</code> 文档里面找到更多信息</p></blockquote><hr><p>关于文件系统需要知道很多东西，但大多数是理论测验层面的。别误会，这些理论测验并没有错！但理论并不能教你代码该怎么写。NSFileManager可以让你不用学习它们大多数的内容就能完成工作。</p><hr><p>除非<a href=https://nshipster.cn/ target=_blank>另有声明</a>，本文采用知识共享「<a href=https://creativecommons.org/licenses/by-nc/3.0/cn/ target=_blank>署名-非商业性使用 3.0 中国大陆</a>」许可协议授权。</p><ins class=adsbygoogle style=display:block data-ad-client=ca-pub-8922574795542092 data-ad-slot=2802455178 data-ad-format=auto data-full-width-responsive=true></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><footer><p style="margin:0 -3px"><span style="float:left;margin:0 -3px"><a href=#mysite-singlepage-top title="Back to Top · 回顶部" rel=nofollow>&#127772;2013-11-18 </a>&copy;</span>
<span style="float:right;margin:0 -3px"><a href=https://autoptr.top/license/ title="Copyright &copy; All rights reserved" target=_blank rel=nofollow>&copy; 2025 Mattt 版权所有</a><a href=https://autoptr.top/ title="Back to Home · 回首页">&#127771;</a></span></p><hr><hr><p style="margin:3px 5px"><ul class=tags><span>标签:</span><li><a class=link href=https://autoptr.top/tags/C++ target=_blank>C++</a></li><li><a class=link href=https://autoptr.top/tags/nshipster target=_blank>nshipster</a></li><span>&nbsp;&nbsp;</span>
<span>分类:</span><li><a class=link href=https://autoptr.top/categories/Cocoa target=_blank>Cocoa</a></li><li><a class=link href=https://autoptr.top/categories/macOS target=_blank>macOS</a></li><li><a class=link href=https://autoptr.top/categories/CC++ target=_blank>CC++</a></li></ul><p style=margin-bottom:2em></p></p></footer></div><script src=/jscss/ajax/libs/jquery/3.3.1/jquery.slim.min.js></script><script src=/jscss/ajax/libs/twitter-bootstrap/3.1.1/js/bootstrap.min.js></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-37ZP0S1L3D"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-37ZP0S1L3D")</script><script src=/jscss/ajax/libs/medium-zoom/1.0.4/medium-zoom.min.js></script><script>const zoom=mediumZoom();zoom.attach("p img")</script></body></html>