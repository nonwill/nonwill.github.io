<!doctype html><html><head><meta charset=utf-8><meta http-equiv=content-language content="zh-cn"><meta name=viewport content="width=device-width,initial-scale=.5"><title>CFStringTransform</title>
<link rel="shortcut icon" type=image/x-icon href=/media/shortcuticon.png><meta name=keywords content="CFStringTransform,macOS,C++,Cocoa,Objective-C,Swift,NSHipster"><meta name=description content="CFStringTransform,macOS,C++,Cocoa,Objective-C,Swift,NSHipster"><script>if(document.domain=="autoptr.pages.dev"){var url=window.location.href,url=url.replace(/autoptr+\.pages+\.dev/g,"www.autoptr.top");window.location.href=url}</script><script src=/jscss/ajax/libs/anchor-js/4.2.0/anchor.min.js></script><script>document.addEventListener("DOMContentLoaded",function(){anchors.options={visible:"hover",placement:"left",icon:"ğŸŒœ"},anchors.add()})</script><link rel=stylesheet href=/css/main.css><link href=/jscss/ajax/libs/highlight.js/9.12.0/styles/atom-one-dark.min.css rel=stylesheet><script src=/jscss/ajax/libs/highlight.js/9.12.0/highlight.min.js></script><script>hljs.initHighlightingOnLoad()</script><style type=text/css>body{background-color:#fbf6ec}</style><script>top.location!=self.location&&(top.location=self.location)</script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?746e6e6d14d22526bf274c834750df53",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script></head><body><script>window.addEventListener("resize",resizeThrottler,!1);var resizeTimeout;function resizeThrottler(){resizeTimeout||(resizeTimeout=setTimeout(function(){resizeTimeout=null,actualResizeHandler()},66))}actualResizeHandler();function actualResizeHandler(){/mobile/i.test(navigator.userAgent)||/android/i.test(navigator.userAgent)?document.body.classList.add("mobile"):document.body.classList.remove("mobile")}</script><a id=mysite-singlepage-top></a><div class=inner style=position:relative><div class=blog-post><h1 class=blog-title align=center><span class=btContent>CFStringTransform</span><span class=btRight><span title="Author Â· ä½œè€…" class=author>Mattt</span> <span title="Translator Â· ç¿»è¯‘" class=author>Ricky Tan</span> <a href=https://github.com/NSHipster/articles-zh-Hans style=color:#007cd5 title="Related or Quoted Post Â· å…³è”æˆ–è½¬è½½å¼•ç”¨çš„æ–‡ç« " target=_blank rel="nofollow noopener noreferrer">&#128681;</a><a href=/tutorials/NSHipster/ title="Back to Topics Â· å›ä¸»é¢˜é¡µ">&#127793;</a></span></h1><p>å…³äºä¸€ç§è¯­è¨€å¥½ä¸å¥½ç”¨ï¼Œä½ åªéœ€è¦è¡¡é‡ä»¥ä¸‹ä¸¤ç§æŒ‡æ ‡ï¼š</p><ol><li>API çš„ç»Ÿä¸€æ€§</li><li>String ç±»çš„å®ç°è´¨é‡</li></ol><p><code>NSString</code> æ˜¯åŸºç¡€ç±»åº“ä¸­çš„ä½¼ä½¼è€…ã€‚åœ¨é‚£ä¸ªå…¶ä»–è¯­è¨€ <em>ä»åœ¨</em> è‰°éš¾åœ°æ­£ç†å¤„ç† Unicode çš„æ—¶ä»£ï¼Œ<code>NSString</code> æ˜¯å°¤å…¶è®©äººå°è±¡æ·±åˆ»çš„ã€‚ä¸ä»…ä»…æ˜¯ä»»ä½•å†…å®¹æ‰”åœ¨å®ƒé‡Œé¢å°±èƒ½ <em>æ­£ç¡®å·¥ä½œ</em> ï¼Œ<code>NSString</code> è¿˜èƒ½å°†å­—ç¬¦ä¸²è§£ææˆè¯­æ³•æ ‡ç­¾ã€æ£€æµ‹å‡ºå†…å®¹ä¸­çš„é¦–è¦è¯­è¨€ï¼Œå¹¶ä¸”åœ¨ä»»æ„ä½ èƒ½æƒ³åˆ°çš„å­—ç¬¦ç¼–ç ä¸­è½¬æ¢ã€‚å®ƒå¥½ç”¨å¾—ç¦»è°±ã€‚</p><p>å®ƒè™½ç„¶å¾ˆå¼ºå¤§ï¼Œä½†æ˜¯ä¸ææå®ƒçš„å¯æ— ç¼è½¬æ¢ï¼ˆ<a href=https://developer.apple.com/library/ios/#documentation/CoreFoundation/Conceptual/CFDesignConcepts/Articles/tollFreeBridgedTypes.html>toll-free bridged</a>ï¼‰çš„è¡¨å…„å¼Ÿ CFMutableStringï¼Œæˆ–è€…æ›´ç‰¹æ®Šçš„ CFStringTransformï¼Œæ˜¯ä¸è´Ÿè´£ä»»çš„ã€‚</p><p>æ­£å¦‚å®ƒçš„ <code>CF</code> å‰ç¼€æ‰€è¡¨è¿°çš„ä¸€æ ·ï¼Œ<code>CFStringTransform</code> æ˜¯ Core Foundation ä¸­çš„ä¸€éƒ¨åˆ†ã€‚è¿™ä¸ªå‡½æ•°ä¼ å…¥ä»¥ä¸‹å‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ª <code>Boolean</code> æ¥è¡¨ç¤ºè½¬æ¢æ˜¯å¦æˆåŠŸï¼š</p><ul><li><code>string</code>: éœ€è¦è½¬æ¢çš„å­—ç¬¦ä¸²ã€‚ç”±äºè¿™ä¸ªå‚æ•°æ˜¯ <code>CFMutableStringRef</code> ç±»å‹ï¼Œä¸€ä¸ª <code>NSMutableString</code> ç±»å‹ä¹Ÿå¯ä»¥é€šè¿‡è‡ªç”±æ¡¥æ¥çš„æ–¹å¼ä¼ å…¥ã€‚</li><li><code>range</code>: è½¬æ¢æ“ä½œä½œç”¨çš„èŒƒå›´ã€‚è¿™ä¸ªå‚æ•°æ˜¯ <code>CFRange</code>ï¼Œè€Œä¸æ˜¯ <code>NSRange</code>ã€‚</li><li><code>transform</code>: éœ€è¦åº”ç”¨çš„å˜æ¢ã€‚è¿™ä¸ªå‚æ•°ä½¿ç”¨äº†åŒ…å«ä¸‹é¢å°†æåˆ°çš„å­—ç¬¦ä¸²å¸¸é‡çš„ <a href=http://userguide.icu-project.org/transforms/general>ICU transform string</a>ã€‚</li><li><code>reverse</code>: å¦‚æœ‰éœ€è¦ï¼Œæ˜¯å¦è¿”å›åè½¬è¿‡çš„å˜æ¢ã€‚</li></ul><p><code>CFStringTransform</code> ä¸­çš„ <code>transform</code> å‚æ•°æ¶‰åŠçš„å†…å®¹å¾ˆå¤šã€‚è¿™é‡Œæœ‰ä¸ªå®ƒèƒ½åšä»€ä¹ˆçš„æ¦‚è¿°ï¼š</p><h2 id=å»æ‰é‡éŸ³å’Œå˜éŸ³ç¬¦>å»æ‰é‡éŸ³å’Œå˜éŸ³ç¬¦</h2><p>Ã‰nÄ¡liÅ¡h lÃ¥nguÃ£ge láº³cks iÃ±terÃªÃŸÅ£ing diaÃ§rÃ¯tiÄÅŸ. å¦‚æ­¤ç±»çš„å­—ç¬¦ä¸²ï¼ŒæŠŠæ‰©å±•çš„æ‹‰ä¸å­—ç¬¦é›†æ­£åˆ™åŒ–ä¸º ASCII å‹å¥½å‹çš„è¡¨ç¤ºï¼Œå®ƒéå¸¸æœ‰ç”¨ã€‚ç”¨ <code>kCFStringTransformStripCombiningMarks</code> å˜æ¢æ¥å»æ‰ä»»æ„å­—ç¬¦ä¸²ä¸­å¼¯å¼¯æ‰­æ‰­çš„ç¬¦å·ã€‚</p><h2 id=ä¸º-unicode-å­—ç¬¦å‘½å>ä¸º Unicode å­—ç¬¦å‘½å</h2><p><code>kCFStringTransformToUnicodeName</code> è®©ä½ å¯ä»¥æ‰¾å‡ºç‰¹æ®Šå­—ç¬¦çš„ Unicode æ ‡å‡†åï¼ŒåŒ…æ‹¬ Emojiã€‚ä¾‹å¦‚ï¼š"ğŸ‘ğŸ’¨âœ¨" è¢«è½¬æ¢æˆ &ldquo;{SHEEP} {DASH SYMBOL} {SPARKLES}"ï¼Œè€Œ &ldquo;ğŸ·&rdquo; å˜æˆäº† &ldquo;{PIG FACE}"ã€‚</p><h2 id=ä¸åŒæ‹¼å†™ä¹‹é—´è½¬å†™>ä¸åŒæ‹¼å†™ä¹‹é—´è½¬å†™</h2><p>é™¤äº†è‹±è¯­è¿™ä¸ªé‡å¤§ä¾‹å¤–ï¼ˆå’Œå®ƒé‚£ä»¤äººæ„‰å¿«çš„æ‹¼å†™ä¸ä¸€è‡´ï¼‰ï¼Œä¹¦å†™ç³»ç»Ÿä¸€èˆ¬æ˜¯å°†è¯­è¨€éŸ³è°ƒç¼–ç æˆä¸€è‡´çš„ç¬¦å·è¡¨ç¤ºã€‚æ¬§æ´²è¯­è¨€ä¸€èˆ¬ä½¿ç”¨æ‹‰ä¸å­—æ¯ï¼ˆå¤–åŠ ä¸€äº›å˜éŸ³ç¬¦ï¼‰ï¼Œä¿„ç½—æ–¯ç”¨è¥¿é‡Œå°”å­—æ¯ï¼Œæ—¥æœ¬ç”¨å¹³å‡åå’Œç‰‡å‡åï¼Œæ³°å›½ã€éŸ©å›½å’Œé˜¿æ‹‰ä¼¯å›½å®¶ä¹Ÿéƒ½æœ‰è‡ªå·±çš„å­—æ¯ã€‚</p><p>è™½ç„¶æ¯ç§è¯­è¨€éƒ½æœ‰ç‰¹æ®Šçš„éŸ³è°ƒåˆ—è¡¨ï¼Œä¹Ÿè®¸æœ‰äº›å…¶ä»–è¯­è¨€ä¼šç¼ºå¤±ï¼Œæ‰€æœ‰ä¸»è¦ä¹¦å†™ç³»ç»Ÿçš„äº¤é›†å·²ç»è¶³ä»¥è®©ä½ é«˜æ•ˆçš„åœ¨ä¸åŒå­—æ¯ä¹‹é—´<a href=https://zh.wikipedia.org/wiki/%E8%BD%AC%E5%86%99>è½¬å†™</a>ï¼ˆä¸è¦è·Ÿ<a href=https://zh.wikipedia.org/wiki/%E7%BF%BB%E8%AF%91>ç¿»è¯‘</a>ææ··äº†ï¼‰ã€‚</p><p><code>CFStringTransform</code> å¯ä»¥åœ¨æ‹‰ä¸è¯­å’Œé˜¿æ‹‰ä¼¯è¯­ã€è¥¿é‡Œå°”è¯­ã€å¸Œè…Šè¯­ã€éŸ©è¯­ï¼ˆéŸ©å›½ï¼‰ã€å¸Œä¼¯æ¥è¯­ã€æ—¥è¯­ï¼ˆå¹³å‡åå’Œç‰‡å‡åï¼‰ã€æ™®é€šè¯ã€æ³°è¯­ä¹‹é—´æ¥å›è½¬å†™ã€‚</p><table><thead><tr><th>Transformation</th><th>Input</th><th>Output</th></tr></thead><tbody><tr><td><tt>kCFStringTransformLatinArabic</tt></td><td>mrá¸¥báº¡</td><td>Ù…Ø±Ø­Ø¨Ø§</td></tr><tr><td><tt>kCFStringTransformLatinCyrillic</tt></td><td>privet</td><td>Ğ¿Ñ€Ğ¸Ğ²ĞµÑ‚</td></tr><tr><td><tt>kCFStringTransformLatinGreek</tt></td><td>geiÃ¡ sou</td><td>Î³ÎµÎ¹Î¬ ÏƒÎ¿Ï…</td></tr><tr><td><tt>kCFStringTransformLatinHangul</tt></td><td>annyeonghaseyo</td><td>ì•ˆë…•í•˜ì„¸ìš”</td></tr><tr><td><tt>kCFStringTransformLatinHebrew</tt></td><td>ÅŸlwm</td><td>×©×œ×•×</td></tr><tr><td><tt>kCFStringTransformLatinHiragana</tt></td><td>hiragana</td><td>ã²ã‚‰ãŒãª</td></tr><tr><td><tt>kCFStringTransformLatinKatakana</tt></td><td>katakana</td><td>ã‚«ã‚¿ã‚«ãƒŠ</td></tr><tr><td><tt>kCFStringTransformLatinThai</tt></td><td>sÌ„wáº¡sÌ„dÄ«</td><td>à¸ªà¸§à¸±à¸ªà¸”à¸µ</td></tr><tr><td><tt>kCFStringTransformHiraganaKatakana</tt></td><td>ã«ã»ã‚“ã”</td><td>ãƒ‹ãƒ›ãƒ³ã‚´</td></tr><tr><td><tt>kCFStringTransformMandarinLatin</tt></td><td>ä¸­æ–‡</td><td>zhÅng wÃ©n</td></tr></tbody></table><blockquote><p>å¹¶ä¸”è¿™åªæ˜¯ç”¨äº†æ ¸å¿ƒç±»åº“ä¸­å¸¸é‡å®šä¹‰ï¼ç›´æ¥ä¼ å…¥ä¸€ä¸ª<a href=http://userguide.icu-project.org/transforms/general#TOC-ICU-Transliterators>ICU transform</a>è¡¨è¾¾å¼ï¼Œ<code>CFStringTransform</code> è¿˜å¯ä»¥åœ¨æ‹‰ä¸è¯­å’Œé˜¿æ‹‰ä¼¯è¯­ã€äºšç¾å°¼äºšè¯­ã€æ³¨éŸ³ã€è¥¿é‡Œå°”å­—æ¯ã€æ ¼é²å‰äºšè¯­ã€å¸Œè…Šè¯­ã€æ±‰è¯­ã€éŸ©è¯­ã€å¸Œä¼¯æ¥è¯­ã€å¹³å‡åã€å°åº¦è¯­ï¼ˆæ¢µæ–‡ï¼Œå¤å‰æ‹‰ç‰¹è¯­ï¼Œæ—é®æ™®æ–‡ï¼Œå¡çº³è¾¾è¯­ï¼Œé©¬æ‹‰é›…æ‹‰å§†è¯­ï¼Œå¥¥é‡Œé›…è¯­ï¼Œæ³°ç±³å°”è¯­ï¼Œç‰¹å¢å›ºï¼‰ã€æœé²œè¯­ã€ç‰‡å‡åã€å™åˆ©äºšè¯­ã€å¡”çº³æ–‡ã€æ³°è¯­ä¹‹é—´è½¬å†™ã€‚</p></blockquote><h2 id=æ­£åˆ™åŒ–ç”¨æˆ·äº§ç”Ÿçš„å†…å®¹>æ­£åˆ™åŒ–ç”¨æˆ·äº§ç”Ÿçš„å†…å®¹</h2><p>å­—ç¬¦ä¸²å˜æ¢çš„ä¸€ä¸ªæ›´å®é™…çš„åº”ç”¨æ˜¯æ­£åˆ™åŒ–ä¸å¯é¢„çŸ¥çš„ç”¨æˆ·è¾“å…¥ã€‚å³ä½¿ä½ çš„åº”ç”¨å¹¶ä¸å•ç‹¬å¤„ç†å…¶ä»–è¯­è¨€ï¼Œä½ ä¹Ÿåº”å½“èƒ½æ™ºèƒ½åœ°å¤„ç†ç”¨æˆ·å‘ä½ çš„åº”ç”¨è¾“å…¥çš„ä»»ä½•å†…å®¹ã€‚</p><p>ä¾‹å¦‚ï¼Œä½ æƒ³åœ¨è®¾å¤‡ä¸Šå»ºç«‹ä¸€ä¸ªå¯æœç´¢çš„ç”µå½±ç´¢å¼•ï¼Œå®ƒåŒ…å«ä¸–ç•Œå„åœ°çš„äººçš„é—®å€™ï¼š</p><ul><li>é¦–å…ˆï¼Œåº”ç”¨ <code>kCFStringTransformToLatin</code> å˜æ¢å°†æ‰€æœ‰éè‹±æ–‡æ–‡æœ¬è½¬æ¢ä¸ºæ‹‰ä¸å­—æ¯è¡¨ç¤ºã€‚</li></ul><blockquote><p>Hello! ã“ã‚“ã«ã¡ã¯! à¸ªà¸§à¸±à¸ªà¸”à¸µ! Ù…Ø±Ø­Ø¨Ø§! æ‚¨å¥½! â†’
Hello! kon&rsquo;nichiha! sÌ„wáº¡sÌ„dÄ«! mrá¸¥báº¡! nÃ­n hÇo!</p></blockquote><ul><li>ç„¶åï¼Œåº”ç”¨ <code>kCFStringTransformStripCombiningMarks</code> å˜æ¢æ¥å»é™¤å˜éŸ³ç¬¦å’Œé‡éŸ³ã€‚</li></ul><blockquote><p>Hello! kon&rsquo;nichiha! sÌ„wáº¡sÌ„dÄ«! mrá¸¥báº¡! nÃ­n hÇo! â†’
Hello! kon&rsquo;nichiha! swasdi! mrhba! nin hao!</p></blockquote><ul><li>æœ€åï¼Œç”¨ <code>CFStringLowercase</code> è½¬ä¸ºå°å†™ï¼Œå¹¶ç”¨<a href=https://developer.apple.com/library/mac/#documentation/CoreFoundation/Reference/CFStringTokenizerRef/Reference/reference.html><code>CFStringTokenizer</code></a> åˆ†è¯ç”¨ä½œæ–‡æœ¬çš„ç´¢å¼•ã€‚</li></ul><blockquote><p>(hello, kon&rsquo;nichiha, swasdi, mrhba, nin, hao)</p></blockquote><p>é€šè¿‡å¯¹ç”¨æˆ·è¾“å…¥çš„æ–‡æœ¬ä½¿ç”¨åŒæ ·çš„å˜æ¢ï¼Œä½ å°±å¯ä»¥å®ç°ä¸€ä¸ªé€šç”¨çš„æœç´¢ï¼Œæ— è®ºæœç´¢æ–‡æœ¬æˆ–å†…å®¹æ˜¯ä»€ä¹ˆè¯­è¨€ï¼</p><hr><p><code>CFStringTransform</code> ä¼šæ˜¯ä¸ªç”¨æ¥æŒ‰ä½ çš„è¦æ±‚å¤„ç†è¯­è¨€çš„ååˆ†å¼ºå¤§çš„å·¥å…·ã€‚å¹¶ä¸”å®ƒæ˜¯ï¼Œä¸”ä»…ä»…æ˜¯ç­‰ç€ä½ å‹‡æ•¢åœ°æŠ•å…¥Objective-Cçš„æ¸©æš–æ€€æŠ±çš„è®¸å¤šå¼ºå¤§ç‰¹æ€§ä¹‹ä¸€ã€‚</p><hr><p>é™¤é<a href=https://nshipster.cn/ target=_blank>å¦æœ‰å£°æ˜</a>ï¼Œæœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ã€Œ<a href=https://creativecommons.org/licenses/by-nc/3.0/cn/ target=_blank>ç½²å-éå•†ä¸šæ€§ä½¿ç”¨ 3.0 ä¸­å›½å¤§é™†</a>ã€è®¸å¯åè®®æˆæƒã€‚</p><ins class=adsbygoogle style=display:block data-ad-client=ca-pub-8922574795542092 data-ad-slot=2802455178 data-ad-format=auto data-full-width-responsive=true></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><footer><p style="margin:0 -3px"><span style="float:left;margin:0 -3px"><a href=#mysite-singlepage-top title="Back to Top Â· å›é¡¶éƒ¨" rel=nofollow>&#127772;2012-08-06 </a>&copy;</span>
<span style="float:right;margin:0 -3px"><a href=https://autoptr.top/license/ title="Copyright &copy; All rights reserved" target=_blank rel=nofollow>&copy; 2026 Mattt ç‰ˆæƒæ‰€æœ‰</a><a href=https://autoptr.top/ title="Back to Home Â· å›é¦–é¡µ">&#127771;</a></span></p><hr><hr><p style="margin:3px 5px"><ul class=tags><span>æ ‡ç­¾:</span><li><a class=link href=https://autoptr.top/tags/C++ target=_blank>C++</a></li><li><a class=link href=https://autoptr.top/tags/nshipster target=_blank>nshipster</a></li><span>&nbsp;&nbsp;</span>
<span>åˆ†ç±»:</span><li><a class=link href=https://autoptr.top/categories/Cocoa target=_blank>Cocoa</a></li><li><a class=link href=https://autoptr.top/categories/macOS target=_blank>macOS</a></li><li><a class=link href=https://autoptr.top/categories/CC++ target=_blank>CC++</a></li></ul><p style=margin-bottom:2em></p></p></footer></div><script src=/jscss/ajax/libs/jquery/3.3.1/jquery.slim.min.js></script><script src=/jscss/ajax/libs/twitter-bootstrap/3.1.1/js/bootstrap.min.js></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-37ZP0S1L3D"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-37ZP0S1L3D")</script><script src=/jscss/ajax/libs/medium-zoom/1.0.4/medium-zoom.min.js></script><script>const zoom=mediumZoom();zoom.attach("p img")</script></body></html>