<!doctype html><html><head><meta charset=utf-8><meta http-equiv=content-language content="zh-cn"><meta name=viewport content="width=device-width,initial-scale=.5"><title>NSPredicate</title>
<link rel="shortcut icon" type=image/x-icon href=/media/shortcuticon.png><meta name=keywords content="NSPredicate,macOS,C++,Cocoa,Objective-C,Swift,NSHipster"><meta name=description content="NSPredicate,macOS,C++,Cocoa,Objective-C,Swift,NSHipster"><script>if(document.domain=="autoptr.pages.dev"){var url=window.location.href,url=url.replace(/autoptr+\.pages+\.dev/g,"www.autoptr.top");window.location.href=url}</script><script src=/jscss/ajax/libs/anchor-js/4.2.0/anchor.min.js></script><script>document.addEventListener("DOMContentLoaded",function(){anchors.options={visible:"hover",placement:"left",icon:"ğŸŒœ"},anchors.add()})</script><link rel=stylesheet href=/css/main.css><link href=/jscss/ajax/libs/highlight.js/9.12.0/styles/atom-one-dark.min.css rel=stylesheet><script src=/jscss/ajax/libs/highlight.js/9.12.0/highlight.min.js></script><script>hljs.initHighlightingOnLoad()</script><style type=text/css>body{background-color:#fbf6ec}</style><script>top.location!=self.location&&(top.location=self.location)</script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?746e6e6d14d22526bf274c834750df53",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script></head><body><script>window.addEventListener("resize",resizeThrottler,!1);var resizeTimeout;function resizeThrottler(){resizeTimeout||(resizeTimeout=setTimeout(function(){resizeTimeout=null,actualResizeHandler()},66))}actualResizeHandler();function actualResizeHandler(){/mobile/i.test(navigator.userAgent)||/android/i.test(navigator.userAgent)?document.body.classList.add("mobile"):document.body.classList.remove("mobile")}</script><a id=mysite-singlepage-top></a><div class=inner style=position:relative><div class=blog-post><h1 class=blog-title align=center><span class=btContent>NSPredicate</span><span class=btRight><span title="Author Â· ä½œè€…" class=author>Mattt</span> <span title="Translator Â· ç¿»è¯‘" class=author>Zihan Xu</span> <a href=https://github.com/NSHipster/articles-zh-Hans style=color:#007cd5 title="Related or Quoted Post Â· å…³è”æˆ–è½¬è½½å¼•ç”¨çš„æ–‡ç« " target=_blank rel="nofollow noopener noreferrer">&#128681;</a><a href=/tutorials/NSHipster/ title="Back to Topics Â· å›ä¸»é¢˜é¡µ">&#127793;</a></span></h1><p><code>NSPredicate</code>æ˜¯ä¸€ä¸ªFoundationç±»ï¼Œå®ƒæŒ‡å®šæ•°æ®è¢«è·å–æˆ–è€…è¿‡æ»¤çš„æ–¹å¼ã€‚å®ƒçš„æŸ¥è¯¢è¯­è¨€å°±åƒSQLçš„<code>WHERE</code>å’Œæ­£åˆ™è¡¨è¾¾å¼çš„äº¤å‰ä¸€æ ·ï¼Œæä¾›äº†å…·æœ‰è¡¨ç°åŠ›çš„ï¼Œè‡ªç„¶è¯­è¨€ç•Œé¢æ¥å®šä¹‰ä¸€ä¸ªé›†åˆè¢«æœå¯»çš„é€»è¾‘æ¡ä»¶ã€‚</p><p>ç›¸æ¯”è¾ƒæŠ½è±¡çš„è°ˆè®ºå®ƒï¼Œå±•ç¤º<code>NSPredicate</code>çš„ä½¿ç”¨æ–¹æ³•æ›´åŠ å®¹æ˜“ï¼Œæ‰€ä»¥æˆ‘ä»¬æ¥é‡æ–°å®¡è§†<a href=https://nshipster.com/nssortdescriptor/><code>NSSortDescriptor</code></a>ä¸­ä½¿ç”¨çš„ç¤ºä¾‹æ•°æ®é›†å§ï¼š</p><table><thead><tr><th><tt>ç´¢å¼•</tt></th><th>0</th><th>1</th><th>2</th><th>3</th></tr></thead><tbody><tr><td><tt>å</tt></td><td>Alice</td><td>Bob</td><td>Charlie</td><td>Quentin</td></tr><tr><td><tt>å§“</tt></td><td>Smith</td><td>Jones</td><td>Smith</td><td>Alberts</td></tr><tr><td><tt>å¹´é¾„</tt></td><td>24</td><td>27</td><td>33</td><td>31</td></tr></tbody></table><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#66d9ef>@interface</span> <span style=color:#a6e22e>Person</span> : <span style=color:#a6e22e>NSObject</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> NSString <span style=color:#f92672>*</span>firstName;
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> NSString <span style=color:#f92672>*</span>lastName;
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> NSNumber <span style=color:#f92672>*</span>age;
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@implementation</span> <span style=color:#a6e22e>Person</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (NSString <span style=color:#f92672>*</span>)<span style=color:#a6e22e>description</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> [NSString stringWithFormat:<span style=color:#e6db74>@&#34;%@ %@&#34;</span>, self.firstName, self.lastName];
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#pragma mark -
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>NSArray <span style=color:#f92672>*</span>firstNames <span style=color:#f92672>=</span> <span style=color:#ae81ff>@[</span> <span style=color:#e6db74>@&#34;Alice&#34;</span>, <span style=color:#e6db74>@&#34;Bob&#34;</span>, <span style=color:#e6db74>@&#34;Charlie&#34;</span>, <span style=color:#e6db74>@&#34;Quentin&#34;</span> <span style=color:#ae81ff>]</span>;
</span></span><span style=display:flex><span>NSArray <span style=color:#f92672>*</span>lastNames <span style=color:#f92672>=</span> <span style=color:#ae81ff>@[</span> <span style=color:#e6db74>@&#34;Smith&#34;</span>, <span style=color:#e6db74>@&#34;Jones&#34;</span>, <span style=color:#e6db74>@&#34;Smith&#34;</span>, <span style=color:#e6db74>@&#34;Alberts&#34;</span> <span style=color:#ae81ff>]</span>;
</span></span><span style=display:flex><span>NSArray <span style=color:#f92672>*</span>ages <span style=color:#f92672>=</span> <span style=color:#ae81ff>@[</span> <span style=color:#ae81ff>@24</span>, <span style=color:#ae81ff>@27</span>, <span style=color:#ae81ff>@33</span>, <span style=color:#ae81ff>@31</span> <span style=color:#ae81ff>]</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>NSMutableArray <span style=color:#f92672>*</span>people <span style=color:#f92672>=</span> [NSMutableArray array];
</span></span><span style=display:flex><span>[firstNames enumerateObjectsUsingBlock:<span style=color:#f92672>^</span>(<span style=color:#66d9ef>id</span> obj, NSUInteger idx, <span style=color:#66d9ef>BOOL</span> <span style=color:#f92672>*</span>stop) {
</span></span><span style=display:flex><span>    Person <span style=color:#f92672>*</span>person <span style=color:#f92672>=</span> [[Person alloc] init];
</span></span><span style=display:flex><span>    person.firstName <span style=color:#f92672>=</span> firstNames[idx];
</span></span><span style=display:flex><span>    person.lastName <span style=color:#f92672>=</span> lastNames[idx];
</span></span><span style=display:flex><span>    person.age <span style=color:#f92672>=</span> ages[idx];
</span></span><span style=display:flex><span>    [people addObject:person];
</span></span><span style=display:flex><span>}];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>NSPredicate <span style=color:#f92672>*</span>bobPredicate <span style=color:#f92672>=</span> [NSPredicate predicateWithFormat:<span style=color:#e6db74>@&#34;firstName = &#39;Bob&#39;&#34;</span>];
</span></span><span style=display:flex><span>NSPredicate <span style=color:#f92672>*</span>smithPredicate <span style=color:#f92672>=</span> [NSPredicate predicateWithFormat:<span style=color:#e6db74>@&#34;lastName = %@&#34;</span>, <span style=color:#e6db74>@&#34;Smith&#34;</span>];
</span></span><span style=display:flex><span>NSPredicate <span style=color:#f92672>*</span>thirtiesPredicate <span style=color:#f92672>=</span> [NSPredicate predicateWithFormat:<span style=color:#e6db74>@&#34;age &gt;= 30&#34;</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// [&#34;Bob Jones&#34;]
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>NSLog(<span style=color:#e6db74>@&#34;Bobs: %@&#34;</span>, [people filteredArrayUsingPredicate:bobPredicate]);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// [&#34;Alice Smith&#34;, &#34;Charlie Smith&#34;]
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>NSLog(<span style=color:#e6db74>@&#34;Smiths: %@&#34;</span>, [people filteredArrayUsingPredicate:smithPredicate]);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// [&#34;Charlie Smith&#34;, &#34;Quentin Alberts&#34;]
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>NSLog(<span style=color:#e6db74>@&#34;30&#39;s: %@&#34;</span>, [people filteredArrayUsingPredicate:thirtiesPredicate]);
</span></span></code></pre></div><h2 id=é›†åˆä¸­ä½¿ç”¨nspredicate>é›†åˆä¸­ä½¿ç”¨<code>NSPredicate</code></h2><p>Foundationæä¾›ä½¿ç”¨è°“è¯ï¼ˆpredicateï¼‰æ¥è¿‡æ»¤<code>NSArray</code>ï¼<code>NSMutableArray</code>&<code>NSSet</code>ï¼<code>NSMutableSet</code>çš„æ–¹æ³•ã€‚</p><p>ä¸å¯å˜çš„é›†åˆï¼Œ<code>NSArray</code>&<code>NSSet</code>ï¼Œæœ‰å¯ä»¥é€šè¿‡è¯„ä¼°æ¥æ”¶åˆ°çš„predicateæ¥è¿”å›ä¸€ä¸ªä¸å¯å˜é›†åˆçš„æ–¹æ³•<code>filteredArrayUsingPredicate:</code>å’Œ<code>filteredSetUsingPredicate:</code>ã€‚</p><p>å¯å˜é›†åˆï¼Œ<code>NSMutableArray</code>&<code>NSMutableSet</code>ï¼Œå¯ä»¥ä½¿ç”¨æ–¹æ³•<code>filterUsingPredicate:</code>ï¼Œå®ƒå¯ä»¥é€šè¿‡è¿è¡Œæ¥æ”¶åˆ°çš„è°“è¯æ¥ç§»é™¤è¯„ä¼°ç»“æœä¸º<code>FALSE</code>çš„å¯¹è±¡ã€‚</p><p><code>NSDictionary</code>å¯ä»¥ç”¨è°“è¯æ¥è¿‡æ»¤å®ƒçš„é”®å’Œå€¼ï¼ˆä¸¤è€…éƒ½ä¸º<code>NSArray</code>å¯¹è±¡ï¼‰ã€‚<code>NSOrderedSet</code>å¯ä»¥ç”±è¿‡æ»¤çš„<code>NSArray</code>æˆ–<code>NSSet</code>ç”Ÿæˆä¸€ä¸ªæ–°çš„æœ‰åºçš„é›†ï¼Œæˆ–è€…<code>NSMutableSet</code>å¯ä»¥ç®€å•çš„<code>removeObjectsInArray:</code>ï¼Œæ¥ä¼ é€’é€šè¿‡_å¦å®š_predicateè¿‡æ»¤çš„å¯¹è±¡ã€‚</p><h2 id=core-dataä¸­ä½¿ç”¨nspredicate>Core Dataä¸­ä½¿ç”¨<code>NSPredicate</code></h2><p><code>NSFetchRequest</code>æœ‰ä¸€ä¸ª<code>predicate</code>å±æ€§ï¼Œå®ƒå¯ä»¥æŒ‡å®šç®¡ç†å¯¹è±¡åº”è¯¥è¢«è·å–çš„é€»è¾‘æ¡ä»¶ã€‚è°“è¯çš„ä½¿ç”¨è§„åˆ™åœ¨è¿™é‡ŒåŒæ ·é€‚ç”¨ï¼Œå”¯ä¸€çš„åŒºåˆ«åœ¨äºï¼Œåœ¨ç®¡ç†å¯¹è±¡ç¯å¢ƒä¸­ï¼Œè°“è¯ç”±æŒä¹…åŒ–å­˜å‚¨åŠ©ç†ï¼ˆpersistent store coordinatorï¼‰è¯„ä¼°ï¼Œè€Œä¸åƒé›†åˆé‚£æ ·åœ¨å†…å­˜ä¸­è¢«è¿‡æ»¤ã€‚</p><h2 id=è°“è¯è¯­æ³•>è°“è¯è¯­æ³•</h2><h3 id=æ›¿æ¢>æ›¿æ¢</h3><blockquote><ul><li><code>%@</code>æ˜¯å¯¹å€¼ä¸ºå­—ç¬¦ä¸²ï¼Œæ•°å­—æˆ–è€…æ—¥æœŸçš„å¯¹è±¡çš„æ›¿æ¢å€¼ã€‚</li><li><code>%K</code>æ˜¯key pathçš„æ›¿æ¢å€¼ã€‚</li></ul></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>NSPredicate <span style=color:#f92672>*</span>ageIs33Predicate <span style=color:#f92672>=</span> [NSPredicate predicateWithFormat:<span style=color:#e6db74>@&#34;%K = %@&#34;</span>, <span style=color:#e6db74>@&#34;age&#34;</span>, <span style=color:#ae81ff>@33</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// [&#34;Charlie Smith&#34;]
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>NSLog(<span style=color:#e6db74>@&#34;Age 33: %@&#34;</span>, [people filteredArrayUsingPredicate:ageIs33Predicate]);
</span></span></code></pre></div><blockquote><ul><li><code>$VARIABLE_NAME</code>æ˜¯å¯ä»¥è¢«<code>NSPredicate -predicateWithSubstitutionVariables:</code>æ›¿æ¢çš„å€¼ã€‚</li></ul></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>NSPredicate <span style=color:#f92672>*</span>namesBeginningWithLetterPredicate <span style=color:#f92672>=</span> [NSPredicate predicateWithFormat:<span style=color:#e6db74>@&#34;(firstName BEGINSWITH[cd] $letter) OR (lastName BEGINSWITH[cd] $letter)&#34;</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// [&#34;Alice Smith&#34;, &#34;Quentin Alberts&#34;]
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>NSLog(<span style=color:#e6db74>@&#34;&#39;A&#39; Names: %@&#34;</span>, [people filteredArrayUsingPredicate:[namesBeginningWithLetterPredicate predicateWithSubstitutionVariables:<span style=color:#ae81ff>@{</span><span style=color:#e6db74>@&#34;letter&#34;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>@&#34;A&#34;</span><span style=color:#ae81ff>}</span>]]);
</span></span></code></pre></div><h3 id=åŸºæœ¬æ¯”è¾ƒ>åŸºæœ¬æ¯”è¾ƒ</h3><blockquote><ul><li><code>=</code>, <code>==</code>ï¼šå·¦è¾¹çš„è¡¨è¾¾å¼å’Œå³è¾¹çš„è¡¨è¾¾å¼ç›¸ç­‰ã€‚</li><li><code>>=</code>, <code>=></code>ï¼šå·¦è¾¹çš„è¡¨è¾¾å¼å¤§äºæˆ–è€…ç­‰äºå³è¾¹çš„è¡¨è¾¾å¼ã€‚</li><li><code>&lt;=</code>, <code>=&lt;</code>ï¼šå·¦è¾¹çš„è¡¨è¾¾å¼å°äºç­‰äºå³è¾¹çš„è¡¨è¾¾å¼ã€‚</li><li><code>></code>ï¼šå·¦è¾¹çš„è¡¨è¾¾å¼å¤§äºå³è¾¹çš„è¡¨è¾¾å¼ã€‚</li><li><code>&lt;</code>ï¼šå·¦è¾¹çš„è¡¨è¾¾å¼å°äºå³è¾¹çš„è¡¨è¾¾å¼ã€‚</li><li><code>!=</code>, <code>&lt;></code>ï¼šå·¦è¾¹çš„è¡¨è¾¾å¼ä¸ç­‰äºå³è¾¹çš„è¡¨è¾¾å¼ã€‚</li><li><code>BETWEEN</code>ï¼šå·¦è¾¹çš„è¡¨è¾¾å¼ç­‰äºå³è¾¹çš„è¡¨è¾¾å¼çš„å€¼æˆ–è€…ä»‹äºå®ƒä»¬ä¹‹é—´ã€‚å³è¾¹æ˜¯ä¸€ä¸ªæœ‰ä¸¤ä¸ªæŒ‡å®šä¸Šé™å’Œä¸‹é™çš„æ•°å€¼çš„æ•°åˆ—ï¼ˆæŒ‡å®šé¡ºåºçš„æ•°åˆ—ï¼‰ã€‚æ¯”å¦‚ï¼Œ<code>1 BETWEEN { 0 , 33 }</code>ï¼Œæˆ–è€…<code>$INPUT BETWEEN { $LOWER, $UPPER }</code>ã€‚</li></ul></blockquote><h3 id=åŸºæœ¬å¤åˆè°“è¯>åŸºæœ¬å¤åˆè°“è¯</h3><blockquote><ul><li><code>AND</code>, <code>&&</code>ï¼šé€»è¾‘<code>ä¸</code>.</li><li><code>OR</code>, <code>||</code>ï¼šé€»è¾‘<code>æˆ–</code>.</li><li><code>NOT</code>, <code>!</code>ï¼šé€»è¾‘<code>é</code>.</li></ul></blockquote><h3 id=å­—ç¬¦ä¸²æ¯”è¾ƒ>å­—ç¬¦ä¸²æ¯”è¾ƒ</h3><blockquote><p>å­—ç¬¦ä¸²æ¯”è¾ƒåœ¨é»˜è®¤çš„æƒ…å†µä¸‹æ˜¯åŒºåˆ†å¤§å°å†™å’ŒéŸ³è°ƒçš„ã€‚ä½ å¯ä»¥åœ¨æ–¹æ‹¬å·ä¸­ç”¨å…³é”®å­—ç¬¦cå’Œdæ¥ä¿®æ”¹æ“ä½œç¬¦ä»¥ç›¸åº”çš„æŒ‡å®šä¸åŒºåˆ†å¤§å°å†™å’Œå˜éŸ³ç¬¦å·ï¼Œæ¯”å¦‚firstname BEGINSWITH[cd] $FIRST_NAMEã€‚</p></blockquote><blockquote><ul><li><code>BEGINSWITH</code>ï¼šå·¦è¾¹çš„è¡¨è¾¾å¼ä»¥å³è¾¹çš„è¡¨è¾¾å¼ä½œä¸ºå¼€å§‹ã€‚</li><li><code>CONTAINS</code>ï¼šå·¦è¾¹çš„è¡¨è¾¾å¼åŒ…å«å³è¾¹çš„è¡¨è¾¾å¼ã€‚</li><li><code>ENDSWITH</code>ï¼šå·¦è¾¹çš„è¡¨è¾¾å¼ä»¥å³è¾¹çš„è¡¨è¾¾å¼ä½œä¸ºç»“æŸã€‚</li><li><code>LIKE</code>ï¼šå·¦è¾¹çš„è¡¨è¾¾å¼ç­‰äºå³è¾¹çš„è¡¨è¾¾å¼ï¼š<code>?</code>å’Œ<code>*</code>å¯ä½œä¸ºé€šé…ç¬¦ï¼Œå…¶ä¸­<code>?</code>åŒ¹é…1ä¸ªå­—ç¬¦ï¼Œ<code>*</code>åŒ¹é…0ä¸ªæˆ–è€…å¤šä¸ªå­—ç¬¦ã€‚</li><li><code>MATCHES</code>ï¼šå·¦è¾¹çš„è¡¨è¾¾å¼æ ¹æ®ICU v3ï¼ˆæ›´å¤šå†…å®¹è¯·æŸ¥çœ‹<a href=http://userguide.icu-project.org/strings/regexp>ICU User Guide for Regular Expressions</a>ï¼‰çš„regexé£æ ¼æ¯”è¾ƒï¼Œç­‰äºå³è¾¹çš„è¡¨è¾¾å¼ã€‚</li></ul></blockquote><h3 id=åˆè®¡æ“ä½œ>åˆè®¡æ“ä½œ</h3><h4 id=å…³ç³»æ“ä½œ>å…³ç³»æ“ä½œ</h4><blockquote><ul><li><code>ANY</code>ï¼Œ<code>SOME</code>ï¼šæŒ‡å®šä¸‹åˆ—è¡¨è¾¾å¼ä¸­çš„ä»»æ„å…ƒç´ ã€‚æ¯”å¦‚ï¼Œ<code>ANY children.age &lt; 18</code>ã€‚</li><li><code>ALL</code>ï¼šæŒ‡å®šä¸‹åˆ—è¡¨è¾¾å¼ä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚æ¯”å¦‚ï¼Œ<code>ALL children.age &lt; 18</code>ã€‚</li><li><code>NONE</code>ï¼šæŒ‡å®šä¸‹åˆ—è¡¨è¾¾å¼ä¸­æ²¡æœ‰çš„å…ƒç´ ã€‚æ¯”å¦‚ï¼Œ<code>NONE children.age &lt; 18</code>ã€‚å®ƒåœ¨é€»è¾‘ä¸Šç­‰äº<code>NOT (ANY ...)</code>ã€‚</li><li><code>IN</code>ï¼šç­‰äºSQLçš„<code>IN</code>æ“ä½œï¼Œå·¦è¾¹çš„è¡¨è¾¾å¿…é¡»å‡ºç°åœ¨å³è¾¹æŒ‡å®šçš„é›†åˆä¸­ã€‚æ¯”å¦‚ï¼Œ<code>name IN { 'Ben', 'Melissa', 'Nick' }</code>ã€‚</li></ul></blockquote><h4 id=æ•°ç»„æ“ä½œ>æ•°ç»„æ“ä½œ</h4><blockquote><ul><li><code>array[index]</code>ï¼šæŒ‡å®š<code>æ•°ç»„</code>ä¸­ç‰¹å®šç´¢å¼•å¤„çš„å…ƒç´ ã€‚</li><li><code>array[FIRST]</code>ï¼šæŒ‡å®š<code>æ•°ç»„</code>ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚</li><li><code>array[LAST]</code>ï¼šæŒ‡å®š<code>æ•°ç»„</code>ä¸­çš„æœ€åä¸€ä¸ªå…ƒç´ ã€‚</li><li><code>array[SIZE]</code>ï¼šæŒ‡å®š<code>æ•°ç»„</code>çš„å¤§å°ã€‚</li></ul></blockquote><h3 id=å¸ƒå°”å€¼è°“è¯>å¸ƒå°”å€¼è°“è¯</h3><blockquote><ul><li><code>TRUEPREDICATE</code>ï¼šç»“æœå§‹ç»ˆä¸º<code>çœŸ</code>çš„è°“è¯ã€‚</li><li><code>FALSEPREDICATE</code>ï¼šç»“æœå§‹ç»ˆä¸º<code>å‡</code>çš„è°“è¯ã€‚</li></ul></blockquote><h2 id=nscompoundpredicate><code>NSCompoundPredicate</code></h2><p>æˆ‘ä»¬è§è¿‡<code>ä¸</code>&<code>æˆ–</code>è¢«ç”¨åœ¨è°“è¯æ ¼å¼å­—ç¬¦ä¸²ä¸­ä»¥åˆ›å»ºå¤åˆè°“è¯ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨<code>NSCompoundPredicate</code>æ¥å®ŒæˆåŒæ ·çš„å·¥ä½œã€‚</p><p>ä¾‹å¦‚ï¼Œä¸‹åˆ—è°“è¯æ˜¯ç›¸ç­‰çš„ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>[NSCompoundPredicate andPredicateWithSubpredicates:<span style=color:#ae81ff>@[</span>[NSPredicate predicateWithFormat:<span style=color:#e6db74>@&#34;age &gt; 25&#34;</span>], [NSPredicate predicateWithFormat:<span style=color:#e6db74>@&#34;firstName = %@&#34;</span>, <span style=color:#e6db74>@&#34;Quentin&#34;</span>]<span style=color:#ae81ff>]</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[NSPredicate predicateWithFormat:<span style=color:#e6db74>@&#34;(age &gt; 25) AND (firstName = %@)&#34;</span>, <span style=color:#e6db74>@&#34;Quentin&#34;</span>];
</span></span></code></pre></div><p>è™½ç„¶è¯­æ³•å­—ç¬¦ä¸²æ–‡å­—æ›´åŠ å®¹æ˜“è¾“å…¥ï¼Œä½†æ˜¯åœ¨æœ‰çš„æ—¶å€™ï¼Œä½ éœ€è¦ç»“åˆç°æœ‰çš„è°“è¯ã€‚åœ¨é‚£äº›æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥ä½¿ç”¨<code>NSCompoundPredicate -andPredicateWithSubpredicates:</code>&<code>-orPredicateWithSubpredicates:</code>ã€‚</p><h2 id=nscomparisonpredicate><code>NSComparisonPredicate</code></h2><p>åŒæ ·çš„ï¼Œå¦‚æœä½ åœ¨è¯»è¿‡<a href=https://nshipster.com/nsexpression/>ä¸Šå‘¨çš„æ–‡ç« </a>ä¹‹åå‘ç°ä½ ä½¿ç”¨äº†å¤ªå¤šçš„<code>NSExpression</code>çš„è¯ï¼Œ<code>NSComparisonPredicate</code>å¯ä»¥å¸®åŠ©ä½ è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><p>å°±åƒ<code>NSCompoundPredicate</code>ä¸€æ ·ï¼Œ<code>NSComparisonPredicate</code>ä»å­éƒ¨ä»¶æ„å»ºäº†ä¸€ä¸ª<code>NSPredicate</code>ï¼ï¼åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå·¦ä¾§å’Œå³ä¾§éƒ½æ˜¯<code>NSExpression</code>ã€‚
åˆ†æå®ƒçš„ç±»çš„æ„é€ å‡½æ•°å¯ä»¥è®©æˆ‘ä»¬ä¸€çª¥<code>NSPredicate</code>çš„æ ¼å¼å­—ç¬¦ä¸²æ˜¯å¦‚ä½•è§£æçš„ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>+ (NSPredicate <span style=color:#f92672>*</span>)<span style=color:#a6e22e>predicateWithLeftExpression:</span>(NSExpression <span style=color:#f92672>*</span>)lhs
</span></span><span style=display:flex><span>							 <span style=color:#a6e22e>rightExpression:</span>(NSExpression <span style=color:#f92672>*</span>)rhs
</span></span><span style=display:flex><span>									<span style=color:#a6e22e>modifier:</span>(NSComparisonPredicateModifier)modifier
</span></span><span style=display:flex><span>										<span style=color:#a6e22e>type:</span>(NSPredicateOperatorType)type
</span></span><span style=display:flex><span>									 <span style=color:#a6e22e>options:</span>(NSUInteger)options
</span></span></code></pre></div><h4 id=å‚æ•°>å‚æ•°</h4><blockquote><ul><li><code>lhs</code>ï¼šå·¦è¾¹çš„è¡¨è¾¾å¼ã€‚</li><li><code>rhs</code>ï¼šå³è¾¹çš„è¡¨è¾¾å¼ã€‚</li><li><code>modifier</code>ï¼šåº”ç”¨çš„ä¿®æ”¹ç¬¦ã€‚ï¼ˆ<code>ANY</code>æˆ–è€…<code>ALL</code>ï¼‰</li><li><code>type</code>ï¼šè°“è¯è¿ç®—ç¬¦ç±»å‹ã€‚</li><li><code>options</code>ï¼šè¦åº”ç”¨çš„é€‰é¡¹ã€‚æ²¡æœ‰é€‰é¡¹çš„è¯åˆ™ä¸º<code>0</code>ã€‚</li></ul></blockquote><h3 id=nscomparisonpredicateç±»å‹><code>NSComparisonPredicate</code>ç±»å‹</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#66d9ef>enum</span> {
</span></span><span style=display:flex><span>   NSLessThanPredicateOperatorType <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>,
</span></span><span style=display:flex><span>   NSLessThanOrEqualToPredicateOperatorType,
</span></span><span style=display:flex><span>   NSGreaterThanPredicateOperatorType,
</span></span><span style=display:flex><span>   NSGreaterThanOrEqualToPredicateOperatorType,
</span></span><span style=display:flex><span>   NSEqualToPredicateOperatorType,
</span></span><span style=display:flex><span>   NSNotEqualToPredicateOperatorType,
</span></span><span style=display:flex><span>   NSMatchesPredicateOperatorType,
</span></span><span style=display:flex><span>   NSLikePredicateOperatorType,
</span></span><span style=display:flex><span>   NSBeginsWithPredicateOperatorType,
</span></span><span style=display:flex><span>   NSEndsWithPredicateOperatorType,
</span></span><span style=display:flex><span>   NSInPredicateOperatorType,
</span></span><span style=display:flex><span>   NSCustomSelectorPredicateOperatorType,
</span></span><span style=display:flex><span>   NSContainsPredicateOperatorType,
</span></span><span style=display:flex><span>   NSBetweenPredicateOperatorType
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span><span style=color:#66d9ef>typedef</span> NSUInteger NSPredicateOperatorType;
</span></span></code></pre></div><h3 id=nscomparisonpredicateé€‰é¡¹><code>NSComparisonPredicate</code>é€‰é¡¹</h3><blockquote><ul><li><code>NSCaseInsensitivePredicateOption</code>ï¼šä¸åŒºåˆ†å¤§å°å†™çš„è°“è¯ã€‚ä½ é€šè¿‡åœ¨è°“è¯æ ¼å¼å­—ç¬¦ä¸²ä¸­åŠ å…¥åé¢å¸¦æœ‰[c]çš„å­—ç¬¦ä¸²æ“ä½œï¼ˆæ¯”å¦‚ï¼Œ&ldquo;NeXT&rdquo; like[c] &ldquo;next&rdquo;ï¼‰æ¥è¡¨è¾¾è¿™ä¸€é€‰é¡¹ã€‚</li><li><code>NSDiacriticInsensitivePredicateOption</code>ï¼šå¿½è§†å‘éŸ³ç¬¦å·çš„è°“è¯ã€‚ä½ é€šè¿‡åœ¨è°“è¯æ ¼å¼å­—ç¬¦ä¸²ä¸­åŠ å…¥åé¢å¸¦æœ‰[d]çš„å­—ç¬¦ä¸²æ“ä½œï¼ˆæ¯”å¦‚ï¼Œ&ldquo;naÃ¯ve&rdquo; like[d] &ldquo;naive&rdquo;ï¼‰æ¥è¡¨è¾¾è¿™ä¸€é€‰é¡¹ã€‚</li><li><code>NSNormalizedPredicateOption</code>ï¼šè¡¨ç¤ºå¾…æ¯”è¾ƒçš„å­—ç¬¦ä¸²å·²ç»è¢«é¢„å¤„ç†äº†ã€‚è¿™ä¸€é€‰é¡¹å–ä»£äº†NSCaseInsensitivePredicateOptionå’ŒNSDiacriticInsensitivePredicateOptionï¼Œæ—¨åœ¨ç”¨ä½œæ€§èƒ½ä¼˜åŒ–çš„é€‰é¡¹ã€‚ä½ å¯ä»¥é€šè¿‡åœ¨è°“è¯æ ¼å¼å­—ç¬¦ä¸²ä¸­åŠ å…¥åé¢å¸¦æœ‰[n]çš„å­—ç¬¦ä¸²ï¼ˆæ¯”å¦‚ï¼Œ&ldquo;WXYZlan&rdquo; matches[n] &ldquo;.lan&rdquo;ï¼‰æ¥è¡¨è¾¾è¿™ä¸€é€‰é¡¹ã€‚</li><li><code>NSLocaleSensitivePredicateOption</code>ï¼šè¡¨æ˜è¦ä½¿ç”¨<code>&lt;</code>ï¼Œ<code>&lt;=</code>ï¼Œ<code>=</code>ï¼Œ<code>=></code>ï¼Œ<code>></code> ä½œä¸ºæ¯”è¾ƒçš„å­—ç¬¦ä¸²åº”è¯¥ä½¿ç”¨åŒºåŸŸè¯†åˆ«çš„æ–¹å¼å¤„ç†ã€‚ä½ å¯ä»¥é€šè¿‡åœ¨<code>&lt;</code>ï¼Œ<code>&lt;=</code>ï¼Œ<code>=</code>ï¼Œ<code>=></code>ï¼Œ<code>></code>å…¶ä¸­ä¹‹ä¸€çš„æ“ä½œç¬¦ååŠ å…¥[l]ï¼ˆæ¯”å¦‚ï¼Œ&ldquo;straÃŸe&rdquo; >[l] &ldquo;strasse&rdquo;ï¼‰ä»¥ä¾¿åœ¨è°“è¯æ ¼å¼å­—ç¬¦ä¸²è¡¨è¾¾è¿™ä¸€é€‰é¡¹ã€‚</li></ul></blockquote><h2 id=blockè°“è¯>Blockè°“è¯</h2><p>æœ€åï¼Œå¦‚æœä½ å®åœ¨ä¸æ„¿æ„å­¦ä¹ <code>NSPredicate</code>çš„æ ¼å¼è¯­æ³•ï¼Œä½ ä¹Ÿå¯ä»¥å­¦å­¦<code>NSPredicate +predicateWithBlock:</code>ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>NSPredicate <span style=color:#f92672>*</span>shortNamePredicate <span style=color:#f92672>=</span> [NSPredicate predicateWithBlock:<span style=color:#f92672>^</span><span style=color:#66d9ef>BOOL</span>(<span style=color:#66d9ef>id</span> evaluatedObject, NSDictionary <span style=color:#f92672>*</span>bindings) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> [[evaluatedObject firstName] length] <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>5</span>;
</span></span><span style=display:flex><span>        }];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// [&#34;Alice Smith&#34;, &#34;Bob Jones&#34;]
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>NSLog(<span style=color:#e6db74>@&#34;Short Names: %@&#34;</span>, [people filteredArrayUsingPredicate:shortNamePredicate]);
</span></span></code></pre></div><p>&mldr;å¥½å§ï¼Œè™½ç„¶ä½¿ç”¨<code>predicateWithBlock:</code>æ˜¯æ‡’äººçš„åšæ³•ï¼Œä½†å®ƒä¹Ÿå¹¶ä¸æ˜¯ä¸€æ— æ˜¯å¤„ã€‚</p><p>äº‹å®ä¸Šï¼Œå› ä¸ºblockå¯ä»¥å°è£…ä»»æ„çš„è®¡ç®—ï¼Œæ‰€ä»¥æœ‰ä¸€ä¸ªæŸ¥è¯¢ç±»æ˜¯æ— æ³•ä»¥<code>NSPredicate</code>æ ¼å¼å­—ç¬¦ä¸²å½¢å¼æ¥è¡¨è¾¾çš„ï¼ˆæ¯”å¦‚å¯¹è¿è¡Œæ—¶è¢«åŠ¨æ€è®¡ç®—çš„å€¼çš„è¯„ä¼°ï¼‰ã€‚è€Œä¸”å½“åŒä¸€ä»¶äº‹æƒ…å¯ä»¥ç”¨<code>NSExpression</code>ç»“åˆè‡ªå®šä¹‰é€‰æ‹©å™¨æ¥å®Œæˆæ—¶ï¼Œblockä¸ºå®Œæˆå·¥ä½œæä¾›äº†ä¸€ä¸ªæ–¹ä¾¿çš„æ¥å£ã€‚</p><p>é‡è¦æç¤ºï¼š<strong>ç”±<code>predicateWithBlock:</code>ç”Ÿæˆçš„<code>NSPredicate</code>ä¸èƒ½ç”¨äºç”±<code>SQLite</code>å­˜å‚¨åº“æ”¯æŒçš„Core Dataæ•°æ®çš„æå–è¦æ±‚ã€‚</strong></p><hr><p>æˆ‘çŸ¥é“æˆ‘å·²ç»è¯´è¿‡å¾ˆå¤šæ¬¡äº†ï¼Œå¯æ˜¯<code>NSPredicate</code>çœŸçš„æ˜¯Cocoaçš„ä¼˜åŠ¿ä¹‹ä¸€ã€‚å…¶ä»–è¯­è¨€çš„ç¬¬ä¸‰æ–¹åº“å¦‚æœèƒ½æœ‰å®ƒä¸€åŠçš„èƒ½åŠ›å°±å·²ç»å¾ˆå¹¸è¿äº†ï¼ï¼æ›´åˆ«ææ ‡å‡†åº“äº†ã€‚å¯¹äºæˆ‘ä»¬è¿™äº›åº”ç”¨å’Œæ¡†æ¶å¼€å‘è€…æ¥è¯´ï¼Œæœ‰å®ƒä½œä¸ºæ ‡å‡†ç»„ä»¶ä½¿å¾—æˆ‘ä»¬åœ¨å¤„ç†æ•°æ®æ—¶æœ‰äº†å¾ˆå¤§çš„ä¼˜åŠ¿ã€‚</p><p>å’Œ<code>NSExpression</code>ä¸€æ ·ï¼Œ<code>NSPredicate</code>ä¸€ç›´åœ¨æé†’æˆ‘ä»¬Foundationæœ‰å¤šä¹ˆå¥½ï¼šå®ƒä¸ä»…ä»…ååˆ†æœ‰ç”¨ï¼Œå®ƒç²¾è‡´çš„æ„æ¶å’Œè®¾è®¡ä¹Ÿæ˜¯æˆ‘ä»¬å†™ä»£ç æ—¶çµæ„Ÿçš„æ¥æºã€‚</p><hr><p>é™¤é<a href=https://nshipster.cn/ target=_blank>å¦æœ‰å£°æ˜</a>ï¼Œæœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ã€Œ<a href=https://creativecommons.org/licenses/by-nc/3.0/cn/ target=_blank>ç½²å-éå•†ä¸šæ€§ä½¿ç”¨ 3.0 ä¸­å›½å¤§é™†</a>ã€è®¸å¯åè®®æˆæƒã€‚</p><ins class=adsbygoogle style=display:block data-ad-client=ca-pub-8922574795542092 data-ad-slot=2802455178 data-ad-format=auto data-full-width-responsive=true></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><footer><p style="margin:0 -3px"><span style="float:left;margin:0 -3px"><a href=#mysite-singlepage-top title="Back to Top Â· å›é¡¶éƒ¨" rel=nofollow>&#127772;2013-07-15 </a>&copy;</span>
<span style="float:right;margin:0 -3px"><a href=https://autoptr.top/license/ title="Copyright &copy; All rights reserved" target=_blank rel=nofollow>&copy; 2026 Mattt ç‰ˆæƒæ‰€æœ‰</a><a href=https://autoptr.top/ title="Back to Home Â· å›é¦–é¡µ">&#127771;</a></span></p><hr><hr><p style="margin:3px 5px"><ul class=tags><span>æ ‡ç­¾:</span><li><a class=link href=https://autoptr.top/tags/C++ target=_blank>C++</a></li><li><a class=link href=https://autoptr.top/tags/nshipster target=_blank>nshipster</a></li><span>&nbsp;&nbsp;</span>
<span>åˆ†ç±»:</span><li><a class=link href=https://autoptr.top/categories/Cocoa target=_blank>Cocoa</a></li><li><a class=link href=https://autoptr.top/categories/macOS target=_blank>macOS</a></li><li><a class=link href=https://autoptr.top/categories/CC++ target=_blank>CC++</a></li></ul><p style=margin-bottom:2em></p></p></footer></div><script src=/jscss/ajax/libs/jquery/3.3.1/jquery.slim.min.js></script><script src=/jscss/ajax/libs/twitter-bootstrap/3.1.1/js/bootstrap.min.js></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-37ZP0S1L3D"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-37ZP0S1L3D")</script><script src=/jscss/ajax/libs/medium-zoom/1.0.4/medium-zoom.min.js></script><script>const zoom=mediumZoom();zoom.attach("p img")</script></body></html>