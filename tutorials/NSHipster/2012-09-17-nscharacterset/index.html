<!doctype html><html><head><meta charset=utf-8><meta http-equiv=content-language content="zh-cn"><meta name=viewport content="width=device-width,initial-scale=.5"><title>NSCharacterSet</title>
<link rel="shortcut icon" type=image/x-icon href=/media/shortcuticon.png><meta name=keywords content="NSCharacterSet,macOS,C++,Cocoa,Objective-C,Swift,NSHipster"><meta name=description content="NSCharacterSet,macOS,C++,Cocoa,Objective-C,Swift,NSHipster"><script>if(document.domain=="autoptr.pages.dev"){var url=window.location.href,url=url.replace(/autoptr+\.pages+\.dev/g,"www.autoptr.top");window.location.href=url}</script><script src=/jscss/ajax/libs/anchor-js/4.2.0/anchor.min.js></script><script>document.addEventListener("DOMContentLoaded",function(){anchors.options={visible:"hover",placement:"left",icon:"ğŸŒœ"},anchors.add()})</script><link rel=stylesheet href=/css/main.css><link href=/jscss/ajax/libs/highlight.js/9.12.0/styles/atom-one-dark.min.css rel=stylesheet><script src=/jscss/ajax/libs/highlight.js/9.12.0/highlight.min.js></script><script>hljs.initHighlightingOnLoad()</script><style type=text/css>body{background-color:#fbf6ec}</style><script>top.location!=self.location&&(top.location=self.location)</script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?746e6e6d14d22526bf274c834750df53",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script></head><body><script>window.addEventListener("resize",resizeThrottler,!1);var resizeTimeout;function resizeThrottler(){resizeTimeout||(resizeTimeout=setTimeout(function(){resizeTimeout=null,actualResizeHandler()},66))}actualResizeHandler();function actualResizeHandler(){/mobile/i.test(navigator.userAgent)||/android/i.test(navigator.userAgent)?document.body.classList.add("mobile"):document.body.classList.remove("mobile")}</script><a id=mysite-singlepage-top></a><div class=inner style=position:relative><div class=blog-post><h1 class=blog-title align=center><span class=btContent>NSCharacterSet</span><span class=btRight><span title="Author Â· ä½œè€…" class=author>Mattt</span> <span title="Translator Â· ç¿»è¯‘" class=author>Ricky Tan</span> <a href=https://github.com/NSHipster/articles-zh-Hans style=color:#007cd5 title="Related or Quoted Post Â· å…³è”æˆ–è½¬è½½å¼•ç”¨çš„æ–‡ç« " target=_blank rel="nofollow noopener noreferrer">&#128681;</a><a href=/tutorials/NSHipster/ title="Back to Topics Â· å›ä¸»é¢˜é¡µ">&#127793;</a></span></h1><p>æ­£å¦‚<a href=https://nshipster.com/cfstringtransform/>ä¹‹å‰</a>æå‰è¿‡çš„ï¼ŒåŸºç¡€ç±»åº“ï¼ˆFoundationï¼‰æ‹¥æœ‰æœ€å¥½çš„ã€åŠŸèƒ½ä¹Ÿæœ€å…¨çš„stringç±»çš„å®ç°ã€‚</p><p>ä½†æ˜¯ä»…å½“ç¨‹åºå‘˜ç†Ÿç»ƒæŒæ¡å®ƒæ—¶ï¼Œä¸€ä¸ªstringçš„å®ç°æ‰æ˜¯çœŸçš„å¥½ã€‚æ‰€ä»¥æœ¬å‘¨ï¼Œæˆ‘ä»¬å°†æµè§ˆä¸€äº›åŸºç¡€ç±»åº“çš„stringç”Ÿæ€ç³»ç»Ÿä¸­ç»å¸¸ç”¨åˆ°ä¸”ç”¨é”™çš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼š<code>NSCharacterSet</code>ã€‚</p><hr><blockquote><p>å¦‚æœä½ å¯¹ä»€ä¹ˆæ˜¯å­—ç¬¦ç¼–ç æä¸æ¸…æ¥šçš„è¯ï¼ˆå³ä½¿ä½ æœ‰å¾ˆå¥½çš„ä¸“ä¸šçŸ¥è¯†ï¼‰ï¼Œé‚£ä¹ˆä½ åº”è¯¥æŠ“ä½è¿™æ¬¡æœºä¼šåå¤é˜…è¯»Joel Spolskyçš„è¿™ç¯‡ç»å…¸çš„æ–‡ç« <a href=http://www.joelonsoftware.com/articles/Unicode.html>&ldquo;The Absolute Minimum Every Software Developer Absolutely, Positively Must Know About Unicode and Character Sets (No Excuses!)&rdquo;</a>ã€‚åœ¨å¤´è„‘ä¸­ä¿æŒæ–°é²œæ„Ÿå°†å¯¹ä½ ç†è§£æˆ‘ä»¬å°†è¦æ¢è®¨çš„è¯é¢˜éå¸¸æœ‰å¸®åŠ©ã€‚</p></blockquote><p><code>NSCharacterSet</code> ï¼Œä»¥åŠå®ƒçš„å¯å˜ç‰ˆæœ¬<code>NSMutableCharacterSet</code>ï¼Œç”¨é¢å‘å¯¹è±¡çš„æ–¹å¼æ¥è¡¨ç¤ºä¸€ç»„Unicodeå­—ç¬¦ã€‚å®ƒç»å¸¸ä¸<code>NSString</code>åŠ<code>NSScanner</code>ç»„åˆèµ·æ¥ä½¿ç”¨ï¼Œåœ¨ä¸åŒçš„å­—ç¬¦ä¸Šåšè¿‡æ»¤ã€åˆ é™¤æˆ–è€…åˆ†å‰²æ“ä½œã€‚ä¸ºäº†ç»™ä½ æä¾›è¿™äº›å­—ç¬¦æ˜¯å“ªäº›å­—ç¬¦çš„ç›´è§‚å°è±¡ï¼Œè¯·çœ‹çœ‹<code>NSCharacterSet</code> æä¾›çš„ç±»æ–¹æ³•ï¼š</p><ul><li><code>alphanumericCharacterSet</code></li><li><code>capitalizedLetterCharacterSet</code></li><li><code>controlCharacterSet</code></li><li><code>decimalDigitCharacterSet</code></li><li><code>decomposableCharacterSet</code></li><li><code>illegalCharacterSet</code></li><li><code>letterCharacterSet</code></li><li><code>lowercaseLetterCharacterSet</code></li><li><code>newlineCharacterSet</code></li><li><code>nonBaseCharacterSet</code></li><li><code>punctuationCharacterSet</code></li><li><code>symbolCharacterSet</code></li><li><code>uppercaseLetterCharacterSet</code></li><li><code>whitespaceAndNewlineCharacterSet</code></li><li><code>whitespaceCharacterSet</code></li></ul><p>ä¸å®ƒçš„åå­—æ‰€è¡¨è¿°çš„ç›¸åï¼Œ<code>NSCharacterSet</code> è·Ÿ <code>NSSet</code> ä¸€ç‚¹å…³ç³»éƒ½_æ²¡æœ‰_ã€‚</p><p>è™½ç„¶åº•å±‚å®ç°ä¸å¤ªä¸€æ ·ï¼Œä½†æ˜¯ <code>NSCharacterSet</code> åœ¨æ¦‚å¿µä¸Šè·Ÿ <code>NSIndexSet</code> è¿˜_æœ‰ç‚¹_ç›¸ä¼¼çš„ã€‚<code>NSIndexSet</code>ï¼Œ<a href=https://nshipster.cn/nsindexset/>ä¹‹å‰</a>æåˆ°è¿‡ï¼Œè¡¨ç¤ºä¸€ä¸ªæœ‰åºçš„ä¸é‡å¤çš„æ— ç¬¦å·æ•´æ•°çš„é›†åˆã€‚Unicodeå­—ç¬¦è·Ÿæ— ç¬¦å·æ•´æ•°ç±»ä¼¼ï¼Œå¤§è‡´å¯¹åº”ä¸€äº›æ‹¼å†™è¡¨ç¤ºã€‚æ‰€ä»¥ï¼Œä¸€ä¸ª <code>NSCharacterSet +lowercaseCharacterSet</code> å­—ç¬¦é›†ä¸ä¸€ä¸ªåŒ…å«97åˆ°122èŒƒå›´çš„ <code>NSIndexSet</code> æ˜¯ç­‰ä»·çš„ã€‚</p><p>ç°åœ¨æˆ‘ä»¬å¯¹ç†è§£ <code>NSCharacterSet</code> çš„åŸºæœ¬æ¦‚å¿µå·²ç»æœ‰äº†å°‘è®¸è‡ªä¿¡ï¼Œè®©æˆ‘ä»¬æ¥çœ‹ä¸€äº›å®ƒçš„æ¨¡å¼ä¸åæ¨¡å¼å§ï¼š</p><h2 id=å»æ‰ç©ºæ ¼>å»æ‰ç©ºæ ¼</h2><p><code>NSString -stringByTrimmingCharactersInSet:</code> æ˜¯ä¸ªä½ éœ€è¦ç‰¢ç‰¢è®°ä½çš„æ–¹æ³•ã€‚å®ƒç»å¸¸ä¼šä¼ å…¥ <code>NSCharacterSet +whitespaceCharacterSet</code> æˆ– <code>+whitespaceAndNewlineCharacterSet</code> æ¥åˆ é™¤è¾“å…¥å­—ç¬¦ä¸²çš„å¤´å°¾çš„ç©ºç™½ç¬¦å·ã€‚</p><p>éœ€è¦é‡ç‚¹æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ªæ–¹æ³• <em>ä»…ä»…</em> å»é™¤äº† <em>å¼€å¤´</em> å’Œ <em>ç»“å°¾</em> çš„æŒ‡å®šå­—ç¬¦é›†ä¸­è¿ç»­å­—ç¬¦ã€‚è¿™å°±æ˜¯è¯´ï¼Œå¦‚æœä½ æƒ³å»é™¤å•è¯ä¹‹é—´çš„é¢å¤–ç©ºæ ¼ï¼Œè¯·çœ‹ä¸‹ä¸€æ­¥ã€‚</p><h2 id=æŒ¤å‹ç©ºæ ¼>æŒ¤å‹ç©ºæ ¼</h2><p>å‡è®¾ä½ å»æ‰å­—ç¬¦ä¸²ä¸¤ç«¯çš„å¤šä½™ç©ºæ ¼ä¹‹åï¼Œè¿˜æƒ³å»é™¤å•è¯ä¹‹é—´çš„å¤šä½™ç©ºæ ¼ï¼Œè¿™é‡Œæœ‰ä¸ªéå¸¸ç®€ä¾¿çš„æ–¹æ³•ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>NSString <span style=color:#f92672>*</span>string <span style=color:#f92672>=</span> <span style=color:#e6db74>@&#34;Lorem    ipsum dolar   sit  amet.&#34;</span>;
</span></span><span style=display:flex><span>string <span style=color:#f92672>=</span> [string stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceCharacterSet]];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>NSArray <span style=color:#f92672>*</span>components <span style=color:#f92672>=</span> [string componentsSeparatedByCharactersInSet:[NSCharacterSet whitespaceCharacterSet]];
</span></span><span style=display:flex><span>components <span style=color:#f92672>=</span> [components filteredArrayUsingPredicate:[NSPredicate predicateWithFormat:<span style=color:#e6db74>@&#34;self &lt;&gt; &#39;&#39;&#34;</span>]];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>string <span style=color:#f92672>=</span> [components componentsJoinedByString:<span style=color:#e6db74>@&#34; &#34;</span>];
</span></span></code></pre></div><p>é¦–å…ˆï¼Œåˆ é™¤å­—ç¬¦ä¸²é¦–å°¾çš„ç©ºæ ¼ï¼›ç„¶åç”¨ <code>NSString -componentsSeparatedByCharactersInSet:</code> åœ¨ç©ºæ ¼å¤„å°†å­—ç¬¦ä¸²åˆ†å‰²æˆä¸€ä¸ª <code>NSArray</code>ï¼›å†ç”¨ä¸€ä¸ª <code>NSPredicate</code> å»é™¤ç©ºä¸²ï¼›æœ€åï¼Œç”¨ <code>NSArray -componentsJoinedByString:</code> ç”¨å•ä¸ªç©ºæ ¼ç¬¦å°†æ•°ç»„é‡æ–°æ‹¼æˆå­—ç¬¦ä¸²ã€‚æ³¨æ„ï¼šè¿™ç§æ–¹æ³•ä»…é€‚ç”¨äºè‹±è¯­è¿™ç§ç”¨ç©ºæ ¼åˆ†å‰²çš„è¯­è¨€ã€‚</p><p>ç°åœ¨çœ‹çœ‹åæ¨¡å¼å§ã€‚è¯·å…ˆçœ‹çœ‹ <a href=http://stackoverflow.com/questions/758212/how-can-i-strip-all-the-whitespaces-from-a-string-in-objective-c>the answers to this question on StackOverflow</a>ã€‚</p><p>åœ¨å†™è¿™ç¯‡æ–‡ç« çš„æ—¶å€™ï¼Œæ’è¡Œç¬¬äºŒçš„æ­£ç¡®ç­”æ¡ˆæœ‰ 58 ä¸ªé¡¶å’Œ 2 ä¸ªè¸©ã€‚æ’è¡Œç¬¬ä¸€çš„æœ‰ 84 ä¸ªé¡¶å’Œ 24 ä¸ªè¸©ã€‚</p><p>å¦‚ä»Šï¼Œæ’åç¬¬ä¸€çš„ç­”æ¡ˆå´ä¸æ˜¯æ­£ç¡®ç­”æ¡ˆæ˜¯ä¸å¤ªæ­£å¸¸çš„ï¼Œä½†æ˜¯è¿™ä¸ªé—®é¢˜å·²ç»ç ´äº†ä¸é‡å¤ç­”æ¡ˆæ•°ï¼ˆ10ä¸ªï¼‰çš„è®°å½•ï¼ŒåŒæ—¶ä¹Ÿç ´äº†ä¸é‡å¤ã€å®Œå…¨é”™è¯¯çš„ç­”æ¡ˆæ•°ï¼ˆ9ä¸ªï¼‰çš„è®°å½•ã€‚</p><p>è¨€å½’æ­£ä¼ ï¼Œè¿™é‡Œæœ‰ 9 ä¸ªé”™è¯¯ç­”æ¡ˆï¼š</p><ul><li>&ldquo;Use <code>stringByTrimmingCharactersInSet</code>&rdquo; - <em>æ­£å¦‚ä½ æ‰€çŸ¥é“çš„ï¼Œå®ƒåªå»æ‰é¦–å°¾çš„ç©ºæ ¼ã€‚</em></li><li>&ldquo;Replace &rsquo; &rsquo; with &lsquo;&rsquo;&rdquo; - <em>è¿™ä¸ªå»é™¤äº†<strong>æ‰€æœ‰</strong>çš„ç©ºæ ¼ï¼ŒåŠ³è€Œæ— åŠŸã€‚</em></li><li>&ldquo;Use a regular expression&rdquo; - <em>æœ‰ç‚¹ç”¨ï¼Œä½†å®ƒæ²¡æœ‰å¤„ç†é¦–å°¾çš„ç©ºæ ¼ã€‚ç”¨æ­£åˆ™è¡¨è¾¾å¼æœ‰ç‚¹å¤§æå°ç”¨äº†ã€‚</em></li><li>&ldquo;Use Regexp Lite&rdquo; - <em>è¯´çœŸçš„ï¼Œæ­£åˆ™è¡¨è¾¾å¼çœŸå¿ƒæ²¡å¿…è¦ã€‚åŒæ—¶ä¸ºäº†è¿™ç‚¹åŠŸèƒ½å¢åŠ ç¬¬ä¸‰æ–¹åº“å¾ˆä¸å€¼ã€‚</em></li><li>&ldquo;Use OgreKit&rdquo; - <em>åŒä¸Šï¼Œæ·»åŠ äº†ç¬¬ä¸‰æ–¹åº“ã€‚</em></li><li>&ldquo;Split the string into components, iterate over them to find components with non-zero length, and then re-combine&rdquo; - <em>å¾ˆæ¥è¿‘äº†ï¼Œä½†æ˜¯ <code>componentsSeparatedByCharactersInSet:</code> å·²ç»è®©éå†å˜å¾—æ²¡å¿…è¦ã€‚</em></li><li>&ldquo;Replace two-space strings with single-space strings in a while loop&rdquo; - <em>é”™è¯¯ä¸”æµªè´¹è®¡ç®—èµ„æºã€‚</em></li><li>&ldquo;Manually iterate over each <code>unichar</code> in the string and use <code>NSCharacterSet -characterIsMember:</code>&rdquo; - <em>ç”¨äº†ä¸€ä¸ªå¤æ‚åˆ°è®©äººåƒæƒŠçš„ç¨‹åº¦çš„æ–¹æ³•ï¼Œå´å¿˜äº†æ ‡å‡†åº“ä¸­å·²ç»æœ‰æ–¹æ³•å¯ä»¥ç”¨ã€‚</em></li><li>&ldquo;Find and remove all of the tabs&rdquo; - <em>æœ‰è°æåˆ°äº†åˆ¶è¡¨ç¬¦äº†ï¼Ÿä¸è¿‡è¿˜æ˜¯è°¢è°¢äº†å§ã€‚</em></li></ul><p>æˆ‘ä¸ªäººå¹¶ä¸æ˜¯æƒ³è´£æ€ªå›ç­”é—®é¢˜çš„äººâ€”â€”åªæ˜¯æŒ‡å‡ºå®Œæˆè¿™ä¸ªåŠŸèƒ½æœ‰å¤šå°‘ç§ä¸åŒçš„æ–¹æ³•ï¼Œè€Œè¿™äº›æ–¹æ³•æœ‰å¤šå°‘æ˜¯å®Œå…¨é”™è¯¯çš„ã€‚</p><h2 id=å­—ç¬¦ä¸²åˆ†è¯>å­—ç¬¦ä¸²åˆ†è¯</h2><p><strong>ä¸è¦ç”¨ <code>NSCharacterSet</code> æ¥åˆ†è¯ã€‚</strong>
<strong>ç”¨ <code>CFStringTokenizer</code> æ¥æ›¿ä»£å®ƒã€‚</strong></p><p>ä½ ç”¨ <code>componentsSeparatedByCharactersInSet:</code> æ¥æ¸…ç†ç”¨æˆ·è¾“å…¥æ˜¯å¯ä»¥è°…è§£çš„ï¼Œä½†æ˜¯ç”¨å®ƒæ¥åšæ›´å¤æ‚çš„äº‹æƒ…ï¼Œä½ å°†é™·å…¥ç—›è‹¦çš„æ·±æ¸Šã€‚</p><p>ä¸ºä»€ä¹ˆï¼Ÿè¯·è®°ä½ï¼Œè¯­è¨€å¹¶ä¸æ˜¯éƒ½ç”¨ç©ºæ ¼ä½œä¸ºè¯çš„åˆ†ç•Œã€‚è™½ç„¶å®é™…ä¸Šä»¥ç©ºæ ¼åˆ†ç•Œçš„è¯­è¨€ä½¿ç”¨éå¸¸å¹¿æ³›ã€‚ä½†å“ªæ€•åªç®—ä¸Šä¸­å›½å’Œæ—¥æœ¬å°±å·²ç»æœ‰åå¤šäº¿äººï¼Œå äº†ä¸–ç•Œäººå£æ€»é‡çš„ 16%ã€‚</p><p>â€¦â€¦å³ä½¿æ˜¯ç”¨ç©ºæ ¼åˆ†éš”çš„è¯­è¨€ï¼Œåˆ†è¯ä¹Ÿæœ‰ä¸€äº›æ¨¡æ£±ä¸¤å¯çš„è¾¹ç•Œæ¡ä»¶ï¼Œç‰¹åˆ«æ˜¯å¤åˆè¯æ±‡å’Œæ ‡ç‚¹ç¬¦å·ã€‚</p><p>ä»¥ä¸Šåªä¸ºè¯´æ˜ï¼šå¦‚æœä½ æƒ³å°†å­—ç¬¦ä¸²åˆ†æˆæœ‰æ„ä¹‰çš„å•è¯ï¼Œé‚£ä¹ˆè¯·ç”¨ <code>CFStringTokenizer</code> ï¼ˆæˆ–è€… <code>enumerateSubstringsInRange:options:usingBlock:</code>ï¼‰å§ã€‚</p><h2 id=ä»å­—ç¬¦ä¸²è§£ææ•°æ®>ä»å­—ç¬¦ä¸²è§£ææ•°æ®</h2><p><code>NSScanner</code> æ˜¯ä¸ªç”¨ä»¥è§£æä»»æ„æˆ–åŠç»“æ„åŒ–çš„å­—ç¬¦ä¸²çš„æ•°æ®çš„ç±»ã€‚å½“ä½ ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²åˆ›å»ºä¸€ä¸ªæ‰«æå™¨æ—¶ï¼Œä½ å¯ä»¥æŒ‡å®šå¿½ç•¥å“ªäº›å­—ç¬¦ï¼Œè¿™æ ·å¯ä»¥é¿å…é‚£äº›å­—ç¬¦ä»¥å„ç§å„æ ·çš„æ–¹å¼è¢«åŒ…å«åˆ°è§£æå‡ºæ¥çš„ç»“æœä¸­ã€‚</p><p>ä¾‹å¦‚ï¼Œä½ æƒ³ä»è¿™æ ·ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­è§£æå‡ºå¼€é—¨æ—¶é—´ï¼š</p><pre tabindex=0><code>Mon-Thurs:  8:00 - 18:00
Fri:        7:00 - 17:00
Sat-Sun:    10:00 - 15:00
</code></pre><p>ä½ ä¼š <code>enumerateLinesUsingBlock:</code> å¹¶åƒè¿™æ ·ç”¨ä¸€ä¸ª <code>NSScanner</code> æ¥è§£æï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>let</span> skippedCharacters = NSMutableCharacterSet()
</span></span><span style=display:flex><span>skippedCharacters.formIntersectionWithCharacterSet(NSCharacterSet.punctuationCharacterSet())
</span></span><span style=display:flex><span>skippedCharacters.formIntersectionWithCharacterSet(NSCharacterSet.whitespaceCharacterSet())
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>string.enumerateLines { (line, <span style=color:#66d9ef>_</span>) <span style=color:#66d9ef>in</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> scanner = NSScanner(string: line)
</span></span><span style=display:flex><span>    scanner.charactersToBeSkipped = skippedCharacters
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> startDay, endDay: NSString?
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> startHour: Int = <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> startMinute: Int = <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> endHour: Int = <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> endMinute: Int = <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    scanner.scanCharactersFromSet(NSCharacterSet.letterCharacterSet(), intoString: &amp;startDay)
</span></span><span style=display:flex><span>    scanner.scanCharactersFromSet(NSCharacterSet.letterCharacterSet(), intoString: &amp;endDay)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    scanner.scanInteger(&amp;startHour)
</span></span><span style=display:flex><span>    scanner.scanInteger(&amp;startMinute)
</span></span><span style=display:flex><span>    scanner.scanInteger(&amp;endHour)
</span></span><span style=display:flex><span>    scanner.scanInteger(&amp;endMinute)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>NSMutableCharacterSet <span style=color:#f92672>*</span>skippedCharacters <span style=color:#f92672>=</span> [NSMutableCharacterSet punctuationCharacterSet];
</span></span><span style=display:flex><span>[skippedCharacters formUnionWithCharacterSet:[NSCharacterSet whitespaceCharacterSet]];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[hours enumerateLinesUsingBlock:<span style=color:#f92672>^</span>(NSString <span style=color:#f92672>*</span>line, <span style=color:#66d9ef>BOOL</span> <span style=color:#f92672>*</span>stop) {
</span></span><span style=display:flex><span>  NSScanner <span style=color:#f92672>*</span>scanner <span style=color:#f92672>=</span> [NSScanner scannerWithString:line];
</span></span><span style=display:flex><span>  [scanner setCharactersToBeSkipped:skippedCharacters];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  NSString <span style=color:#f92672>*</span>startDay, <span style=color:#f92672>*</span>endDay;
</span></span><span style=display:flex><span>  NSUInteger startHour, startMinute, endHour, endMinute;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  [scanner scanCharactersFromSet:[NSCharacterSet letterCharacterSet] intoString:<span style=color:#f92672>&amp;</span>startDay];
</span></span><span style=display:flex><span>  [scanner scanCharactersFromSet:[NSCharacterSet letterCharacterSet] intoString:<span style=color:#f92672>&amp;</span>endDay];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  [scanner scanInteger:<span style=color:#f92672>&amp;</span>startHour];
</span></span><span style=display:flex><span>  [scanner scanInteger:<span style=color:#f92672>&amp;</span>startMinute];
</span></span><span style=display:flex><span>  [scanner scanInteger:<span style=color:#f92672>&amp;</span>endHour];
</span></span><span style=display:flex><span>  [scanner scanInteger:<span style=color:#f92672>&amp;</span>endMinute];
</span></span><span style=display:flex><span>}];
</span></span></code></pre></div><p>æˆ‘ä»¬é¦–å…ˆä»ç©ºæ ¼å­—ç¬¦é›†å’Œæ ‡ç‚¹ç¬¦å·å­—ç¬¦é›†çš„å¹¶é›†æ„é€ äº†ä¸€ä¸ª <code>NSMutableCharacterSet</code>ã€‚å‘Šè¯‰ <code>NSScanner</code> å¿½ç•¥è¿™äº›å­—ç¬¦ä»¥æå¤§åœ°å‡å°‘è§£æè¿™äº›å­—ç¬¦çš„å¿…è¦é€»è¾‘ã€‚</p><p><code>scanCharactersFromSet:</code> ä¼ å…¥å­—æ¯å­—ç¬¦é›†å¾—åˆ°æ¯é¡¹ä¸­ä¸€æ˜ŸæœŸå†…çš„å¼€å§‹å’Œç»“æŸï¼ˆå¯é€‰ï¼‰çš„å¤©æ•°ã€‚<code>scanInteger</code> ç±»ä¼¼åœ°ï¼Œå¾—åˆ°ä¸‹ä¸€ä¸ªè¿ç»­çš„æ•´å‹å€¼ã€‚</p><p><code>NSCharacterSet</code> å’Œ <code>NSScanner</code> è®©ä½ å¯ä»¥å¿«é€Ÿè€Œå……æ»¡è‡ªä¿¡åœ°ç¼–ç ã€‚è¿™ä¸¤è€…çœŸæ˜¯å®Œç¾ç»„åˆã€‚</p><hr><p><code>NSCharacterSet</code> æ˜¯åŸºç¡€ç±»åº“ä¸­å­—ç¬¦ä¸²å¤„ç†ç³»ç»Ÿä¸­çš„ä¸€å‘˜ï¼Œå¯èƒ½æ˜¯æœ€å®¹æ˜“è¢«ç”¨é”™æˆ–æ˜¯è¯¯è§£çš„ä¸€å‘˜ã€‚åœ¨è„‘ä¸­è®°ä½è¿™äº›æ¨¡å¼ä¸åæ¨¡å¼ï¼Œä½ å°†ä¸ä»…èƒ½åšä¸€äº›å¾ˆæœ‰ç”¨çš„è¯¸å¦‚ç®¡ç†ç©ºæ ¼åŠä»å­—ç¬¦ä¸²ä¸­è¯»ä¿¡æ¯ä¹‹ç±»çš„äº‹æƒ…ï¼Œæ›´é‡è¦çš„æ˜¯ï¼Œä½ å°†é¿å…è¯¯å…¥æ­§é€”ã€‚</p><p>å¦‚æœâ€œä¸å‡ºé”™â€å¯¹ä¸€ä¸ª NSHipster æ¥è¯´ä¸æ˜¯æœ€é‡è¦çš„äº‹æƒ…ï¼Œé‚£æˆ‘ä¹Ÿä¸æƒ³æˆä¸ºæ­£ç¡®çš„äº†ï¼</p><blockquote><p>Ed. Speaking of (not) being wrong, the original version of this article contained errors in both code samples. These have since been corrected.</p></blockquote><pre tabindex=0><code>
---



é™¤é&lt;a href=&#34;https://nshipster.cn/&#34; target=_blank&gt;å¦æœ‰å£°æ˜&lt;/a&gt;ï¼Œæœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ã€Œ&lt;a href=&#34;https://creativecommons.org/licenses/by-nc/3.0/cn/&#34; target=_blank&gt;ç½²å-éå•†ä¸šæ€§ä½¿ç”¨ 3.0 ä¸­å›½å¤§é™†&lt;/a&gt;ã€è®¸å¯åè®®æˆæƒã€‚
</code></pre><ins class=adsbygoogle style=display:block data-ad-client=ca-pub-8922574795542092 data-ad-slot=2802455178 data-ad-format=auto data-full-width-responsive=true></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><footer><p style="margin:0 -3px"><span style="float:left;margin:0 -3px"><a href=#mysite-singlepage-top title="Back to Top Â· å›é¡¶éƒ¨" rel=nofollow>&#127772;2012-09-17 </a>&copy;</span>
<span style="float:right;margin:0 -3px"><a href=https://autoptr.top/license/ title="Copyright &copy; All rights reserved" target=_blank rel=nofollow>&copy; 2026 Mattt ç‰ˆæƒæ‰€æœ‰</a><a href=https://autoptr.top/ title="Back to Home Â· å›é¦–é¡µ">&#127771;</a></span></p><hr><hr><p style="margin:3px 5px"><ul class=tags><span>æ ‡ç­¾:</span><li><a class=link href=https://autoptr.top/tags/C++ target=_blank>C++</a></li><li><a class=link href=https://autoptr.top/tags/nshipster target=_blank>nshipster</a></li><span>&nbsp;&nbsp;</span>
<span>åˆ†ç±»:</span><li><a class=link href=https://autoptr.top/categories/Cocoa target=_blank>Cocoa</a></li><li><a class=link href=https://autoptr.top/categories/macOS target=_blank>macOS</a></li><li><a class=link href=https://autoptr.top/categories/CC++ target=_blank>CC++</a></li></ul><p style=margin-bottom:2em></p></p></footer></div><script src=/jscss/ajax/libs/jquery/3.3.1/jquery.slim.min.js></script><script src=/jscss/ajax/libs/twitter-bootstrap/3.1.1/js/bootstrap.min.js></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-37ZP0S1L3D"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-37ZP0S1L3D")</script><script src=/jscss/ajax/libs/medium-zoom/1.0.4/medium-zoom.min.js></script><script>const zoom=mediumZoom();zoom.attach("p img")</script></body></html>