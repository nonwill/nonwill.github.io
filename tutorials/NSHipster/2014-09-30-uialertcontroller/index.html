<!doctype html><html><head><meta charset=utf-8><meta http-equiv=content-language content="zh-cn"><meta name=viewport content="width=device-width,initial-scale=.5"><title>UIAlertController</title>
<link rel="shortcut icon" type=image/x-icon href=/media/shortcuticon.png><meta name=keywords content="UIAlertController,macOS,C++,Cocoa,Objective-C,Swift,NSHipster"><meta name=description content="UIAlertController,macOS,C++,Cocoa,Objective-C,Swift,NSHipster"><script>if(document.domain=="autoptr.pages.dev"){var url=window.location.href,url=url.replace(/autoptr+\.pages+\.dev/g,"www.autoptr.top");window.location.href=url}</script><script src=/jscss/ajax/libs/anchor-js/4.2.0/anchor.min.js></script><script>document.addEventListener("DOMContentLoaded",function(){anchors.options={visible:"hover",placement:"left",icon:"ğŸŒœ"},anchors.add()})</script><link rel=stylesheet href=/css/main.css><link href=/jscss/ajax/libs/highlight.js/9.12.0/styles/atom-one-dark.min.css rel=stylesheet><script src=/jscss/ajax/libs/highlight.js/9.12.0/highlight.min.js></script><script>hljs.initHighlightingOnLoad()</script><style type=text/css>body{background-color:#fbf6ec}</style><script>top.location!=self.location&&(top.location=self.location)</script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?746e6e6d14d22526bf274c834750df53",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script></head><body><script>window.addEventListener("resize",resizeThrottler,!1);var resizeTimeout;function resizeThrottler(){resizeTimeout||(resizeTimeout=setTimeout(function(){resizeTimeout=null,actualResizeHandler()},66))}actualResizeHandler();function actualResizeHandler(){/mobile/i.test(navigator.userAgent)||/android/i.test(navigator.userAgent)?document.body.classList.add("mobile"):document.body.classList.remove("mobile")}</script><a id=mysite-singlepage-top></a><div class=inner style=position:relative><div class=blog-post><h1 class=blog-title align=center><span class=btContent>UIAlertController</span><span class=btRight><span title="Author Â· ä½œè€…" class=author>Mattt</span> <span title="Translator Â· ç¿»è¯‘" class=author>Croath Liu</span> <a href=https://github.com/NSHipster/articles-zh-Hans style=color:#007cd5 title="Related or Quoted Post Â· å…³è”æˆ–è½¬è½½å¼•ç”¨çš„æ–‡ç« " target=_blank rel="nofollow noopener noreferrer">&#128681;</a><a href=/tutorials/NSHipster/ title="Back to Topics Â· å›ä¸»é¢˜é¡µ">&#127793;</a></span></h1><p>ä½ çŸ¥é“ <code>UIAlertView</code>ã€<code>UIActionSheet</code> (ä»¥åŠå®ƒä»¬å„è‡ªçš„ delegate protocols) åœ¨ iOS 8 ä¸­å·²ç»è¢«åºŸå¼ƒäº†å—ï¼Ÿ</p><p>è¿™æ˜¯çœŸçš„ã€‚åœ¨ä½ çš„ä»£ç ä¸­æŒ‰ä½ âŒ˜ ç‚¹å‡» <code>UIAlertView</code> æˆ–è€… <code>UIActionSheet</code>ï¼Œä½ å°±ä¼šçœ‹åˆ°æœ€ä¸Šé¢çš„æ³¨é‡Šï¼š</p><blockquote><p><code>UIAlertView</code> is deprecated. Use <code>UIAlertController</code> with a <code>preferredStyle</code> of <code>UIAlertControllerStyleAlert</code> instead.</p></blockquote><p>ä½ å¯èƒ½å¥½å¥‡ä¸ºä»€ä¹ˆ Xcode ä¸ç›´æ¥è­¦å‘Šä½ è¿™ä¸ªå˜åŒ–å‘¢ï¼Ÿåˆ«æ€¥ï¼Œå¾€ä¸‹è¯»ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>@availability(iOS, introduced=2.0)</span>
</span></span></code></pre></div><p>è™½ç„¶ç±»å·²ç»è¢«åºŸå¼ƒäº†ï¼Œä½†åœ¨ <code>@availability</code> å±æ€§ä¸­å¹¶æ²¡æœ‰è¡¨è¾¾å‡ºè¿™ä¸€ç‚¹ã€‚<code>UIAlertView</code> ç›®å‰è¿˜æ˜¯èƒ½ç”¨çš„ã€‚</p><p>æœ€å¼€å§‹çš„æ—¶å€™ï¼Œ<code>UIAlertView</code> å……æ»¡äº†æ— åº•çº¿çš„è®©æ­¥ï¼Œç‰ºç‰²æ ¼å¼å’Œè®¾è®¡æ­£ç¡®æ€§æ¥é¡ºåº”å¼€å‘è€…çš„å–œå¥½ã€‚å®ƒçš„ <code>delegate</code> ç±»å‹æ˜¯åœ¨åˆå§‹åŒ–å‡½æ•°ä¸­æ³¨é‡Šçš„ (<code>delegate:(id /* &lt;UIAlertViewDelegate */)delegate</code>)ï¼Œå¹¶ä¸”åœ¨ protocol æ–¹æ³•ä¸­å®ç°äº†è®©äººåŒªå¤·æ‰€æ€çš„æ¦‚å¿µâ€”â€”<code>buttonAtIndex:</code> çš„ &ldquo;clicked&rdquo; è€Œä¸æ˜¯ &ldquo;tapped&rdquo;ï¼›ç„¶åè¿˜æä¾›äº†ä¸é™æ•°é‡çš„å‚æ•°æ¥å¼•å…¥ <code>otherButtonTitles</code>ï¼Œå› æ­¤ button çš„ç´¢å¼•ç®¡ç†å˜å¾—éå¸¸ç—›è‹¦ï¼›ä¸€ä¸ª <code>-show</code> æ–¹æ³•ä¹Ÿæ ¹æœ¬ä¸è€ƒè™‘ view çš„å±‚çº§å…³ç³»&mldr;&mldr;ç±»ä¼¼çš„é—®é¢˜æ•°ä¸èƒœæ•°ã€‚</p><p><code>UIActionSheet</code> ä¹Ÿä¸€æ ·ç³Ÿç³•ï¼Œä½†æ˜¯å¼€å‘è€…å¤§å¤šæ•°æ—¶é—´é‡Œéƒ½æ²¡æ—¶é—´æƒ³èµ·é‚£äº›ç³Ÿç³•çš„ä½¿ç”¨æ–¹æ³•ï¼Œä¸å…¶ç›¸å…³çš„æŠ±æ€¨ç‰¹å°±æ›´å°‘äº†ã€‚</p><p>å› æ­¤ï¼Œä»‹ç» <code>UIAlertController</code> ç»™å¤§å®¶ï¼Œå°±å¥½æ¯”æ´¾å‡ºå†›é˜Ÿè§£æ”¾ä¸€åº§è¢«å é¢†çš„åŸå¸‚ä¸€æ ·ã€‚å®ƒä¸ä»…ä»…æ”¹è¿›äº†é‚£äº›è®©äººå¤´ç–¼çš„ APIï¼Œä¹Ÿå¼€è¾Ÿäº†ä¸€æ¡ä¸ºæœ€æ–°è®¾å¤‡ä¸Š UIKit ç‰¹æ€§é€‚é…çš„æ–°è·¯å¾„ã€‚</p><p>æœ¬å‘¨æ–‡ç« çš„ä¸»é¢˜å°±æ˜¯ <code>UIAlertController</code>ï¼Œå‘å¤§å®¶å±•ç¤ºå¦‚ä½•æ›¿æ¢æ—§çš„ alertï¼Œä»¥åŠè¿™äº›æ“ä½œæ–¹æ³•çš„é«˜çº§æ‰©å±•ã€‚</p><hr><p><code>UIAlertController</code> åŒæ—¶æ›¿ä»£äº† <code>UIAlertView</code> å’Œ <code>UIActionSheet</code>ï¼Œä»ç³»ç»Ÿå±‚çº§ä¸Šç»Ÿä¸€äº† alert çš„æ¦‚å¿µ â€”â€” å³ä»¥ modal æ–¹å¼æˆ– popover æ–¹å¼å±•ç¤ºã€‚</p><p><code>UIAlertController</code> æ˜¯ <code>UIViewController</code> çš„å­ç±»ï¼Œè€Œéå…¶å…ˆå‰çš„æ–¹å¼ã€‚å› æ­¤æ–°çš„ alert å¯ä»¥ç”± view controller å±•ç¤ºç›¸å…³çš„é…ç½®ä¸­è·ç›Šå¾ˆå¤šã€‚</p><p><code>UIAlertController</code> ä¸ç®¡æ˜¯è¦ç”¨ alert è¿˜æ˜¯ action sheet æ–¹å¼å±•ç¤ºï¼Œéƒ½è¦ä»¥ <code>title</code> å’Œ <code>message</code> å‚æ•°æ¥åˆå§‹åŒ–ã€‚Alert ä¼šåœ¨å½“å‰æ˜¾ç¤ºçš„ view controller ä¸­å¿ƒä»¥æ¨¡æ€å½¢å¼å‡ºç°ï¼Œaction sheet åˆ™ä¼šåœ¨åº•éƒ¨æ»‘å‡ºã€‚Alert å¯ä»¥åŒæ—¶æœ‰æŒ‰é’®å’Œè¾“å…¥æ¡†ï¼Œaction sheet ä»…æ”¯æŒæŒ‰é’®ã€‚</p><p>æ–°çš„æ–¹å¼å¹¶æ²¡æœ‰æŠŠæ‰€æœ‰çš„ alert æŒ‰é’®é…ç½®éƒ½æ”¾åœ¨åˆå§‹åŒ–å‡½æ•°ä¸­ï¼Œè€Œæ˜¯å¼•å…¥äº†ä¸€ä¸ªæ–°ç±» <code>UIAlertAction</code> çš„å¯¹è±¡ï¼Œåœ¨åˆå§‹åŒ–ä¹‹åå¯ä»¥è¿›è¡Œé…ç½®ã€‚è¿™ç§å½¢å¼çš„ API é‡æ„è®©å¯¹æŒ‰é’®æ•°é‡ã€ç±»å‹ã€é¡ºåºæ–¹ä¾¿æœ‰äº†æ›´å¤§çš„æ§åˆ¶ã€‚åŒæ—¶ä¹Ÿå¼ƒç”¨äº† <code>UIAlertView</code> å’Œ <code>UIActionSheet</code> ä½¿ç”¨çš„delegate è¿™ç§æ–¹å¼ï¼Œè€Œæ˜¯é‡‡ç”¨æ›´ç®€ä¾¿çš„å®Œæˆæ—¶å›è°ƒã€‚</p><h2 id=æ–°æ—§-alert-æ–¹å¼å¯¹æ¯”>æ–°æ—§ Alert æ–¹å¼å¯¹æ¯”</h2><h3 id=æ ‡å‡†çš„-alert-æ ·å¼>æ ‡å‡†çš„ Alert æ ·å¼</h3><p><img alt="A Standard Alert" src=/media/NSHipster/uialertcontroller-alert-defautl-style.png></p><h4 id=æ—§æ–¹æ³•uialertview>æ—§æ–¹æ³•ï¼šUIAlertView</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>let</span> alertView = UIAlertView(title: <span style=color:#e6db74>&#34;Default Style&#34;</span>, message: <span style=color:#e6db74>&#34;A standard alert.&#34;</span>, delegate: <span style=color:#66d9ef>self</span>, cancelButtonTitle: <span style=color:#e6db74>&#34;Cancel&#34;</span>, otherButtonTitles: <span style=color:#e6db74>&#34;OK&#34;</span>)
</span></span><span style=display:flex><span>alertView.alertViewStyle = .Default
</span></span><span style=display:flex><span>alertView.show()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// </span><span style=color:#75715e>MARK:</span><span style=color:#75715e> UIAlertViewDelegate</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>alertView</span>(alertView: UIAlertView, clickedButtonAtIndex buttonIndex: Int) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>switch</span> buttonIndex {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// ...</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=æ–°æ–¹æ³•uialertcontroller>æ–°æ–¹æ³•ï¼šUIAlertController</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>let</span> alertController = UIAlertController(title: <span style=color:#e6db74>&#34;Default Style&#34;</span>, message: <span style=color:#e6db74>&#34;A standard alert.&#34;</span>, preferredStyle: .Alert)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> cancelAction = UIAlertAction(title: <span style=color:#e6db74>&#34;Cancel&#34;</span>, style: .Cancel) { (action) <span style=color:#66d9ef>in</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// ...</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>alertController.addAction(cancelAction)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> OKAction = UIAlertAction(title: <span style=color:#e6db74>&#34;OK&#34;</span>, style: .Default) { (action) <span style=color:#66d9ef>in</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// ...</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>alertController.addAction(OKAction)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>self</span>.presentViewController(alertController, animated: <span style=color:#66d9ef>true</span>) {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// ...</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=æ ‡å‡†çš„-action-sheet-æ ·å¼>æ ‡å‡†çš„ Action Sheet æ ·å¼</h3><p><img alt="A Standard Action Sheet" src=/media/NSHipster/uialertcontroller-action-sheet-automatic-style.png></p><h4 id=uiactionsheet>UIActionSheet</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>let</span> actionSheet = UIActionSheet(title: <span style=color:#e6db74>&#34;Takes the appearance of the bottom bar if specified; otherwise, same as UIActionSheetStyleDefault.&#34;</span>, delegate: <span style=color:#66d9ef>self</span>, cancelButtonTitle: <span style=color:#e6db74>&#34;Cancel&#34;</span>, destructiveButtonTitle: <span style=color:#e6db74>&#34;Destroy&#34;</span>, otherButtonTitles: <span style=color:#e6db74>&#34;OK&#34;</span>)
</span></span><span style=display:flex><span>actionSheet.actionSheetStyle = .Default
</span></span><span style=display:flex><span>actionSheet.showInView(<span style=color:#66d9ef>self</span>.view)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// </span><span style=color:#75715e>MARK:</span><span style=color:#75715e> UIActionSheetDelegate</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>actionSheet</span>(actionSheet: UIActionSheet, clickedButtonAtIndex buttonIndex: Int) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>switch</span> buttonIndex {
</span></span><span style=display:flex><span>        ...
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=uialertcontroller>UIAlertController</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>let</span> alertController = UIAlertController(title: <span style=color:#66d9ef>nil</span>, message: <span style=color:#e6db74>&#34;Takes the appearance of the bottom bar if specified; otherwise, same as UIActionSheetStyleDefault.&#34;</span>, preferredStyle: .ActionSheet)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> cancelAction = UIAlertAction(title: <span style=color:#e6db74>&#34;Cancel&#34;</span>, style: .Cancel) { (action) <span style=color:#66d9ef>in</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// ...</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>alertController.addAction(cancelAction)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> OKAction = UIAlertAction(title: <span style=color:#e6db74>&#34;OK&#34;</span>, style: .Default) { (action) <span style=color:#66d9ef>in</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// ...</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>alertController.addAction(OKAction)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> destroyAction = UIAlertAction(title: <span style=color:#e6db74>&#34;Destroy&#34;</span>, style: .Destructive) { (action) <span style=color:#66d9ef>in</span>
</span></span><span style=display:flex><span>    println(action)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>alertController.addAction(destroyAction)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>self</span>.presentViewController(alertController, animated: <span style=color:#66d9ef>true</span>) {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// ...</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=æ–°åŠŸèƒ½>æ–°åŠŸèƒ½</h2><p><code>UIAlertController</code> å¹¶ä¸åªæ˜¯å¯¹å·²æœ‰çš„ API åšäº†æ¸…ç†ï¼Œè€Œæ˜¯è¿›è¡Œäº†æ ‡å‡†åŒ–å½’çº³ã€‚ä»¥å‰ï¼Œé¢„è®¾çš„æ ·å¼é—²ç½®æœ‰å¾ˆå¤šï¼ˆswizzling è™½ç„¶å¯ä»¥æä¾›æ›´å¤šçš„åŠŸèƒ½ä½†è¿˜æ˜¯æœ‰å¾ˆå¤§é£é™©ï¼‰ã€‚<code>UIAlertController</code> è®©ä»¥å‰çœ‹èµ·æ¥å¾ˆç¥å¥‡çš„äº‹æƒ…å˜ä¸ºäº†å¯èƒ½ã€‚</p><h3 id=å¸¦æœ‰è­¦ç¤ºæŒ‰é’®çš„-alert>å¸¦æœ‰è­¦ç¤ºæŒ‰é’®çš„ Alert</h3><p><img alt="Alert with Destructive Button" src=/media/NSHipster/uialertcontroller-alert-cancel-destroy.png></p><p>è¿™ç§è¡Œä¸ºå·²ç»è¢« <code>UIAlertActionStyle</code> æ‰€æ¶µç›–ï¼Œå…±æœ‰ä¸‰ç§ç±»å‹ï¼š</p><blockquote><ul><li><code>.Default</code>: å¯¹æŒ‰é’®åº”ç”¨æ ‡å‡†æ ·å¼ã€‚</li><li><code>.Cancel</code>: å¯¹æŒ‰é’®åº”ç”¨å–æ¶ˆæ ·å¼ï¼Œä»£è¡¨å–æ¶ˆæ“ä½œä¸åšä»»ä½•æ”¹å˜ã€‚</li><li><code>.Destructive</code>: å¯¹æŒ‰é’®åº”ç”¨è­¦ç¤ºæ€§çš„æ ·å¼ï¼Œæç¤ºç”¨æˆ·è¿™æ ·åšå¯èƒ½ä¼šæ”¹å˜æˆ–åˆ é™¤æŸäº›æ•°æ®ã€‚</li></ul></blockquote><p>æ‰€ä»¥æƒ³è¦å¯¹æ¨¡æ€çš„ alert åŠ ä¸€ä¸ªè­¦ç¤ºæ€§çš„æŒ‰é’®ï¼Œåªéœ€è¦åŠ ä¸Š <code>.Destructive</code> é£æ ¼çš„ <code>UIAlertAction</code> å±æ€§ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>let</span> alertController = UIAlertController(title: <span style=color:#e6db74>&#34;Title&#34;</span>, message: <span style=color:#e6db74>&#34;Message&#34;</span>, preferredStyle: .Alert)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> cancelAction = UIAlertAction(title: <span style=color:#e6db74>&#34;Cancel&#34;</span>, style: .Cancel) { (action) <span style=color:#66d9ef>in</span>
</span></span><span style=display:flex><span>    println(action)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>alertController.addAction(cancelAction)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> destroyAction = UIAlertAction(title: <span style=color:#e6db74>&#34;Destroy&#34;</span>, style: .Destructive) { (action) <span style=color:#66d9ef>in</span>
</span></span><span style=display:flex><span>    println(action)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>alertController.addAction(destroyAction)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>self</span>.presentViewController(alertController, animated: <span style=color:#66d9ef>true</span>) {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// ...</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=å¤§äº-2-ä¸ªæŒ‰é’®çš„-alert>å¤§äº 2 ä¸ªæŒ‰é’®çš„ Alert</h3><p><img alt="Alert with More Than 2 Buttons" src=/media/NSHipster/uialertcontroller-alert-one-two-three-cancel.png></p><p>æœ‰ 1 ä¸ªæˆ–è€… 2 ä¸ªæ“ä½œçš„æ—¶å€™ï¼ŒæŒ‰é’®ä¼šæ°´å¹³æ’å¸ƒã€‚æ›´å¤šæŒ‰é’®çš„æƒ…å†µï¼Œå°±ä¼šåƒ action sheet é‚£æ ·å±•ç¤ºï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>let</span> oneAction = UIAlertAction(title: <span style=color:#e6db74>&#34;One&#34;</span>, style: .Default) { (<span style=color:#66d9ef>_</span>) <span style=color:#66d9ef>in</span> }
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> twoAction = UIAlertAction(title: <span style=color:#e6db74>&#34;Two&#34;</span>, style: .Default) { (<span style=color:#66d9ef>_</span>) <span style=color:#66d9ef>in</span> }
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> threeAction = UIAlertAction(title: <span style=color:#e6db74>&#34;Three&#34;</span>, style: .Default) { (<span style=color:#66d9ef>_</span>) <span style=color:#66d9ef>in</span> }
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> cancelAction = UIAlertAction(title: <span style=color:#e6db74>&#34;Cancel&#34;</span>, style: .Cancel) { (<span style=color:#66d9ef>_</span>) <span style=color:#66d9ef>in</span> }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>alertController.addAction(oneAction)
</span></span><span style=display:flex><span>alertController.addAction(twoAction)
</span></span><span style=display:flex><span>alertController.addAction(threeAction)
</span></span><span style=display:flex><span>alertController.addAction(cancelAction)
</span></span></code></pre></div><h3 id=åˆ›å»ºç™»å½•è¡¨å•>åˆ›å»ºç™»å½•è¡¨å•</h3><p><img alt="Creating a Login Form" src=/media/NSHipster/uialertcontroller-alert-username-password-login-forgot-password-cancel.png></p><p>iOS 5 å°±ä¸º <code>UIAlertView</code> åŠ å…¥äº† <code>alertViewStyle</code> å±æ€§ï¼Œå°†åŸæœ¬ç§æœ‰çš„ API æš´éœ²å‡ºæ¥ç»™å¼€å‘è€…ä½¿ç”¨ â€”â€” åƒæŸäº›ç³»ç»Ÿå†…å»ºåº”ç”¨ä¸€æ ·å…è®¸åœ¨ alert ä¸­æ˜¾ç¤ºç™»å½•å’Œå¯†ç æ¡†ã€‚</p><p>åœ¨ iOS 8 ä¸­ï¼Œ<code>UIAlertController</code> åˆ™åŠ å…¥äº† <code>addTextFieldWithConfigurationHandler</code> æ–¹æ³•ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>let</span> loginAction = UIAlertAction(title: <span style=color:#e6db74>&#34;Login&#34;</span>, style: .Default) { (<span style=color:#66d9ef>_</span>) <span style=color:#66d9ef>in</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> loginTextField = alertController.textFields![<span style=color:#ae81ff>0</span>] <span style=color:#66d9ef>as</span> UITextField
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> passwordTextField = alertController.textFields![<span style=color:#ae81ff>1</span>] <span style=color:#66d9ef>as</span> UITextField
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    login(loginTextField.text, passwordTextField.text)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>loginAction.enabled = <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> forgotPasswordAction = UIAlertAction(title: <span style=color:#e6db74>&#34;Forgot Password&#34;</span>, style: .Destructive) { (<span style=color:#66d9ef>_</span>) <span style=color:#66d9ef>in</span> }
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> cancelAction = UIAlertAction(title: <span style=color:#e6db74>&#34;Cancel&#34;</span>, style: .Cancel) { (<span style=color:#66d9ef>_</span>) <span style=color:#66d9ef>in</span> }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>alertController.addTextFieldWithConfigurationHandler { (textField) <span style=color:#66d9ef>in</span>
</span></span><span style=display:flex><span>    textField.placeholder = <span style=color:#e6db74>&#34;Login&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    NSNotificationCenter.defaultCenter().addObserverForName(UITextFieldTextDidChangeNotification, object: textField, queue: NSOperationQueue.mainQueue()) { (notification) <span style=color:#66d9ef>in</span>
</span></span><span style=display:flex><span>        loginAction.enabled = textField.text <span style=color:#f92672>!=</span> <span style=color:#e6db74>&#34;&#34;</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>alertController.addTextFieldWithConfigurationHandler { (textField) <span style=color:#66d9ef>in</span>
</span></span><span style=display:flex><span>    textField.placeholder = <span style=color:#e6db74>&#34;Password&#34;</span>
</span></span><span style=display:flex><span>    textField.secureTextEntry = <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>alertController.addAction(loginAction)
</span></span><span style=display:flex><span>alertController.addAction(forgotPasswordAction)
</span></span><span style=display:flex><span>alertController.addAction(cancelAction)
</span></span></code></pre></div><h3 id=åˆ›å»ºæ³¨å†Œè¡¨å•>åˆ›å»ºæ³¨å†Œè¡¨å•</h3><p><img alt="Creating a Sign Up Form" src=/media/NSHipster/uialertcontroller-alert-sign-up.png></p><p><code>UIAlertController</code> æƒ³å¾—æ¯”ä»¥å‰æ›´å‘¨åˆ°ä¸€äº›ï¼Œå®ƒæä¾›äº†å±•ç¤ºæ— é™ä¸ªè¾“å…¥æ¡†çš„æƒé™ï¼Œå¹¶ä¸”æ¯ä¸€ä¸ªè¾“å…¥æ¡†éƒ½å¯ä»¥æ ¹æ®éœ€æ±‚è¿›è¡Œè‡ªå®šä¹‰ã€‚è¿™è®©ä»…åœ¨ä¸€ä¸ªæ¨¡æ€çš„ alert ä¸­å®ç°å®Œå–„çš„æ³¨å†ŒåŠŸèƒ½æˆä¸ºå¯èƒ½ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span>alertController.addTextFieldWithConfigurationHandler { (textField) <span style=color:#66d9ef>in</span>
</span></span><span style=display:flex><span>    textField.placeholder = <span style=color:#e6db74>&#34;Email&#34;</span>
</span></span><span style=display:flex><span>    textField.keyboardType = .EmailAddress
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>alertController.addTextFieldWithConfigurationHandler { (textField) <span style=color:#66d9ef>in</span>
</span></span><span style=display:flex><span>    textField.placeholder = <span style=color:#e6db74>&#34;Password&#34;</span>
</span></span><span style=display:flex><span>    textField.secureTextEntry = <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>alertController.addTextFieldWithConfigurationHandler { (textField) <span style=color:#66d9ef>in</span>
</span></span><span style=display:flex><span>    textField.placeholder = <span style=color:#e6db74>&#34;Password Confirmation&#34;</span>
</span></span><span style=display:flex><span>    textField.secureTextEntry = <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>è™½ç„¶æœ‰äº†è¿™äº›ï¼Œä½†å¿…é¡»è¦è¯´æ˜çš„æ˜¯ï¼Œä¸ç”¨_çŸ«æ‰è¿‡æ­£_ã€‚ä¸èƒ½å› ä¸ºä½ å¯ä»¥è¿™æ ·åšï¼Œå°±ä»£è¡¨ä½ _åº”è¯¥_è¿™æ ·åšã€‚å¿˜äº†è¿™ç©æ„å§ï¼Œæä¾›ä¸€ä¸ª view controller æ¥åšæ³¨å†ŒåŠŸèƒ½å§ï¼Œå› ä¸ºä½ æœ¬å°±åº”è¯¥è¿™æ ·åšï¼</p><h2 id=æ³¨æ„>æ³¨æ„</h2><p>å¦‚æœè¯•å›¾å‘ alert controller æ·»åŠ å¸¦æœ‰ <code>.ActionSheet</code> å±æ€§çš„è¾“å…¥æ¡†ï¼Œå°†ä¼šæŠ›å‡ºå¼‚å¸¸ï¼š</p><blockquote><p>Terminating app due to uncaught exception <code>NSInternalInconsistencyException</code>, reason: &lsquo;Text fields can only be added to an alert controller of style <code>UIAlertControllerStyleAlert</code>&rsquo;</p></blockquote><p>åŒæ ·çš„ï¼Œå‘ alert æˆ– action sheet æ·»åŠ ä¸€ä¸ªä»¥ä¸Šçš„ <code>.Cancel</code> æŒ‰é’®å°†ä¼šæŠ›å‡ºå¼‚å¸¸ï¼š</p><blockquote><p>Terminating app due to uncaught exception <code>NSInternalInconsistencyException</code>, reason: &lsquo;<code>UIAlertController</code> can only have one action with a style of <code>UIAlertActionStyleCancel</code>&rsquo;</p></blockquote><hr><p>é™¤é<a href=https://nshipster.cn/ target=_blank>å¦æœ‰å£°æ˜</a>ï¼Œæœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ã€Œ<a href=https://creativecommons.org/licenses/by-nc/3.0/cn/ target=_blank>ç½²å-éå•†ä¸šæ€§ä½¿ç”¨ 3.0 ä¸­å›½å¤§é™†</a>ã€è®¸å¯åè®®æˆæƒã€‚</p><ins class=adsbygoogle style=display:block data-ad-client=ca-pub-8922574795542092 data-ad-slot=2802455178 data-ad-format=auto data-full-width-responsive=true></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><footer><p style="margin:0 -3px"><span style="float:left;margin:0 -3px"><a href=#mysite-singlepage-top title="Back to Top Â· å›é¡¶éƒ¨" rel=nofollow>&#127772;2014-09-30 </a>&copy;</span>
<span style="float:right;margin:0 -3px"><a href=https://autoptr.top/license/ title="Copyright &copy; All rights reserved" target=_blank rel=nofollow>&copy; 2026 Mattt ç‰ˆæƒæ‰€æœ‰</a><a href=https://autoptr.top/ title="Back to Home Â· å›é¦–é¡µ">&#127771;</a></span></p><hr><hr><p style="margin:3px 5px"><ul class=tags><span>æ ‡ç­¾:</span><li><a class=link href=https://autoptr.top/tags/C++ target=_blank>C++</a></li><li><a class=link href=https://autoptr.top/tags/nshipster target=_blank>nshipster</a></li><span>&nbsp;&nbsp;</span>
<span>åˆ†ç±»:</span><li><a class=link href=https://autoptr.top/categories/Cocoa target=_blank>Cocoa</a></li><li><a class=link href=https://autoptr.top/categories/macOS target=_blank>macOS</a></li><li><a class=link href=https://autoptr.top/categories/CC++ target=_blank>CC++</a></li></ul><p style=margin-bottom:2em></p></p></footer></div><script src=/jscss/ajax/libs/jquery/3.3.1/jquery.slim.min.js></script><script src=/jscss/ajax/libs/twitter-bootstrap/3.1.1/js/bootstrap.min.js></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-37ZP0S1L3D"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-37ZP0S1L3D")</script><script src=/jscss/ajax/libs/medium-zoom/1.0.4/medium-zoom.min.js></script><script>const zoom=mediumZoom();zoom.attach("p img")</script></body></html>