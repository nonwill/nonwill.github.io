<!doctype html><html><head><meta charset=utf-8><meta http-equiv=content-language content="zh-cn"><meta name=viewport content="width=device-width,initial-scale=.5"><title>WatchKit</title>
<link rel="shortcut icon" type=image/x-icon href=/media/shortcuticon.png><meta name=keywords content="WatchKit,macOS,C++,Cocoa,Objective-C,Swift,NSHipster"><meta name=description content="WatchKit,macOS,C++,Cocoa,Objective-C,Swift,NSHipster"><script>if(document.domain=="autoptr.pages.dev"){var url=window.location.href,url=url.replace(/autoptr+\.pages+\.dev/g,"www.autoptr.top");window.location.href=url}</script><script src=/jscss/ajax/libs/anchor-js/4.2.0/anchor.min.js></script><script>document.addEventListener("DOMContentLoaded",function(){anchors.options={visible:"hover",placement:"left",icon:"ğŸŒœ"},anchors.add()})</script><link rel=stylesheet href=/css/main.css><link href=/jscss/ajax/libs/highlight.js/9.12.0/styles/atom-one-dark.min.css rel=stylesheet><script src=/jscss/ajax/libs/highlight.js/9.12.0/highlight.min.js></script><script>hljs.initHighlightingOnLoad()</script><style type=text/css>body{background-color:#fbf6ec}</style><script>top.location!=self.location&&(top.location=self.location)</script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?746e6e6d14d22526bf274c834750df53",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script></head><body><script>window.addEventListener("resize",resizeThrottler,!1);var resizeTimeout;function resizeThrottler(){resizeTimeout||(resizeTimeout=setTimeout(function(){resizeTimeout=null,actualResizeHandler()},66))}actualResizeHandler();function actualResizeHandler(){/mobile/i.test(navigator.userAgent)||/android/i.test(navigator.userAgent)?document.body.classList.add("mobile"):document.body.classList.remove("mobile")}</script><a id=mysite-singlepage-top></a><div class=inner style=position:relative><div class=blog-post><h1 class=blog-title align=center><span class=btContent>WatchKit</span><span class=btRight><span title="Author Â· ä½œè€…" class=author>Mattt</span> <span title="Translator Â· ç¿»è¯‘" class=author>Bob Liu</span> <a href=https://github.com/NSHipster/articles-zh-Hans style=color:#007cd5 title="Related or Quoted Post Â· å…³è”æˆ–è½¬è½½å¼•ç”¨çš„æ–‡ç« " target=_blank rel="nofollow noopener noreferrer">&#128681;</a><a href=/tutorials/NSHipster/ title="Back to Topics Â· å›ä¸»é¢˜é¡µ">&#127793;</a></span></h1><p><a href=https://apple.com/watch/>ï£¿á´¡á´€á´›á´„Êœ</a> ä»¤æ¯ä¸ªäººä»¬å…´å¥‹ã€‚å¯¹äºå¼€å‘è€…æ¥è¯´æ›´ç”šã€‚</p><p>å…¥é—¨å­¦ä¹ æœ€å¥½çš„æ–¹æ³•æ˜¯ä»€ä¹ˆï¼Ÿåªæœ‰ <a href=https://developer%E3%80%82apple.com/watchkit/>Apple&rsquo;s WatchKit developer resources</a>ã€‚</p><ul><li>è§‚çœ‹ &ldquo;Getting Started&rdquo; è§†é¢‘â€”å°±åƒæ˜¯èº«å¤„ Mosconeï¼ˆä¸€ä¸ªä¼šå±•ä¸­å¿ƒï¼‰ã€‚</li><li>é˜…è¯» <a href=https://developer.apple.com/library/prerelease/ios/documentation/UserExperience/Conceptual/WatchHumanInterfaceGuidelines/index.html>Human Interface Guidelines</a>â€”è€ƒè™‘åˆ°å®ƒæ˜¯ä½ è®¾è®¡ä½ ç¨‹åºçš„å…ˆå†³æ¡ä»¶ã€‚</li><li>ç²¾è¯»ä»‹ç»æ­¤æ¡†æ¶æ–¹æ–¹é¢é¢çš„ [WatchKit Programming Guide] (<a href=https://developer.apple.com/library/prerelease/ios/documentation/General/Conceptual/WatchKitProgrammingGuide/index.html>https://developer.apple.com/library/prerelease/ios/documentation/General/Conceptual/WatchKitProgrammingGuide/index.html</a>) å’Œ<a href=https://developer.apple.com/library/prerelease/ios/samplecode/WKInterfaceCatalog/Introduction/Intro.html>WKInterfaceCatalog</a>ã€‚</li><li>å½“ä½ æœ€åå‡†å¤‡ç»™ä½ çš„ app å¢åŠ å¯¹æ‰‹è¡¨çš„æ‹“å±•ï¼ŒæŸ¥é˜…ä¸‹ [Lister Sample App] (<a href=https://developer.apple.com/library/prerelease/ios/samplecode/Lister/Introduction/Intro.html>https://developer.apple.com/library/prerelease/ios/samplecode/Lister/Introduction/Intro.html</a>) (ä½¿ç”¨ Objective-C & Swift !)ï¼Œçœ‹æ˜¯å¦‚ä½•åœ¨ä¸€èµ·é€‚é…çš„ã€‚</li></ul><p>è‹¹æœå¼€å‘è€…å…¬å…±èµ„æºã€å¼€å‘å¸ƒé“æ´»åŠ¨ã€WatchKit å¼€å‘å›¢é˜Ÿç»™ WatchKit æ‰“å¥½äº†åŸºç¡€ã€‚å®˜æ–¹çš„èµ„æºæ˜¯æå¥½çš„ã€‚</p><p>å³ä¾¿å¦‚æ­¤ï¼Œåœ¨é˜…è¯»å…¨éƒ¨ä¹‹åä¹‹åï¼Œç”±äºä¸UIKitç›¸å…³è”ï¼Œä¸€äº›ä¸œè¥¿æ˜ å…¥çœ¼å¸˜ã€‚ä»–ä»¬ä¸»è§‚ã€å›ºæ‰§å·±è§çš„ä¸œè¥¿ä¸å¤ªå¥½æ•´ç†æˆæ–‡æ¡£ï¼Œä½†æ˜¯å¯¹äºæ­£åœ¨å­¦ä¹ çš„äººæ¥è¯´ï¼Œå¯èƒ½æ˜¯æœ‰è¶£æˆ–æ˜¯æœ‰ç”¨çš„ã€‚</p><p>æ‰€ä»¥è¿™å‘¨ç»™å¤§å®¶ä»‹ç»ä¸€ä¸ªä» iOS å¼€å‘è€…çš„è§†è§’å¯¹äº WatchKit çš„åˆæ­¥å°è±¡ã€‚</p><hr><p>å½“å¹³å°çš„åˆ¶çº¦æˆä¸ºé™åˆ¶å¼€å‘è€…çš„è§’è‰²çš„æ—¶å€™ï¼ŒWatchKit å€¾å¬äº†æœ€ä¸ºæ—©æœŸçš„ iOS å¼€å‘ã€‚ç›¸æ¯” OS X & AppKit ä¹‹å‰å‚å·®ä¸é½çš„åå¹´ï¼ŒiPhoneOS & UIKit åƒä¸€é˜µæ¸…é£ã€‚Apps ä¹Ÿæ˜¯å°å·§çš„ã€ç®€å•çš„ã€çŸ­å°çš„ã€‚</p><p>åœ¨ç»å†äº†7å¹´æ—¶é—´å’Œè®¸å¤šé‡å¤§ç‰ˆæœ¬çš„å‘å¸ƒï¼Œä» iPhones å’Œ iPads çš„å…¨éƒ¨å°ºå¯¸å’Œå½¢çŠ¶åˆ° ï£¿TV å’Œ CarPlay ï¼ŒiOS å·²ç»æˆé•¿åˆ°åŒ…å«æ— æ•°è®¾å¤‡å‹å·å’Œé…ç½®äº†ã€‚è¿™ä»ç„¶æ˜¯ä¸€ä¸ªä»¤å¼€å‘è€…æƒŠå¼‚çš„ä½“éªŒï¼ˆå¤§éƒ¨åˆ†æ˜¯è¿™æ ·çš„ï¼‰ï¼Œä½†æ˜¯æ„Ÿè§‰é­”åŠ›ä¹Ÿå¤±å»äº†å‰è¿›çš„æ–¹å‘ã€‚</p><blockquote><p><strong>å‚ç…§ç‰©</strong>ï¼š å›å¿†æ˜¯ä¸å¥½çš„ã€‚ è®°å¾—ä»¥å‰é‚£äº›æ—¥å­ï¼Œæ²¡æœ‰ ARCï¼Œæ²¡æœ‰ GCDï¼Œæ²¡æœ‰ Interface Builder å¯¹äº iOS çš„æ”¯æŒï¼Œæ›´åŠ æ²¡æœ‰ Swift ã€‚é‚£æ®µæ—¶é—´å¿…ä¸å¯å°‘çš„å¼€æºåº“ Three20 å’Œ asi-http-request ã€‚é‚£æ—¶å€™å¯¹äº tableview çš„æ»‘åŠ¨å±•ç°çš„å·¥è‰ºæ°´å¹³æ˜¯åœ¨ cell çš„ contentView è°ƒç”¨ <code>drawRect:</code> å‡½æ•°ï¼Œæ‰‹åŠ¨çš„å¡«ä¸Šæ–‡å­—å’Œå›¾ç‰‡ã€‚ç”Ÿæ´»æ˜¯å­¤ç‹¬ã€è´«ç©·ã€è‰°é™©ã€ç²—é‡å’ŒçŸ­æš‚çš„ã€‚</p></blockquote><p>ä¸ç®¡ä½ ä»å“ªé‡Œæ¥ï¼ŒWatchKit çš„ç®€å•å°†ä¼šä»¤äººæ„‰æ‚¦å’Œåº†å¹¸ã€‚</p><h2 id=å’Œuikitç›¸æ¯”è¾ƒ>å’ŒUIKitç›¸æ¯”è¾ƒ</h2><p>è€ƒè™‘åˆ°å¯å…±äº«å’Œåˆ†äº«çš„ç›®æ ‡ï¼ŒWatchKit å…·æœ‰å’Œ UIKit æƒŠäººçš„ç›¸ä¼¼ï¼Œè¿™ä¸€ç‚¹ä¹Ÿä¸ä»¤äººåƒæƒŠã€‚æ‰‹è¡¨ä¸åŒäºæ‰‹æœºå’Œå¹³æ¿ç”µè„‘ï¼Œä»–ä»¬æ”¾åœ¨æ¡Œé¢ä¸Šå¹¶ä¸ç›¸åŒã€‚ä¸€äº›æ¦‚å¿µæ˜¯å¯ä»¥å…±ç”¨çš„ï¼Œä½†æ˜¯æ¯ä¸€ä¸ªæ¦‚å¿µéƒ½ä¼šæœ‰è‡ªå·±ç‹¬ç‰¹çš„ç›®çš„å’Œé™åˆ¶ï¼Œä»¥å½¢æˆä»–ä»¬è‡ªå·±çš„è½¯ä»¶è½®å»“ã€‚</p><p>ä¸ºäº†å¯¹æ¯”ï¼Œè¿™å¼ è¡¨æ ¼æ€ä¹ˆä¾æ® UIKit / Cocoa çš„æ¦‚å¿µå»ç†è§£WatchKitã€‚</p><table><thead><tr><th>WatchKit</th><th>UIKit</th></tr></thead><tbody><tr><td><code>WKInterfaceController</code></td><td><code>UIViewController</code></td></tr><tr><td><code>WKUserNotificationInterfaceController</code></td><td><code>UIApplicationDelegate</code> + <code>UIAlertController</code></td></tr><tr><td><code>WKInterfaceDevice</code></td><td><code>UIDevice</code></td></tr><tr><td><code>WKInterfaceObject</code></td><td><code>UIView</code></td></tr><tr><td><code>WKInterfaceButton</code></td><td><code>UIButton</code></td></tr><tr><td><code>WKInterfaceDate</code></td><td><code>UILabel</code> + <code>NSDateFormatter</code></td></tr><tr><td><code>WKInterfaceGroup</code></td><td><code>UIScrollView</code></td></tr><tr><td><code>WKInterfaceImage</code></td><td><code>UIImageView</code></td></tr><tr><td><code>WKInterfaceLabel</code></td><td><code>UILabel</code></td></tr><tr><td><code>WKInterfaceMap</code></td><td><code>MKMapView</code></td></tr><tr><td><code>WKInterfaceSeparator</code></td><td><code>UITableView.separatorColor</code> / <code>.separatorStyle</code></td></tr><tr><td><code>WKInterfaceSlider</code></td><td><code>UIStepper</code> + <code>UISlider</code></td></tr><tr><td><code>WKInterfaceSwitch</code></td><td><code>UISwitch</code></td></tr><tr><td><code>WKInterfaceTable</code></td><td><code>UITableView</code></td></tr><tr><td><code>WKInterfaceTimer</code></td><td><code>UILabel</code> + <code>NSDateFormatter</code> + <code>NSTimer</code></td></tr></tbody></table><blockquote><p>ä½œä¸ºå‰ç¼€ <a href=https://nshipster.com/namespacing/>namespace prefix</a>ï¼Œ<code>WKInterface</code> åˆ«å‡ºå¿ƒè£ï¼Œä½†æ˜¯ <code>WK</code> æ˜¯ä¼´éšæ–°çš„ <a href=https://nshipster.com/wkwebkit/>WebKit</a>æ¡†æ¶æœ€è¿‘æ‰å‘å¸ƒçš„ã€‚å°½ç®¡æ‰‹è¡¨å¹³å°å¯ä»¥æœ‰ç½‘é¡µè¿˜æœ‰å¾ˆé•¿ä¸€æ®µè·¯è¦èµ°ï¼Œä½†æŠŠä»–ä»¬åŒºåˆ«å¼€æ¥çš„å†³å®šè¿˜æ˜¯éå¸¸æ˜æ™ºçš„ã€‚</p></blockquote><p>å°½ç®¡æœ‰è®¸å¤šçš„é‡å ï¼Œä½†æ˜¯ä¹Ÿä¼šæœ‰å¾ˆå¤šä¸åŒã€‚ç†è§£è¿™å…¶ä¸­çš„åŒºåˆ«æ—¢å¯ä»¥ä¸ºå¦‚ä½•å°† WatchKit åšå¥½æä¾›èµ„æºä¿¡æ¯ï¼Œè¿˜å¯ä»¥æ•™ç»™æˆ‘ä»¬è‹¹æœæ˜¯å¦‚ä½•æ€è€ƒ API å’Œæ—¶é—´å¯æŒç»­è¿›æ­¥çš„ã€‚</p><h3 id=wkinterfacecontroller>WKInterfaceController</h3><p><code>WKInterfaceController</code> åœ¨åœºæ™¯ä¸­ç®¡ç†å…ƒç´ ï¼Œ ç„¶è€Œ <code>UIViewController</code> ç®¡ç†ä¸€ä¸ªé¡µé¢å’Œä»–çš„å­é¡µé¢ã€‚ Interface objects ä¸æ˜¯é¡µé¢ç»„ï¼Œ ä½†å®ƒç¼ºæ‰®æ¼”ç›¸ä¼¼çš„è§’è‰²ã€‚</p><p>ä¸º <code>WKInterfaceController</code> è®¾è®¡çš„åˆå§‹åŒ–ç¨‹åºæ˜¯ <code>initWithContext:</code>ï¼Œ å®ƒæ¥æ”¶ <code>context</code> ä¸ºå‚æ•°ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>override</span> <span style=color:#66d9ef>init</span>(context: AnyObject?) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>super</span>.<span style=color:#66d9ef>init</span>(context: context)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// ...</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>ä»€ä¹ˆæ˜¯ <code>context</code> ? å®ƒæ˜¯ä½ æƒ³è¦çš„ä»»ä½•äº‹æƒ…ï¼š ä¸€ä¸ªæ—¥æœŸï¼Œ ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œ ä¸€ä¸ªæ•°æ®æ¨¡å‹ï¼Œæˆ–è€…ä»€ä¹ˆä¹Ÿä¸æ˜¯ã€‚
<code>context</code> çš„å¼€æ”¾æ€§ä¸€å¼€å§‹å¯èƒ½ä¼šè®©ä½ è¿·æƒ‘ï¼Œä½†æ˜¯å®é™…ä¸Šå®ƒæ˜¯å¯¹äº UIKit é•¿æœŸå­˜åœ¨é—®é¢˜æå‡ºæ¥ä¸€ç§éå¸¸èªæ˜çš„è§£å†³æ–¹å¼-å³è§†å›¾ä¸æ§åˆ¶å™¨ä¹‹é—´å¾ˆéš¾ä¼ é€’ä¿¡æ¯ã€‚åœ¨ <code>UIViewController</code> è¢«å‹æ ˆï¼Œé€€æ ˆï¼Œå±•å‡ºæ—¶å€™ï¼Œæ²¡æœ‰ä¸€ä¸ªæ ‡å‡†ç»Ÿä¸€çš„ä¼ é€’æ•°å€¼çš„æ–¹æ³•ï¼Œå¼€å‘è€…ç»å¸¸é‡è§è‰°éš¾çš„çš„é€‰æ‹©ï¼Œè‡ªå®šä¹‰åˆå§‹å™¨ï¼ˆä¸å®Œå…¨è¢«Storyboardså…¼å®¹ï¼‰ï¼Œå±æ€§è®¾å®šï¼ˆå®¹æ˜“åˆ›å»ºæ§åˆ¶ä¼´éšä¸å®Œæ•´çš„çŠ¶æ€ï¼‰ï¼Œè‡ªå®šä¹‰ä»£ç†ï¼ˆå¦‚æœåšåˆ°æ­£ç¡®ï¼Œè¿‡äºæ­£å¼ï¼‰ï¼Œæˆ–æ˜¯ç”¨é€šçŸ¥ï¼ˆé¢ã€‚ã€‚ã€‚ä¸å¤ªå¥½ï¼‰ã€‚è®¸å¤šåº”ç”¨ä½¿ç”¨ Core Data ä¼ é€’ä¿¡æ¯ï¼Œé€šè¿‡åœ¨ App ä»£ç†é‡Œé¢å­˜å…¥å…¶å¼•ç”¨ <code>managedObjectContext</code> çš„æ¨¡å‹ã€‚</p><p>ä½†æ˜¯ï¼Œæˆ‘èµ°é¢˜äº†ã€‚</p><p>æ€»çš„æ¥è¯´ï¼Œ <code>WKInterfaceController</code> çš„APIä¸æ˜¯é‚£ä¹ˆæœ‰è¿¹å¯å¾ªï¼Œä½†æ˜¯æ²¡æœ‰æ¯”ä»–çš„ç”Ÿå‘½å‘¨æœŸçš„æ–¹æ³•æ›´å¥½è¯´æ˜çš„é—®é¢˜çš„äº†ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#75715e>// </span><span style=color:#75715e>MARK:</span><span style=color:#75715e> - WKInterfaceController</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>override</span> <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>willActivate</span>() {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// ...</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>override</span> <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>didDeactivate</span>() {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// ...</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>é‚£æ­£æ˜¯æƒ³è¦çš„ç‚¹ï¼š2ä¸ªç›¸äº’å¯¹åº”çš„æ–¹æ³•ã€‚ No loading / unloadingï¼Œ no will / did appear / disappearï¼Œ no <code>animated:YES</code> ã€‚æ‰‹è¡¨åº”ç”¨å¿…ç„¶éå¸¸çš„ç®€å•ã€‚iOS è®¾å¤‡é©±åŠ¨åº”ç”¨å’Œæ‰‹è¡¨çš„é€šä¿¡éƒ½æ˜¯è€—æ—¶å’Œè€—ç”µçš„ï¼Œæ‰€æœ‰çš„äº¤äº’æ§åˆ¶å™¨åœºæ™¯çš„åˆå§‹åŒ–éƒ½æ˜¯ä½¿ç”¨åˆå§‹å™¨å’Œ <code>willActivate</code> å°±å…¨éƒ¨å®Œæˆäº†ã€‚ åœ¨æ‰§è¡Œ<code>didDeactivate</code>ä¹‹åï¼Œæ‰‹è¡¨å°†ä¼šå¿½ç•¥é¡µé¢å†…äº¤äº’å…ƒç´ çš„æ›´æ–°ã€‚</p><p>æ‰‹è¡¨çš„åº”ç”¨ä¸æ˜¯åˆ†å±‚ï¼ˆHierarchicalï¼‰å°±æ˜¯åŸºäºé¡µé¢ï¼ˆPage-Basedï¼‰ã€‚è¿™å°±æ˜¯ç†Ÿæ‚‰çš„Xcodeçš„å·¥ç¨‹æ¨¡æ¿ï¼Œä¾‹å¦‚ï¼š&ldquo;Master-Detail Application&rdquo; ï¼Œ &ldquo;Page-Based Application&rdquo; ï¼Œ å’Œ &ldquo;Tabbed Application&rdquo; ï¼Œåªå¯æƒœè®¾è®¡é€‰é¡¹çš„è¢«æ’é™¤åœ¨å¤–ã€‚</p><p>åˆ†å±‚ï¼ˆHierarchicalï¼‰çš„åº”ç”¨é‡Œé¢æœ‰ä¸ªéšè—çš„å¯¼èˆªæ ˆï¼Œ <code>WKInterfaceController</code> å¯ä»¥ç®¡ç† <code>-pushControllerWithName:context:</code> å’Œ <code>-popController</code> æ–¹æ³•ã€‚éœ€è¦æ³¨æ„ä¸€ç‚¹æ˜¯å¦‚ä½•è·å–çš„å­—ç¬¦ä¸²-åœ¨Storyboardé‡Œæ‰€æŒ‡å®šçš„æ§åˆ¶å™¨çš„åç§°-è€Œä¸æ˜¯æ§åˆ¶å™¨å®ä¾‹æœ¬èº«ã€‚</p><p>å¦ä¸€æ–¹é¢ï¼ŒåŸºäºé¡µé¢ï¼ˆPage-Basedï¼‰çš„åº”ç”¨ç±»ä¼¼äºå¯æ¨ªå‘æˆ–è€…å¯çºµå‘æ»šåŠ¨çš„ <code>UIScrollView</code>ï¼Œä¸€äº›é¢„å…ˆåŠ è½½çš„åœºæ™¯éƒ½æ˜¯ç”¨æ§åˆ¶å™¨æ¥ç®¡ç†çš„ã€‚åˆ¤æ–­å“ªä¸ªä½¿ç”¨åœºæ™¯æœ€é€‚åˆä½¿ç”¨åˆ†å±‚ï¼ˆHierarchicalï¼‰è¿˜æ˜¯åŸºäºé¡µé¢ï¼ˆPage-Basedï¼‰çš„äº¤äº’å°†ä¼šååˆ†æœ‰è¶£ã€‚æ²¡æœ‰ä½¿ç”¨è¿‡çœŸå®çš„è®¾å¤‡ï¼Œä»…å‡­çŒœæƒ³ä¹Ÿæ²¡æœ‰å¤ªå¤šçš„çº¿ç´¢å»äº†è§£ã€‚</p><p>æœ€åä¸€ç‚¹ï¼Œæœ‰ä¸€ä¸ªæœ‰è¶£çš„ä¾‹å­ä½¿ç”¨çš„è‹¹æœçš„Swiftç®€å•ä»£ç ï¼Œä½¿ç”¨äº†å†…ç½®ç»“æ„ä½“ï¼ˆinner structsï¼‰ä½œä¸ºStoryboardçš„å¸¸é‡ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-swift data-lang=swift><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>WatchListsInterfaceController</span>: WKInterfaceController<span style=color:#960050;background-color:#1e0010>ï¼Œ</span> ListsControllerDelegate {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>WatchStoryboard</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>let</span> interfaceControllerName = <span style=color:#e6db74>&#34;WatchListsInterfaceController&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>RowTypes</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>let</span> list = <span style=color:#e6db74>&#34;WatchListsInterfaceControllerListRowType&#34;</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>let</span> noLists = <span style=color:#e6db74>&#34;WatchListsInterfaceControllerNoListsRowType&#34;</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>Segues</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>let</span> listSelection = <span style=color:#e6db74>&#34;WatchListsInterfaceControllerListSelectionSegue&#34;</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// ...</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=wkinterfaceobject>WKInterfaceObject</h3><p><code>WKInterfaceObject</code> å¥½åƒ <code>UIView</code> çš„ç¿»è¯‘ï¼ŒåŒ…æ‹¬å±æ€§ <code>alpha</code> ï¼Œ <code>hidden</code> ï¼Œ <code>horizontal</code> & <code>vertical</code> ï¼Œ<code>alignment</code> ï¼Œå’Œ <code>width</code> & <code>height</code>ã€‚</p><p>æœ€æ˜¾è‘—çš„ä¸åŒæ˜¯æ²¡æœ‰äº† <code>frame</code> ã€‚ å–è€Œä»£ä¹‹çš„æ˜¯æ‰‹åŠ¨çš„æŒ‡å®šåæ ‡ç‚¹å’Œè®¾ç½®è‡ªåŠ¨å¸ƒå±€é€‚åº”ï¼ŒWatchKit interface objects åœ¨ç½‘éš”é‡Œæ ¹æ®è¾¹ç¼˜å’Œå„è‡ªçš„é¡ºåºå¸ƒå±€ï¼Œå°±å¥½åƒè¿‡å»ä½¿ç”¨ CSS çš„æ¡†æ¶å·¥ä½œï¼Œå¥½åƒ<a href=http://getbootstrap.com>Bootstrap</a> (æˆ–è€…ä½ æ˜¯ä¸€å Rubyists è¿˜è®°å¾—<a href=http://shoesrb.com>Shoes</a>å—?)ã€‚</p><p>å¦ä¸€äº›ä¸åŒäº Cocoa Touch æ˜¯ï¼Œ<code>WKInterfaceObject</code> ä½¿ç”¨å¯¹è±¡-åŠ¨ä½œï¼ˆ Target-Action ï¼‰ çš„æ–¹æ³•å¯¹æ¯ä¸ªç±»å‹æ§åˆ¶å™¨æ¥è¯´åªéœ€è¦è°ƒç”¨å›ºå®šæ ¼å¼çš„æ–¹æ³•ï¼Œè€Œä¸æ˜¯åŠ¨æ€çš„ä¼ é€’ <code>sender</code> å’Œ <code>UIEvent</code>ã€‚</p><table><thead><tr><th>Object</th><th>Action Method</th></tr></thead><tbody><tr><td>Button</td><td><code>- (IBAction)doButtonAction</code></td></tr><tr><td>Switch</td><td><code>- (IBAction)doSwitchAction:(BOOL)on</code></td></tr><tr><td>Slider</td><td><code>- (IBAction)doSliderAction:(float)value</code></td></tr><tr><td>Table</td><td><code>- (IBAction)doTableRowTapAction:(NSInteger)rowIndex</code></td></tr><tr><td>Menu Item</td><td><code>- (IBAction)doMenuItemAction</code></td></tr></tbody></table><p>ä¸ºäº†æ›´å°ï¼Œ å…³é—­äº†æ§åˆ¶å™¨çš„çŠ¶æ€é›†åˆï¼Œ è¿™ç§æ–¹æ³•æ›´åŠ çš„å¸å¼•äººâ€”æ¯”èµ·è¾“å…¥ <code>UIControlEventTouchUpInside</code> æ›´åŠ ä¼˜ç§€ã€‚</p><h3 id=wkinterfacebutton>WKInterfaceButton</h3><p><code>WKInterfaceButton</code>æ˜¯ä¸€ä¸ªæ¥å£å¯¹è±¡ï¼ˆinterface objectï¼‰ï¼Œå®ƒå¯ä»¥è¢«ç‚¹å‡»æ¥è§¦å‘åŠ¨ä½œã€‚å®ƒçš„å¯ä»¥åŒ…å«æ˜¯å•ä¸€çš„æ–‡æœ¬æ ‡ç­¾æˆ–è€…æ˜¯ä¸€ç»„æ ‡ç­¾ã€‚</p><p>æœ€æ–°çš„éƒ¨åˆ†æ›´æ–°çš„éƒ¨åˆ†-æœ‰èƒ½åŠ›åŒ…å«ä¸€ä¸ªç»„-éå¸¸çš„_å¤§_ã€‚è¿™æ ·é¿å…äº†äººä»¬ä¹‹å‰å¯¹ <code>UIButton</code> çš„æŠ±æ€¨ï¼Œå®ƒä»¬ä½¿ç”¨èµ·æ¥éå¸¸å›°éš¾ï¼Œå¢åŠ å­è§†å›¾å’Œè·å¾—å…¶è§†å›¾ä½ç½®ä»¥åŠæ­£ç¡®çš„äº¤äº’ï¼Œè‡´ä½¿äººä»¬åªå¥½æ”¾å¼ƒï¼Œå¹¶ä¸”å»ä½¿ç”¨ <code>UITapGestureRecognizer</code>ã€‚</p><h3 id=wkinterfacetable>WKInterfaceTable</h3><p>æ‰€æœ‰ä» iOS ä¸­ä¼ æ¥çš„æ¦‚å¿µä¸­ï¼Œåˆ—è¡¨å¯èƒ½æ˜¯å˜åŒ–æœ€å¤§çš„ã€‚<code>UITableView</code> æ˜¯ iPhone ç¨‹åºçš„æ”¯æŸ±ã€‚å› æ­¤ï¼Œä»–ä»¬å½¢æˆäº†ç›¸å½“å¤æ‚åº¦å»å¤„ç†å¤§é‡çš„åº”ç”¨æ•°æ®éœ€æ±‚ï¼Œè¿™äº›æ•°æ®éœ€è¦ç”¨å„ç§æ–¹å¼å»å±•ç°ã€‚ç›¸æ¯”ä¹‹ä¸‹<code>WKInterfaceTable</code>ä¼¼ä¹å¦ä¸€ç•ªæ™¯è±¡ã€‚</p><p>WatchKit åˆ—è¡¨æ²¡æœ‰ sections æˆ–è€… headersï¼Œ æˆ– footersï¼Œ æˆ– editingï¼Œ æˆ– searchingï¼Œ æˆ– data sourcesï¼Œ æˆ– delegatesã€‚ è¡Œåœ¨<code>WKInterfaceController -willActivate</code> æ–¹æ³•ä¹‹å‰è¢«å¡«å……ï¼Œ æ¯è¡Œéƒ½æœ‰ä»–è‡ªå·±å¯¹åº”çš„æ§åˆ¶å™¨(ä¸€ä¸ª <code>NSObject</code> çš„å­ç±»å’Œ ä¸€äº›<code>IBOutlet</code>)ã€‚ <code>WKInterfaceController</code>å¯ä»¥å¯¹åˆ—è¡¨çš„äº¤äº’è¿›è¡Œåé¦ˆï¼Œé€šè¿‡ <code>table:didSelectrowAtIndex:</code> çš„ä»£ç†æ–¹æ³•ï¼Œæˆ–è€…æ˜¯ç”¨ä¹‹å‰æä¾›çš„å¯¹è±¡-åŠ¨ä½œçš„æ–¹æ³•`ã€‚</p><p>å®ƒå¯èƒ½çœ‹èµ·æ¥å’Œä¹‹å‰ååˆ†ä¸åŒï¼Œä½†æ˜¯è¿™ç§æ–¹æ³•ååˆ†é€‚åˆæ‰‹è¡¨ï¼Œå¹¶ä¸”ç›¸æ¯” iOS æ›´åŠ çš„ç›´æ¥ã€‚</p><h3 id=wkinterfacelabel>WKInterfaceLabel</h3><p>ç›¸æ¯”ä¹‹ä¸‹ï¼Œ<code>WKInterface</code> å¯èƒ½æ˜¯ä»iOSä¸­å˜åŒ–æœ€å°çš„ã€‚æ”¯æŒ <code>NSAttributedString</code> ï¼Œè‡ªå®šä¹‰å­—ä½“ä»¥åŠå­—ä½“çš„å°ºå¯¸ï¼Œä»–å‡ ä¹å’Œä½ æ‰€èƒ½çŸ¥é“çš„ä¸€åˆ‡ä¸€æ ·çš„ã€‚</p><h3 id=wkinterfacedate--wkinterfacetimer>WKInterfaceDate & WKInterfaceTimer</h3><p>æˆ‘ä»¬ä¸ä¼šå¿˜è®°å¯¹äºæ‰‹è¡¨æ—¶é—´æ˜¯éå¸¸é‡è¦çš„æ¦‚å¿µã€‚å› æ­¤ï¼ŒWatchKitä»‹ç»äº†ä¸¤ä¸ªæ–°çš„æ¥å£å¯¹è±¡ï¼ˆinterface objectï¼‰ï¼Œä»–ä»¬åœ¨Cocoa æˆ–è€… Cocoa Touch å¹¶å…ˆä¾‹ï¼š<code>WKInterfaceDate</code> å’Œ <code>WKInterfaceTimer</code> ã€‚</p><p><code>WKInterfaceDate</code> æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ ‡ç­¾ï¼Œå®ƒç”¨æ¥å±•ç¤ºç›®å‰çš„æ—¥æœŸæˆ–æ˜¯æ—¶é—´ã€‚<code>WKInterfaceTimer</code> ç›¸ä¼¼ï¼Œé™¤äº†å®ƒå¯ä»¥åˆ°æŒ‡å®šæ—¥æœŸå¹¶ä¸”å€’è®¡æ—¶ã€‚</p><p>ä»¥ä¸Šä¸¤ä¸ªç±»å°±åƒå…¶ä»–çš„ WatchKit é‡Œé¢çš„ç±»ä¸€æ ·ï¼Œç¡®ä¿äº† app çš„è´¨é‡ã€‚è€ƒè™‘åˆ°è¿™äº›ä»»åŠ¡å¯¹äºæ‰‹è¡¨çš„é‡è¦æ€§ï¼Œä»¥åŠèœé¸Ÿç¨‹åºå‘˜åœ¨è¿ç”¨ <code>NSDateFormatter</code> å’Œ <code>NSTimer</code> æ—¶çš„æƒ…å½¢ï¼Œæˆ‘ä»¬ç»ˆäºæƒ³è±¡ä¸€ä¸‹è¿™äº›ç°è±¡éƒ½æ¶ˆé™¤äº†ã€‚</p><h3 id=wkinterfaceslider--wkinterfaceswitch>WKInterfaceSlider & WKInterfaceSwitch</h3><p>æ»‘åŠ¨æ¡å’Œå¼€å…³åº”è¯¥åœ¨æ‰‹è¡¨ä¸Šå›å½’ã€‚æ²¡æœ‰äº†è§¦æ‘¸æ‰‹åŠ¿çš„ç¦åˆ©ï¼Œäº¤äº’å›å½’åˆ°åŸºç¡€ã€‚<em>Tapï¼Œ Tap</em>ï¼Œ <code>On</code> / <code>Off</code>ã€‚ <em>Tapï¼Œ Tap</em>ï¼Œ <code>+</code> / <code>-</code>ã€‚</p><p><code>WKInterfaceSlider</code> å’Œ <code>WKInterfaceSwitch</code> ä¾¿æ˜¾å‡ºé«˜æ°´å‡†å’Œæ˜“è‡ªå®šä¹‰æ€§ã€‚</p><hr><p>å½“ç„¶ï¼Œä»¥ä¸Šæ–‡å­—åªæ˜¯å¯¹WatchKitæµ…æ˜¾çš„æ€è€ƒã€‚å°±åƒæ–‡ç« ä¸€å¼€å§‹æˆ‘å†™åˆ°çš„ï¼Œ<a href=https://developer.apple.com/watchkit/>Apple&rsquo;s official resources for WatchKit</a>åŒ…æ‹¬äº†ä»»ä½•ä½ æƒ³åˆ°çš„äº‹æƒ…ã€‚</p><hr><p>é™¤é<a href=https://nshipster.cn/ target=_blank>å¦æœ‰å£°æ˜</a>ï¼Œæœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ã€Œ<a href=https://creativecommons.org/licenses/by-nc/3.0/cn/ target=_blank>ç½²å-éå•†ä¸šæ€§ä½¿ç”¨ 3.0 ä¸­å›½å¤§é™†</a>ã€è®¸å¯åè®®æˆæƒã€‚</p><ins class=adsbygoogle style=display:block data-ad-client=ca-pub-8922574795542092 data-ad-slot=2802455178 data-ad-format=auto data-full-width-responsive=true></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><footer><p style="margin:0 -3px"><span style="float:left;margin:0 -3px"><a href=#mysite-singlepage-top title="Back to Top Â· å›é¡¶éƒ¨" rel=nofollow>&#127772;2014-12-01 </a>&copy;</span>
<span style="float:right;margin:0 -3px"><a href=https://autoptr.top/license/ title="Copyright &copy; All rights reserved" target=_blank rel=nofollow>&copy; 2026 Mattt ç‰ˆæƒæ‰€æœ‰</a><a href=https://autoptr.top/ title="Back to Home Â· å›é¦–é¡µ">&#127771;</a></span></p><hr><hr><p style="margin:3px 5px"><ul class=tags><span>æ ‡ç­¾:</span><li><a class=link href=https://autoptr.top/tags/C++ target=_blank>C++</a></li><li><a class=link href=https://autoptr.top/tags/nshipster target=_blank>nshipster</a></li><span>&nbsp;&nbsp;</span>
<span>åˆ†ç±»:</span><li><a class=link href=https://autoptr.top/categories/Miscellaneous target=_blank>Miscellaneous</a></li><li><a class=link href=https://autoptr.top/categories/macOS target=_blank>macOS</a></li><li><a class=link href=https://autoptr.top/categories/CC++ target=_blank>CC++</a></li></ul><p style=margin-bottom:2em></p></p></footer></div><script src=/jscss/ajax/libs/jquery/3.3.1/jquery.slim.min.js></script><script src=/jscss/ajax/libs/twitter-bootstrap/3.1.1/js/bootstrap.min.js></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-37ZP0S1L3D"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-37ZP0S1L3D")</script><script src=/jscss/ajax/libs/medium-zoom/1.0.4/medium-zoom.min.js></script><script>const zoom=mediumZoom();zoom.attach("p img")</script></body></html>