<!doctype html><html><head><meta charset=utf-8><meta http-equiv=content-language content="zh-cn"><meta name=viewport content="width=device-width,initial-scale=.5"><title>KVC Collection Operators</title>
<link rel="shortcut icon" type=image/x-icon href=/media/shortcuticon.png><meta name=keywords content="KVC Collection Operators,macOS,C++,Cocoa,Objective-C,Swift,NSHipster"><meta name=description content="KVC Collection Operators,macOS,C++,Cocoa,Objective-C,Swift,NSHipster"><script>if(document.domain=="autoptr.pages.dev"){var url=window.location.href,url=url.replace(/autoptr+\.pages+\.dev/g,"www.autoptr.top");window.location.href=url}</script><script src=/jscss/ajax/libs/anchor-js/4.2.0/anchor.min.js></script><script>document.addEventListener("DOMContentLoaded",function(){anchors.options={visible:"hover",placement:"left",icon:"ğŸŒœ"},anchors.add()})</script><link rel=stylesheet href=/css/main.css><link href=/jscss/ajax/libs/highlight.js/9.12.0/styles/atom-one-dark.min.css rel=stylesheet><script src=/jscss/ajax/libs/highlight.js/9.12.0/highlight.min.js></script><script>hljs.initHighlightingOnLoad()</script><style type=text/css>body{background-color:#fbf6ec}</style><script>top.location!=self.location&&(top.location=self.location)</script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?746e6e6d14d22526bf274c834750df53",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script></head><body><script>window.addEventListener("resize",resizeThrottler,!1);var resizeTimeout;function resizeThrottler(){resizeTimeout||(resizeTimeout=setTimeout(function(){resizeTimeout=null,actualResizeHandler()},66))}actualResizeHandler();function actualResizeHandler(){/mobile/i.test(navigator.userAgent)||/android/i.test(navigator.userAgent)?document.body.classList.add("mobile"):document.body.classList.remove("mobile")}</script><a id=mysite-singlepage-top></a><div class=inner style=position:relative><div class=blog-post><h1 class=blog-title align=center><span class=btContent>KVC Collection Operators</span><span class=btRight><span title="Author Â· ä½œè€…" class=author>Mattt</span> <span title="Translator Â· ç¿»è¯‘" class=author>Candyan</span> <a href=https://github.com/NSHipster/articles-zh-Hans style=color:#007cd5 title="Related or Quoted Post Â· å…³è”æˆ–è½¬è½½å¼•ç”¨çš„æ–‡ç« " target=_blank rel="nofollow noopener noreferrer">&#128681;</a><a href=/tutorials/NSHipster/ title="Back to Topics Â· å›ä¸»é¢˜é¡µ">&#127793;</a></span></h1><p>Ruby çˆ±å¥½è€…æ€»çˆ±å˜²ç¬‘ Objective-C è‡ƒè‚¿çš„è¯­æ³•ã€‚</p><p>å°½ç®¡æ–°çš„<a href=https://nshipster.com/at-compiler-directives/>Object Literals</a>ç‰¹æ€§è®©æˆ‘ä»¬çš„è¯­æ³•ç˜¦äº†å‡ æ–¤ï¼Œä½†é‚£äº›çº¢å¤´å‘çš„æ¶éœ¸ä»¬è¿˜æ€»æ˜¯ç”¨ä»–ä»¬çš„å•è¡Œ<code>map</code>å’ŒèŠ±å“¨çš„<a href=http://pragdave.pragprog.com/pragdave/2005/11/symbolto_proc.html><code>Symbol#to_proc</code></a>æ¥å˜²è®½æˆ‘ä»¬ã€‚</p><p>å®é™…ä¸Šï¼Œä¸€é—¨è¯­è¨€æ˜¯å¦ä¼˜é›…å½’ç»“èµ·æ¥å°±æ˜¯å…¶æ€ä¹ˆæ ·èƒ½æ›´å¥½çš„é¿å…å¾ªç¯ã€‚<code>for</code>ï¼Œ<code>while</code>è¯­å¥æ˜¯ä¸€ç§æ‹–ç´¯ï¼›å³ä½¿æ˜¯<a href=https://developer.apple.com/library/ios/#documentation/cocoa/conceptual/objectivec/Chapters/ocFastEnumeration.html>å¿«é€Ÿæšä¸¾</a>ä¹Ÿä¸€æ ·ã€‚æ— è®ºä½ æ€ä¹ˆæ ·ä½¿ä»–ä»¬çœ‹èµ·æ¥æ›´åŠ çš„å‹å¥½ï¼Œå¾ªç¯ä¾ç„¶æ˜¯ä¸€ä¸ªåœ¨è‡ªç„¶è¯­è¨€ä¸­ç”¨éå¸¸ç®€å•æ–¹å¼æè¿°æ‰€åšäº‹æƒ…çš„ä»£ç å—</p><p>&ldquo;ç»™æˆ‘è¿™ä¸ªåˆ—è¡¨é‡Œé¢æ‰€æœ‰å‘˜å·¥çš„å¹³å‡è–ªé…¬&rdquo;ï¼Œç­‰ç­‰ã€‚ã€‚ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#66d9ef>double</span> totalSalary <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.0</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> (Employee <span style=color:#f92672>*</span>employee <span style=color:#66d9ef>in</span> employees) {
</span></span><span style=display:flex><span>  totalSalary <span style=color:#f92672>+=</span> [employee.salary doubleValue];
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>double</span> averageSalary <span style=color:#f92672>=</span> totalSalary <span style=color:#f92672>/</span> [employees count];
</span></span></code></pre></div><p>â•®(â•¯_â•°)â•­</p><p>å¹¸è¿çš„æ˜¯ï¼Œ<a href=https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/KeyValueCoding/Articles/KeyValueCoding.html>é”®-å€¼ç¼–ç </a>ç»™æˆ‘ä»¬äº†ä¸€ç§æ›´åŠ ç®€æ´çš„ï¼Œå‡ ä¹åƒ Ruby ä¸€æ ·çš„æ–¹å¼æ¥åšè¿™ä»¶äº‹ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>[employees valueForKeyPath:<span style=color:#e6db74>@&#34;@avg.salary&#34;</span>];
</span></span></code></pre></div><p><a href=https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/KeyValueCoding/Articles/CollectionOperators.html%23//apple_ref/doc/uid/20002176-BAJEAIEE>KVC é›†åˆè¿ç®—ç¬¦</a>å…è®¸åœ¨<code>valueForKeyPath:</code>æ–¹æ³•ä¸­ä½¿ç”¨ key path ç¬¦å·åœ¨ä¸€ä¸ªé›†åˆä¸­æ‰§è¡Œæ–¹æ³•ã€‚æ— è®ºä»€ä¹ˆæ—¶å€™ä½ åœ¨ key path ä¸­çœ‹è§äº†<code>@</code>ï¼Œå®ƒéƒ½ä»£è¡¨äº†ä¸€ä¸ªç‰¹å®šçš„é›†åˆæ–¹æ³•ï¼Œå…¶ç»“æœå¯ä»¥è¢«è¿”å›æˆ–è€…é“¾æ¥ï¼Œå°±åƒå…¶ä»–çš„ key path ä¸€æ ·ã€‚</p><p>é›†åˆè¿ç®—ç¬¦ä¼šæ ¹æ®å…¶è¿”å›å€¼çš„ä¸åŒåˆ†ä¸ºä»¥ä¸‹ä¸‰ç§ç±»å‹ï¼š</p><ul><li><strong>ç®€å•çš„é›†åˆè¿ç®—ç¬¦</strong> è¿”å›çš„æ˜¯ strings, number, æˆ–è€… dates</li><li><strong>å¯¹è±¡è¿ç®—ç¬¦</strong> è¿”å›çš„æ˜¯ä¸€ä¸ªæ•°ç»„</li><li><strong>æ•°ç»„å’Œé›†åˆè¿ç®—ç¬¦</strong> è¿”å›çš„æ˜¯ä¸€ä¸ªæ•°ç»„æˆ–è€…é›†åˆ</li></ul><p>è¦ç†è§£å…¶å·¥ä½œåŸç†ï¼Œæœ€å¥½æ–¹å¼å°±æ˜¯å» action é‡Œé¢çœ‹çœ‹ã€‚æƒ³è±¡ä¸€ä¸ª<code>Product</code>ç±»å’Œä¸€ä¸ªç”±ä»¥ä¸‹æ•°æ®æ‰€ç»„æˆçš„<code>products</code>æ•°ç»„ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#66d9ef>@interface</span> <span style=color:#a6e22e>Product</span> : <span style=color:#a6e22e>NSObject</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> NSString <span style=color:#f92672>*</span>name;
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> <span style=color:#66d9ef>double</span> price;
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> NSDate <span style=color:#f92672>*</span>launchedOn;
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span></code></pre></div><blockquote><p>é”®-å€¼ ç¼–ç ä¼šåœ¨å¿…è¦çš„æ—¶å€™æŠŠåŸºæœ¬æ•°æ®ç±»å‹çš„æ•°æ®è‡ªåŠ¨è£…ç®±å’Œæ‹†ç®±åˆ°<code>NSNumber</code>æˆ–è€…<code>NSValue</code>ä¸­æ¥ç¡®ä¿ä¸€åˆ‡å·¥ä½œæ­£å¸¸ã€‚</p></blockquote><table><thead><tr><th>Name</th><th>Price</th><th>Launch Date</th></tr></thead><tbody><tr><td>iPhone 5</td><td>$199</td><td>September 21, 2012</td></tr><tr><td>iPad Mini</td><td>$329</td><td>November 2, 2012</td></tr><tr><td>MacBook Pro</td><td>$1699</td><td>June 11, 2012</td></tr><tr><td>iMac</td><td>$1299</td><td>November 2, 2012</td></tr></tbody></table><h3 id=ç®€å•é›†åˆæ“ä½œç¬¦>ç®€å•é›†åˆæ“ä½œç¬¦</h3><ul><li><code>@count</code>: è¿”å›ä¸€ä¸ªå€¼ä¸ºé›†åˆä¸­å¯¹è±¡æ€»æ•°çš„<code>NSNumber</code>å¯¹è±¡ã€‚</li><li><code>@sum</code>: é¦–å…ˆæŠŠé›†åˆä¸­çš„æ¯ä¸ªå¯¹è±¡éƒ½è½¬æ¢ä¸º<code>double</code>ç±»å‹ï¼Œç„¶åè®¡ç®—å…¶æ€»ï¼Œæœ€åè¿”å›ä¸€ä¸ªå€¼ä¸ºè¿™ä¸ªæ€»å’Œçš„<code>NSNumber</code>å¯¹è±¡ã€‚</li><li><code>@avg</code>: æŠŠé›†åˆä¸­çš„æ¯ä¸ªå¯¹è±¡éƒ½è½¬æ¢ä¸º<code>double</code>ç±»å‹ï¼Œè¿”å›ä¸€ä¸ªå€¼ä¸ºå¹³å‡å€¼çš„<code>NSNumber</code>å¯¹è±¡ã€‚</li><li><code>@max</code>: ä½¿ç”¨<code>compare:</code>æ–¹æ³•æ¥ç¡®å®šæœ€å¤§å€¼ã€‚æ‰€ä»¥ä¸ºäº†è®©å…¶æ­£å¸¸å·¥ä½œï¼Œé›†åˆä¸­æ‰€æœ‰çš„å¯¹è±¡éƒ½å¿…é¡»æ”¯æŒå’Œå¦ä¸€ä¸ªå¯¹è±¡çš„æ¯”è¾ƒã€‚</li><li><code>@min</code>: å’Œ<code>@max</code>ä¸€æ ·ï¼Œä½†æ˜¯è¿”å›çš„æ˜¯é›†åˆä¸­çš„æœ€å°å€¼ã€‚</li></ul><p><em>ä¾‹å¦‚</em>ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>[products valueForKeyPath:<span style=color:#e6db74>@&#34;@count&#34;</span>]; <span style=color:#75715e>// 4
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>[products valueForKeyPath:<span style=color:#e6db74>@&#34;@sum.price&#34;</span>]; <span style=color:#75715e>// 3526.00
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>[products valueForKeyPath:<span style=color:#e6db74>@&#34;@avg.price&#34;</span>]; <span style=color:#75715e>// 881.50
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>[products valueForKeyPath:<span style=color:#e6db74>@&#34;@max.price&#34;</span>]; <span style=color:#75715e>// 1699.00
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>[products valueForKeyPath:<span style=color:#e6db74>@&#34;@min.launchedOn&#34;</span>]; <span style=color:#75715e>// June 11, 2012
</span></span></span></code></pre></div><blockquote><p>Pro æç¤ºï¼šä½ å¯ä»¥ç®€å•çš„é€šè¿‡æŠŠ self ä½œä¸ºæ“ä½œç¬¦åé¢çš„ key path æ¥è·å–ä¸€ä¸ªç”±<code>NSNumber</code>ç»„æˆçš„æ•°ç»„æˆ–è€…é›†åˆçš„æ€»å€¼ï¼Œä¾‹å¦‚<code>[@[@(1), @(2), @(3)] valueForKeyPath:@"@max.self"]</code> (/æ„Ÿè°¢ <a href=https://twitter.com/davandermobile>@davandermobile</a>, æ¥è‡ª <a href=http://objectivesea.tumblr.com/post/34552840247/max-value-nsset-kvc>Objective Sea</a>)</p></blockquote><h3 id=å¯¹è±¡æ“ä½œç¬¦>å¯¹è±¡æ“ä½œç¬¦</h3><p>æƒ³è±¡ä¸‹ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ª<code>inventory</code>æ•°ç»„ï¼Œä»£è¡¨äº†å½“åœ°è‹¹æœå•†åº—çš„å½“å‰åº“å­˜(iPad Mini ä¸è¶³ï¼Œå¹¶ä¸”æ²¡æœ‰æ–°çš„ iMacï¼Œå› ä¸ºè¿˜æ²¡æœ‰å‘è´§)ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>NSArray <span style=color:#f92672>*</span>inventory <span style=color:#f92672>=</span> <span style=color:#ae81ff>@[</span>iPhone5, iPhone5, iPhone5, iPadMini, macBookPro, macBookPro<span style=color:#ae81ff>]</span>;
</span></span></code></pre></div><ul><li><code>@unionOfObjects</code> / <code>@distinctUnionOfObjects</code>: è¿”å›ä¸€ä¸ªç”±æ“ä½œç¬¦å³è¾¹çš„ key path æ‰€æŒ‡å®šçš„å¯¹è±¡å±æ€§ç»„æˆçš„æ•°ç»„ã€‚å…¶ä¸­<code>@distinctUnionOfObjects</code> ä¼šå¯¹æ•°ç»„å»é‡, è€Œä¸” <code>@unionOfObjects</code> ä¸ä¼š.</li></ul><p><em>ä¾‹å¦‚</em>ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>[inventory valueForKeyPath:<span style=color:#e6db74>@&#34;@unionOfObjects.name&#34;</span>]; <span style=color:#75715e>// &#34;iPhone 5&#34;, &#34;iPhone 5&#34;, &#34;iPhone 5&#34;, &#34;iPad Mini&#34;, &#34;MacBook Pro&#34;, &#34;MacBook Pro&#34;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>[inventory valueForKeyPath:<span style=color:#e6db74>@&#34;@distinctUnionOfObjects.name&#34;</span>]; <span style=color:#75715e>// &#34;iPhone 5&#34;, &#34;iPad Mini&#34;, &#34;MacBook Pro&#34;
</span></span></span></code></pre></div><h3 id=æ•°ç»„å’Œé›†åˆæ“ä½œç¬¦>æ•°ç»„å’Œé›†åˆæ“ä½œç¬¦</h3><p>æ•°åˆ™å’Œé›†åˆæ“ä½œç¬¦è·Ÿå¯¹è±¡æ“ä½œç¬¦å¾ˆç›¸ä¼¼ï¼Œåªä¸è¿‡å®ƒæ˜¯åœ¨<code>NSArray</code>å’Œ<code>NSSet</code>æ‰€ç»„æˆçš„é›†åˆä¸­å·¥ä½œçš„ã€‚å¦‚æœæˆ‘ä»¬åšä¸€äº›ä¾‹å¦‚ï¼šæ¯”è¾ƒå‡ ä¸ªå•†åº—ä¸­çš„åº“å­˜ï¼ˆå’Œæˆ‘ä»¬ä¸Šä¸€èŠ‚ç±»ä¼¼çš„<code>appleStoreåº“å­˜</code>å’Œä¹° iPhone 5 å’Œ iPad Mini çš„<code>versizonStoreåº“å­˜</code>ï¼‰è¿™æ ·çš„å·¥ä½œï¼Œè¿™ä¸ªå°±ä¼šå¾ˆæœ‰ç”¨ã€‚</p><ul><li><p><code>@distinctUnionOfArrays</code> / <code>@unionOfArrays</code>: è¿”å›äº†ä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­åŒ…å«è¿™ä¸ªé›†åˆä¸­æ¯ä¸ªæ•°ç»„å¯¹äºè¿™ä¸ªæ“ä½œç¬¦å³é¢æŒ‡å®šçš„ key path è¿›è¡Œæ“ä½œä¹‹åçš„å€¼ã€‚æ­£å¦‚ä½ æœŸæœ›çš„ï¼Œ<code>distinct</code>ç‰ˆæœ¬ä¼šç§»é™¤é‡å¤çš„å€¼ã€‚</p></li><li><p><code>@distinctUnionOfSets</code>: å’Œ<code>@distinctUnionOfArrays</code>å·®ä¸å¤š, ä½†æ˜¯å®ƒæœŸæœ›çš„æ˜¯ä¸€ä¸ªåŒ…å«ç€<code>NSSet</code>å¯¹è±¡çš„<code>NSSet</code>ï¼Œå¹¶ä¸”ä¼šè¿”å›ä¸€ä¸ª<code>NSSet</code>å¯¹è±¡ã€‚å› ä¸ºé›†åˆä¸èƒ½åŒ…å«é‡å¤çš„å€¼ï¼Œæ‰€ä»¥å®ƒåªæœ‰<code>distinct</code>æ“ä½œã€‚</p></li></ul><p><em>ä¾‹å¦‚</em>ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>[<span style=color:#ae81ff>@[</span>appleStoreInventory, verizonStoreInventory<span style=color:#ae81ff>]</span> valueForKeyPath:<span style=color:#e6db74>@&#34;@distinctUnionOfArrays.name&#34;</span>]; <span style=color:#75715e>// &#34;iPhone 5&#34;, &#34;iPad Mini&#34;, &#34;MacBook Pro&#34;
</span></span></span></code></pre></div><hr><h2 id=è¿™å¯èƒ½æ˜¯ä¸€ä¸ªå¯æ€•çš„æƒ³æ³•>è¿™å¯èƒ½æ˜¯ä¸€ä¸ªå¯æ€•çš„æƒ³æ³•</h2><p>ä»¤äººå¥½å¥‡çš„æ˜¯ï¼Œ<a href=https://developer.apple.com/library/ios/#documentation/cocoa/conceptual/KeyValueCoding/Articles/CollectionOperators.html>è‹¹æœçš„ KVC é›†åˆæ“ä½œç¬¦æ–‡æ¡£</a>å†’å‡ºäº†ä¸‹é¢è¿™ä¸ªæç¤ºï¼š</p><blockquote><p><strong>æ³¨æ„</strong>: ç›®å‰è¿˜ä¸èƒ½è‡ªå®šä¹‰é›†åˆæ“ä½œç¬¦ã€‚</p></blockquote><p>è¿™ä¸ªæç¤ºæ˜¯æœ‰æ„ä¹‰çš„ï¼Œå› ä¸ºå¤§å¤šæ•°äººåœ¨ç¬¬ä¸€æ¬¡çœ‹åˆ°é›†åˆè¿ç®—ç¬¦æ—¶éƒ½åœ¨æƒ³è¿™ä¸ªã€‚</p><p>ç„¶è€Œï¼Œäº‹å®è¯æ˜ï¼Œåœ¨æˆ‘ä»¬çš„å°ä¼™ä¼´<code>objc/runtime</code>çš„å¸®åŠ©ä¸‹ï¼Œè¿™ä¸ªå®é™…ä¸Š <em>æ˜¯</em> æœ‰å¯ä»¥èƒ½çš„å®ç°çš„ã€‚</p><p><a href=https://twitter.com/gte>Guy English</a>æœ‰ä¸€ç¯‡<a href=http://kickingbear.com/blog/archives/9>å¾ˆç¥å¥‡çš„æ–‡ç« </a>ï¼Œåœ¨æ–‡ç« ä¸­ï¼Œä»–<a href=https://gist.github.com/4196641#file_kb_collection_extensions.m>swizzles <code>valueForKeyPath:</code></a>æ¥è§£æè‡ªå®šä¹‰çš„<a href=https://en.wikipedia.org/wiki/Domain-specific_language>DSL</a>ï¼Œå…¶æ‰©å±•äº†ä¸€äº›æœ‰è¶£çš„æ•ˆæœï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>NSArray <span style=color:#f92672>*</span>names <span style=color:#f92672>=</span> [allEmployees valueForKeyPath: <span style=color:#e6db74>@&#34;[collect].{daysOff&lt;10}.name&#34;</span>];
</span></span></code></pre></div><p>è¿™æ®µä»£ç å¯ä»¥å¾—åˆ°åªæœ‰ä¼‘äº†ä¸è¶³ 10 å¤©å‡æœŸçš„äººçš„åå­—ï¼ˆæ— ç–‘æ˜¯è¦æé†’ä»–ä»¬å»ä¼‘ä¸ªå‡å§ï¼ï¼‰</p><p>æˆ–è€…ï¼Œæ¥çœ‹ä¸ªå¯ç¬‘çš„æç«¯æƒ…å†µï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>NSArray <span style=color:#f92672>*</span>albumCovers <span style=color:#f92672>=</span> [records valueForKeyPath:<span style=color:#e6db74>@&#34;[collect].{artist like &#39;Bon Iver&#39;}.&lt;NSUnarchiveFromDataTransformerName&gt;.albumCoverImageData&#34;</span>];
</span></span></code></pre></div><p>Ruby å°ä¼™ä¼´ä»¬ç¾¡æ…•å§ã€‚åªç”¨ä¸€è¡Œå°±åœ¨è‰ºäººè®°å½•ä¸­è¿‡æ»¤å‡ºæ¥äº†åå­—å«"Bon Iver"çš„è‰ºäººï¼Œå¹¶ä¸”ç”¨åŒ¹é…åˆ°çš„ä¸“è¾‘çš„ä¸“è¾‘å°é¢çš„å›¾åƒæ•°æ®åˆå§‹åŒ–äº†ä¸€ä¸ª<code>NSImage</code>å¯¹è±¡ã€‚</p><p>è¿™æ˜¯ä¸€ä¸ªå¥½çš„æƒ³æ³•å—ï¼Ÿå¯èƒ½ä¸æ˜¯ã€‚ï¼ˆ<code>NSPredicate</code>æ›´åŠ åˆé€‚ï¼Œå¹¶ä¸”å…¶ä½¿å¾—é€»è¾‘æ›´åŠ ç®€å•ï¼Œæ˜“æ‡‚ï¼‰</p><p>è¿™ä¸ªå¾ˆé…·å—ï¼Ÿå½“ç„¶å•¦ï¼è¿™ä¸ªèªæ˜çš„ä¾‹å­å±•ç¤ºäº† Objective-C DSL å’Œå…ƒç¼–ç¨‹æœªæ¥å¯èƒ½çš„å‘å±•æ–¹å‘ã€‚</p><hr><p>KVC é›†åˆè¿ç®—ç¬¦æ˜¯ä¸€ä¸ªæƒ³èŠ‚çœå‡ è¡Œä»£ç å¹¶åœ¨è¿™ä¸€è¿‡ç¨‹ä¸­çœ‹èµ·æ¥å¾ˆé…·çš„äººå¿…é¡»è¦äº†è§£çš„ã€‚å½“åƒ Ruby è¿™æ ·çš„è„šæœ¬è¯­è¨€è‡ªå¤¸å®ƒçš„å•è¡Œèƒ½åŠ›æ˜¯å¤šä¹ˆçš„çµæ´»æ—¶ï¼Œæˆ‘ä»¬ä¹Ÿè®¸åº”è¯¥èŠ±ä¸€ç‚¹å„¿æ—¶é—´æ¥åº†ç¥ Objective-C ä¸­çš„çº¦æŸå’Œé›†åˆæ“ä½œç¬¦ã€‚æ¯•ç«Ÿï¼ŒRuby éå¸¸éå¸¸æ…¢ï¼Œæˆ‘è¯´çš„å¯¹å—ï¼Ÿ&lt;/troll></p><hr><p>é™¤é<a href=https://nshipster.cn/ target=_blank>å¦æœ‰å£°æ˜</a>ï¼Œæœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ã€Œ<a href=https://creativecommons.org/licenses/by-nc/3.0/cn/ target=_blank>ç½²å-éå•†ä¸šæ€§ä½¿ç”¨ 3.0 ä¸­å›½å¤§é™†</a>ã€è®¸å¯åè®®æˆæƒã€‚</p><ins class=adsbygoogle style=display:block data-ad-client=ca-pub-8922574795542092 data-ad-slot=2802455178 data-ad-format=auto data-full-width-responsive=true></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><footer><p style="margin:0 -3px"><span style="float:left;margin:0 -3px"><a href=#mysite-singlepage-top title="Back to Top Â· å›é¡¶éƒ¨" rel=nofollow>&#127772;2012-12-03 </a>&copy;</span>
<span style="float:right;margin:0 -3px"><a href=https://autoptr.top/license/ title="Copyright &copy; All rights reserved" target=_blank rel=nofollow>&copy; 2026 Mattt ç‰ˆæƒæ‰€æœ‰</a><a href=https://autoptr.top/ title="Back to Home Â· å›é¦–é¡µ">&#127771;</a></span></p><hr><hr><p style="margin:3px 5px"><ul class=tags><span>æ ‡ç­¾:</span><li><a class=link href=https://autoptr.top/tags/C++ target=_blank>C++</a></li><li><a class=link href=https://autoptr.top/tags/nshipster target=_blank>nshipster</a></li><span>&nbsp;&nbsp;</span>
<span>åˆ†ç±»:</span><li><a class=link href=https://autoptr.top/categories/Cocoa target=_blank>Cocoa</a></li><li><a class=link href=https://autoptr.top/categories/macOS target=_blank>macOS</a></li><li><a class=link href=https://autoptr.top/categories/CC++ target=_blank>CC++</a></li></ul><p style=margin-bottom:2em></p></p></footer></div><script src=/jscss/ajax/libs/jquery/3.3.1/jquery.slim.min.js></script><script src=/jscss/ajax/libs/twitter-bootstrap/3.1.1/js/bootstrap.min.js></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-37ZP0S1L3D"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-37ZP0S1L3D")</script><script src=/jscss/ajax/libs/medium-zoom/1.0.4/medium-zoom.min.js></script><script>const zoom=mediumZoom();zoom.attach("p img")</script></body></html>