<!doctype html><html><head><meta charset=utf-8><meta http-equiv=content-language content="zh-cn"><meta name=viewport content="width=device-width,initial-scale=.5"><title>NSSortDescriptor</title>
<link rel="shortcut icon" type=image/x-icon href=/media/shortcuticon.png><meta name=keywords content="NSSortDescriptor,macOS,C++,Cocoa,Objective-C,Swift,NSHipster"><meta name=description content="NSSortDescriptor,macOS,C++,Cocoa,Objective-C,Swift,NSHipster"><script>if(document.domain=="autoptr.pages.dev"){var url=window.location.href,url=url.replace(/autoptr+\.pages+\.dev/g,"www.autoptr.top");window.location.href=url}</script><script src=/jscss/ajax/libs/anchor-js/4.2.0/anchor.min.js></script><script>document.addEventListener("DOMContentLoaded",function(){anchors.options={visible:"hover",placement:"left",icon:"ğŸŒœ"},anchors.add()})</script><link rel=stylesheet href=/css/main.css><link href=/jscss/ajax/libs/highlight.js/9.12.0/styles/atom-one-dark.min.css rel=stylesheet><script src=/jscss/ajax/libs/highlight.js/9.12.0/highlight.min.js></script><script>hljs.initHighlightingOnLoad()</script><style type=text/css>body{background-color:#fbf6ec}</style><script>top.location!=self.location&&(top.location=self.location)</script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?746e6e6d14d22526bf274c834750df53",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script></head><body><script>window.addEventListener("resize",resizeThrottler,!1);var resizeTimeout;function resizeThrottler(){resizeTimeout||(resizeTimeout=setTimeout(function(){resizeTimeout=null,actualResizeHandler()},66))}actualResizeHandler();function actualResizeHandler(){/mobile/i.test(navigator.userAgent)||/android/i.test(navigator.userAgent)?document.body.classList.add("mobile"):document.body.classList.remove("mobile")}</script><a id=mysite-singlepage-top></a><div class=inner style=position:relative><div class=blog-post><h1 class=blog-title align=center><span class=btContent>NSSortDescriptor</span><span class=btRight><span title="Author Â· ä½œè€…" class=author>Mattt</span> <span title="Translator Â· ç¿»è¯‘" class=author>Zihan Xu</span> <a href=https://github.com/NSHipster/articles-zh-Hans style=color:#007cd5 title="Related or Quoted Post Â· å…³è”æˆ–è½¬è½½å¼•ç”¨çš„æ–‡ç« " target=_blank rel="nofollow noopener noreferrer">&#128681;</a><a href=/tutorials/NSHipster/ title="Back to Topics Â· å›ä¸»é¢˜é¡µ">&#127793;</a></span></h1><p>æ’åºï¼šå®ƒæ˜¯CSï¼ˆè®¡ç®—æœºç§‘å­¦ï¼‰å…¥é—¨è¯¾ç¨‹è€ƒè¯•å’Œåˆçº§ç¼–ç¨‹é¢è¯•ç™½æ¿è€ƒé¢˜çš„ä¸»æµè€ƒé¢˜ã€‚ä¸ç®¡æ€ä¹ˆæ ·ï¼Œä½ ä¸Šä¸€æ¬¡çœŸæ­£éœ€è¦çŸ¥é“å¦‚ä½•å®ç°å¿«é€Ÿæ’åºæ˜¯ä»€ä¹ˆæ—¶ä¾¯ï¼Ÿ</p><p>å½“åˆ¶ä½œåº”ç”¨æ—¶ï¼Œä½ åªéœ€è¦å‡è®¾æ’åºæ˜¯å¿«é€Ÿçš„ï¼Œè€Œå®ƒçš„åŠŸç”¨çš„è¡¡é‡æ ‡å‡†æ˜¯ä½ å®Œæˆæ‰€éœ€è¦ä»»åŠ¡çš„å®¹æ˜“ç¨‹åº¦ã€‚ä»è¿™ä¸ªè§’åº¦è€ƒè™‘ï¼ŒFoundationçš„<code>NSSortDescriptor</code>å¤§æ¦‚æ˜¯ä½ èƒ½æ‰¾åˆ°çš„æœ€æœ‰ç”¨ï¼Œæœ€ä¼˜é›…çš„å®ç°äº†ã€‚</p><hr><p><code>NSSortDescriptor</code>ç”±ä¸‹è¿°å‚æ•°ç»„æˆ ï¼š</p><ul><li><code>é”®</code>ï¼šå¯¹äºä¸€ä¸ªç»™å®šçš„é›†åˆï¼Œå¯¹åº”å€¼çš„é”®ä½å°†å¯¹é›†åˆä¸­çš„æ¯ä¸ªå¯¹è±¡è¿›è¡Œæ’åºã€‚</li><li><code>å‡åº</code>ï¼šæŒ‡å®šä¸€ä¸ªé›†åˆæ˜¯å¦æŒ‰ç…§å‡åºï¼ˆ<code>YES</code>ï¼‰è¿˜æ˜¯é™åºï¼ˆ<code>NO</code>ï¼‰è¿›è¡Œæ’åºçš„å¸ƒå°”å€¼ã€‚</li></ul><p>å¦å¤–<code>NSSortDescriptor</code>è¿˜æœ‰ä¸€ä¸ªæ¶‰åŠåˆ°æ’åºçš„å€¼ä¹‹é—´çš„æ¯”è¾ƒçš„ç¬¬ä¸‰ä¸ªå¯é€‰å‚æ•°ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™æ˜¯ä¸€ä¸ªç®€å•çš„ç›¸ç­‰æ€§æ£€æŸ¥ï¼Œä½†å®ƒçš„è¡Œä¸ºå¯ä»¥é€šè¿‡ä¼ é€’ä¸€ä¸ª<code>é€‰æ‹©å™¨</code>ï¼ˆ<code>SEL</code>ï¼‰æˆ–è€…<code>æ¯”è¾ƒå™¨</code>ï¼ˆ<code>NSComparator</code>ï¼‰è€Œå‘ç”Ÿæ”¹å˜ã€‚</p><blockquote><p>ä»»ä½•æ—¶å€™å½“ä½ åœ¨ä¸ºé¢å‘ç”¨æˆ·çš„å­—ç¬¦ä¸²æ’åºæ—¶ï¼Œä¸€å®šè¦åŠ å…¥<code>localizedStandardCompare:</code>é€‰æ‹©å™¨ï¼Œå®ƒå°†æ ¹æ®å½“å‰è¯­è¨€ç¯å¢ƒçš„è¯­è¨€è§„åˆ™è¿›è¡Œæ’åºï¼ˆè¯­è¨€ç¯å¢ƒå¯èƒ½ä¼šæ ¹æ®å¤§å°å†™ï¼Œå˜éŸ³ç¬¦å·ç­‰ç­‰çš„é¡ºåºè€Œå‘ç”Ÿæ”¹å˜ï¼‰ã€‚</p></blockquote><p>æœ‰çš„é›†åˆï¼ˆæ¯”å¦‚<code>NSArray</code>å’Œ<code>NSSet</code>ï¼‰æœ‰ä»¥<code>sortDescriptors</code>ä½œä¸ºå‚æ•°ï¼Œå¯ä»¥è¿”å›æ’è¿‡åºçš„æ•°ç»„çš„æ–¹æ³•ã€‚æ’åºæè¿°ç¬¦æŒ‰é¡ºåºåº”ç”¨ï¼Œæ‰€ä»¥å¦‚æœä¸¤ä¸ªå…ƒç´ ç¢°å·§è¢«æ†ç»‘åœ¨åŒä¸€ä¸ªç‰¹å®šçš„æ’åºæ ‡å‡†ï¼ŒæŸç¼šå°†è¢«åç»­çš„ä»»æ„æè¿°ç¬¦æ‰€æ‰“ç ´ã€‚</p><p>ä¸ºäº†æ›´ç›´è§‚çš„æè¿°ï¼Œå‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ª<code>Person</code>å¯¹è±¡ï¼Œå®ƒå…·æœ‰<code>NSString *</code>ç±»å‹çš„<code>å§“</code>å’Œ<code>å</code>å±æ€§ï¼Œå’Œ<code>NSUInteger</code>ç±»å‹çš„<code>å¹´é¾„</code>å±æ€§ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span><span style=color:#66d9ef>@interface</span> <span style=color:#a6e22e>Person</span> : <span style=color:#a6e22e>NSObject</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> NSString <span style=color:#f92672>*</span>firstName;
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> NSString <span style=color:#f92672>*</span>lastName;
</span></span><span style=display:flex><span><span style=color:#66d9ef>@property</span> NSNumber <span style=color:#f92672>*</span>age;
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@implementation</span> <span style=color:#a6e22e>Person</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- (NSString <span style=color:#f92672>*</span>)<span style=color:#a6e22e>description</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> [NSString stringWithFormat:<span style=color:#e6db74>@&#34;%@ %@&#34;</span>, self.firstName, self.lastName];
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>@end</span>
</span></span></code></pre></div><p>ç»™å®šä»¥ä¸‹æ•°æ®é›†ï¼š</p><table><thead><tr><th><tt>index</tt></th><th>0</th><th>1</th><th>2</th><th>3</th></tr></thead><tbody><tr><td><tt>firstName</tt></td><td>Alice</td><td>Bob</td><td>Charlie</td><td>Quentin</td></tr><tr><td><tt>lastName</tt></td><td>Smith</td><td>Jones</td><td>Smith</td><td>Alberts</td></tr><tr><td><tt>age</tt></td><td>24</td><td>27</td><td>33</td><td>31</td></tr></tbody></table><p>ä»¥ä¸‹æ˜¯å‡ ç§ä½¿ç”¨<code>NSSortDescriptor</code>çš„ä¸åŒç»„åˆæ¥å°†å®ƒä»¬æ’åºçš„æ–¹æ³•ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-objc data-lang=objc><span style=display:flex><span>NSArray <span style=color:#f92672>*</span>firstNames <span style=color:#f92672>=</span> <span style=color:#ae81ff>@[</span> <span style=color:#e6db74>@&#34;Alice&#34;</span>, <span style=color:#e6db74>@&#34;Bob&#34;</span>, <span style=color:#e6db74>@&#34;Charlie&#34;</span>, <span style=color:#e6db74>@&#34;Quentin&#34;</span> <span style=color:#ae81ff>]</span>;
</span></span><span style=display:flex><span>NSArray <span style=color:#f92672>*</span>lastNames <span style=color:#f92672>=</span> <span style=color:#ae81ff>@[</span> <span style=color:#e6db74>@&#34;Smith&#34;</span>, <span style=color:#e6db74>@&#34;Jones&#34;</span>, <span style=color:#e6db74>@&#34;Smith&#34;</span>, <span style=color:#e6db74>@&#34;Alberts&#34;</span> <span style=color:#ae81ff>]</span>;
</span></span><span style=display:flex><span>NSArray <span style=color:#f92672>*</span>ages <span style=color:#f92672>=</span> <span style=color:#ae81ff>@[</span> <span style=color:#ae81ff>@24</span>, <span style=color:#ae81ff>@27</span>, <span style=color:#ae81ff>@33</span>, <span style=color:#ae81ff>@31</span> <span style=color:#ae81ff>]</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>NSMutableArray <span style=color:#f92672>*</span>people <span style=color:#f92672>=</span> [NSMutableArray array];
</span></span><span style=display:flex><span>[firstNames enumerateObjectsUsingBlock:<span style=color:#f92672>^</span>(<span style=color:#66d9ef>id</span> obj, NSUInteger idx, <span style=color:#66d9ef>BOOL</span> <span style=color:#f92672>*</span>stop) {
</span></span><span style=display:flex><span>    Person <span style=color:#f92672>*</span>person <span style=color:#f92672>=</span> [[Person alloc] init];
</span></span><span style=display:flex><span>    person.firstName <span style=color:#f92672>=</span> [firstNames objectAtIndex:idx];
</span></span><span style=display:flex><span>    person.lastName <span style=color:#f92672>=</span> [lastNames objectAtIndex:idx];
</span></span><span style=display:flex><span>    person.age <span style=color:#f92672>=</span> [ages objectAtIndex:idx];
</span></span><span style=display:flex><span>    [people addObject:person];
</span></span><span style=display:flex><span>}];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>NSSortDescriptor <span style=color:#f92672>*</span>firstNameSortDescriptor <span style=color:#f92672>=</span> [NSSortDescriptor sortDescriptorWithKey:<span style=color:#e6db74>@&#34;firstName&#34;</span>
</span></span><span style=display:flex><span>  ascending:YES
</span></span><span style=display:flex><span>  selector:<span style=color:#66d9ef>@selector</span>(localizedStandardCompare:)];
</span></span><span style=display:flex><span>NSSortDescriptor <span style=color:#f92672>*</span>lastNameSortDescriptor <span style=color:#f92672>=</span> [NSSortDescriptor sortDescriptorWithKey:<span style=color:#e6db74>@&#34;lastName&#34;</span>
</span></span><span style=display:flex><span>  ascending:YES
</span></span><span style=display:flex><span>  selector:<span style=color:#66d9ef>@selector</span>(localizedStandardCompare:)];
</span></span><span style=display:flex><span>NSSortDescriptor <span style=color:#f92672>*</span>ageSortDescriptor <span style=color:#f92672>=</span> [NSSortDescriptor sortDescriptorWithKey:<span style=color:#e6db74>@&#34;age&#34;</span>
</span></span><span style=display:flex><span>  ascending:NO];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;By age: %@&#34;</span>, [people sortedArrayUsingDescriptors:<span style=color:#ae81ff>@[</span>ageSortDescriptor<span style=color:#ae81ff>]</span>]);
</span></span><span style=display:flex><span><span style=color:#75715e>// &#34;Charlie Smith&#34;, &#34;Quentin Alberts&#34;, &#34;Bob Jones&#34;, &#34;Alice Smith&#34;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;By first name: %@&#34;</span>, [people sortedArrayUsingDescriptors:<span style=color:#ae81ff>@[</span>firstNameSortDescriptor<span style=color:#ae81ff>]</span>]);
</span></span><span style=display:flex><span><span style=color:#75715e>// &#34;Alice Smith&#34;, &#34;Bob Jones&#34;, &#34;Charlie Smith&#34;, &#34;Quentin Alberts&#34;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>NSLog(<span style=color:#e6db74>@&#34;By last name, first name: %@&#34;</span>, [people sortedArrayUsingDescriptors:<span style=color:#ae81ff>@[</span>lastNameSortDescriptor, firstNameSortDescriptor<span style=color:#ae81ff>]</span>]);
</span></span><span style=display:flex><span><span style=color:#75715e>// &#34;Quentin Alberts&#34;, &#34;Bob Jones&#34;, &#34;Alice Smith&#34;, &#34;Charlie Smith&#34;
</span></span></span></code></pre></div><hr><p><code>NSSortDescriptor</code>åœ¨Foundationå’Œå…¶ä»–ç³»ç»Ÿæ¡†æ¶ä¸­éšå¤„å¯è§ï¼Œå®ƒåœ¨Core Dataä¸­å‘æŒ¥ç€æå…¶é‡è¦çš„ä½œç”¨ã€‚å¦‚æœä½ è‡ªå·±çš„ç±»éœ€è¦å®šä¹‰æ’åºé¡ºåºï¼Œè¯·æŒ‰ç…§æƒ¯ä¾‹åˆç†è®¾ç½®<code>sortDescriptors</code>å‚æ•°ã€‚</p><p>å› ä¸ºï¼Œåœ¨ç°å®ä¸­ï¼Œä½ åº”è¯¥ä»¥å•†ä¸šé€»è¾‘æ¥æ€è€ƒå®ƒï¼Œè€Œä¸æ˜¯ç”¨æ•°å­¦å…¬å¼æˆ–è€…æ˜ å°„åŒ–ç®€å‡½æ•°æ¥è€ƒé‡å®ƒã€‚åœ¨è¿™ä¸€æ–¹é¢ï¼Œ<code>NSSortDescriptor</code>æ˜¯ä¸€ä¸ªå¤§çŒç¯®ï¼Œä»¥è‡³äºæ¯å½“ä½ èµ°å‡ºObjective-Cå’ŒCocoaçš„ä¸–ç•Œæ—¶éƒ½ä¼šæ€å¿µå®ƒã€‚</p><hr><p>é™¤é<a href=https://nshipster.cn/ target=_blank>å¦æœ‰å£°æ˜</a>ï¼Œæœ¬æ–‡é‡‡ç”¨çŸ¥è¯†å…±äº«ã€Œ<a href=https://creativecommons.org/licenses/by-nc/3.0/cn/ target=_blank>ç½²å-éå•†ä¸šæ€§ä½¿ç”¨ 3.0 ä¸­å›½å¤§é™†</a>ã€è®¸å¯åè®®æˆæƒã€‚</p><ins class=adsbygoogle style=display:block data-ad-client=ca-pub-8922574795542092 data-ad-slot=2802455178 data-ad-format=auto data-full-width-responsive=true></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><footer><p style="margin:0 -3px"><span style="float:left;margin:0 -3px"><a href=#mysite-singlepage-top title="Back to Top Â· å›é¡¶éƒ¨" rel=nofollow>&#127772;2012-07-24 </a>&copy;</span>
<span style="float:right;margin:0 -3px"><a href=https://autoptr.top/license/ title="Copyright &copy; All rights reserved" target=_blank rel=nofollow>&copy; 2026 Mattt ç‰ˆæƒæ‰€æœ‰</a><a href=https://autoptr.top/ title="Back to Home Â· å›é¦–é¡µ">&#127771;</a></span></p><hr><hr><p style="margin:3px 5px"><ul class=tags><span>æ ‡ç­¾:</span><li><a class=link href=https://autoptr.top/tags/C++ target=_blank>C++</a></li><li><a class=link href=https://autoptr.top/tags/nshipster target=_blank>nshipster</a></li><span>&nbsp;&nbsp;</span>
<span>åˆ†ç±»:</span><li><a class=link href=https://autoptr.top/categories/Cocoa target=_blank>Cocoa</a></li><li><a class=link href=https://autoptr.top/categories/macOS target=_blank>macOS</a></li><li><a class=link href=https://autoptr.top/categories/CC++ target=_blank>CC++</a></li></ul><p style=margin-bottom:2em></p></p></footer></div><script src=/jscss/ajax/libs/jquery/3.3.1/jquery.slim.min.js></script><script src=/jscss/ajax/libs/twitter-bootstrap/3.1.1/js/bootstrap.min.js></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-37ZP0S1L3D"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-37ZP0S1L3D")</script><script src=/jscss/ajax/libs/medium-zoom/1.0.4/medium-zoom.min.js></script><script>const zoom=mediumZoom();zoom.attach("p img")</script></body></html>